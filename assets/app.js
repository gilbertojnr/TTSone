var pw=Object.defineProperty;var yw=(Ji,zn,Jn)=>zn in Ji?pw(Ji,zn,{enumerable:!0,configurable:!0,writable:!0,value:Jn}):Ji[zn]=Jn;var hn=(Ji,zn,Jn)=>yw(Ji,typeof zn!="symbol"?zn+"":zn,Jn);(function(){"use strict";function Ji(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zn={exports:{}},Jn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function m1(){if(gm)return Jn;gm=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Jn.Fragment=e,Jn.jsx=i,Jn.jsxs=i,Jn}var pm;function g1(){return pm||(pm=1,zn.exports=m1()),zn.exports}var T=g1(),Gc={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function p1(){if(ym)return _t;ym=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),N=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,nt={};function mt(V,X,et){this.props=V,this.context=X,this.refs=nt,this.updater=et||Z}mt.prototype.isReactComponent={},mt.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},mt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function gt(){}gt.prototype=mt.prototype;function Et(V,X,et){this.props=V,this.context=X,this.refs=nt,this.updater=et||Z}var Bt=Et.prototype=new gt;Bt.constructor=Et,J(Bt,mt.prototype),Bt.isPureReactComponent=!0;var Ft=Array.isArray;function zt(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function w(V,X,et){var st=et.ref;return{$$typeof:r,type:V,key:X,ref:st!==void 0?st:null,props:et}}function O(V,X){return w(V.type,X,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function j(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(et){return X[et]})}var R=/\/+/g;function Wt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?j(""+V.key):X.toString(36)}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(zt,zt):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,X,et,st,pt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var jt=!1;if(V===null)jt=!0;else switch(St){case"bigint":case"string":case"number":jt=!0;break;case"object":switch(V.$$typeof){case r:case e:jt=!0;break;case b:return jt=V._init,G(jt(V._payload),X,et,st,pt)}}if(jt)return pt=pt(V),jt=st===""?"."+Wt(V,0):st,Ft(pt)?(et="",jt!=null&&(et=jt.replace(R,"$&/")+"/"),G(pt,X,et,"",function(as){return as})):pt!=null&&(I(pt)&&(pt=O(pt,et+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+jt)),X.push(pt)),1;jt=0;var Me=st===""?".":st+":";if(Ft(V))for(var se=0;se<V.length;se++)st=V[se],St=Me+Wt(st,se),jt+=G(st,X,et,St,pt);else if(se=P(V),typeof se=="function")for(V=se.call(V),se=0;!(st=V.next()).done;)st=st.value,St=Me+Wt(st,se++),jt+=G(st,X,et,St,pt);else if(St==="object"){if(typeof V.then=="function")return G(Ie(V),X,et,st,pt);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return jt}function tt(V,X,et){if(V==null)return V;var st=[],pt=0;return G(V,st,"","",function(St){return X.call(et,St,pt++)}),st}function ht(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(et){(V._status===0||V._status===-1)&&(V._status=1,V._result=et)},function(et){(V._status===0||V._status===-1)&&(V._status=2,V._result=et)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var kt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Gt={map:tt,forEach:function(V,X,et){tt(V,function(){X.apply(this,arguments)},et)},count:function(V){var X=0;return tt(V,function(){X++}),X},toArray:function(V){return tt(V,function(X){return X})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=A,_t.Children=Gt,_t.Component=mt,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=Et,_t.StrictMode=s,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,X,et){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=J({},V.props),pt=V.key;if(X!=null)for(St in X.key!==void 0&&(pt=""+X.key),X)!x.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(st[St]=X[St]);var St=arguments.length-2;if(St===1)st.children=et;else if(1<St){for(var jt=Array(St),Me=0;Me<St;Me++)jt[Me]=arguments[Me+2];st.children=jt}return w(V.type,pt,st)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},_t.createElement=function(V,X,et){var st,pt={},St=null;if(X!=null)for(st in X.key!==void 0&&(St=""+X.key),X)x.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=X[st]);var jt=arguments.length-2;if(jt===1)pt.children=et;else if(1<jt){for(var Me=Array(jt),se=0;se<jt;se++)Me[se]=arguments[se+2];pt.children=Me}if(V&&V.defaultProps)for(st in jt=V.defaultProps,jt)pt[st]===void 0&&(pt[st]=jt[st]);return w(V,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:p,render:V}},_t.isValidElement=I,_t.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ht}},_t.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},_t.startTransition=function(V){var X=D.T,et={};D.T=et;try{var st=V(),pt=D.S;pt!==null&&pt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(zt,kt)}catch(St){kt(St)}finally{X!==null&&et.types!==null&&(X.types=et.types),D.T=X}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(V){return D.H.use(V)},_t.useActionState=function(V,X,et){return D.H.useActionState(V,X,et)},_t.useCallback=function(V,X){return D.H.useCallback(V,X)},_t.useContext=function(V){return D.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,X){return D.H.useDeferredValue(V,X)},_t.useEffect=function(V,X){return D.H.useEffect(V,X)},_t.useEffectEvent=function(V){return D.H.useEffectEvent(V)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(V,X,et){return D.H.useImperativeHandle(V,X,et)},_t.useInsertionEffect=function(V,X){return D.H.useInsertionEffect(V,X)},_t.useLayoutEffect=function(V,X){return D.H.useLayoutEffect(V,X)},_t.useMemo=function(V,X){return D.H.useMemo(V,X)},_t.useOptimistic=function(V,X){return D.H.useOptimistic(V,X)},_t.useReducer=function(V,X,et){return D.H.useReducer(V,X,et)},_t.useRef=function(V){return D.H.useRef(V)},_t.useState=function(V){return D.H.useState(V)},_t.useSyncExternalStore=function(V,X,et){return D.H.useSyncExternalStore(V,X,et)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.3",_t}var _m;function Qc(){return _m||(_m=1,Gc.exports=p1()),Gc.exports}var lt=Qc();const y1=Ji(lt);var Yc={exports:{}},Gr={},Kc={exports:{}},Xc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function _1(){return vm||(vm=1,(function(r){function e(G,tt){var ht=G.length;G.push(tt);t:for(;0<ht;){var kt=ht-1>>>1,Gt=G[kt];if(0<o(Gt,tt))G[kt]=tt,G[ht]=Gt,ht=kt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var tt=G[0],ht=G.pop();if(ht!==tt){G[0]=ht;t:for(var kt=0,Gt=G.length,V=Gt>>>1;kt<V;){var X=2*(kt+1)-1,et=G[X],st=X+1,pt=G[st];if(0>o(et,ht))st<Gt&&0>o(pt,et)?(G[kt]=pt,G[st]=ht,kt=st):(G[kt]=et,G[X]=ht,kt=X);else if(st<Gt&&0>o(pt,ht))G[kt]=pt,G[st]=ht,kt=st;else break t}}return tt}function o(G,tt){var ht=G.sortIndex-tt.sortIndex;return ht!==0?ht:G.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],b=1,A=null,N=3,P=!1,Z=!1,J=!1,nt=!1,mt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,Et=typeof setImmediate<"u"?setImmediate:null;function Bt(G){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=G)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function Ft(G){if(J=!1,Bt(G),!Z)if(i(v)!==null)Z=!0,zt||(zt=!0,j());else{var tt=i(_);tt!==null&&Ie(Ft,tt.startTime-G)}}var zt=!1,D=-1,x=5,w=-1;function O(){return nt?!0:!(r.unstable_now()-w<x)}function I(){if(nt=!1,zt){var G=r.unstable_now();w=G;var tt=!0;try{t:{Z=!1,J&&(J=!1,gt(D),D=-1),P=!0;var ht=N;try{e:{for(Bt(G),A=i(v);A!==null&&!(A.expirationTime>G&&O());){var kt=A.callback;if(typeof kt=="function"){A.callback=null,N=A.priorityLevel;var Gt=kt(A.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){A.callback=Gt,Bt(G),tt=!0;break e}A===i(v)&&s(v),Bt(G)}else s(v);A=i(v)}if(A!==null)tt=!0;else{var V=i(_);V!==null&&Ie(Ft,V.startTime-G),tt=!1}}break t}finally{A=null,N=ht,P=!1}tt=void 0}}finally{tt?j():zt=!1}}}var j;if(typeof Et=="function")j=function(){Et(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Wt=R.port2;R.port1.onmessage=I,j=function(){Wt.postMessage(null)}}else j=function(){mt(I,0)};function Ie(G,tt){D=mt(function(){G(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var tt=3;break;default:tt=N}var ht=N;N=tt;try{return G()}finally{N=ht}},r.unstable_requestPaint=function(){nt=!0},r.unstable_runWithPriority=function(G,tt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=N;N=G;try{return tt()}finally{N=ht}},r.unstable_scheduleCallback=function(G,tt,ht){var kt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?kt+ht:kt):ht=kt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,G={id:b++,callback:tt,priorityLevel:G,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>kt?(G.sortIndex=ht,e(_,G),i(v)===null&&G===i(_)&&(J?(gt(D),D=-1):J=!0,Ie(Ft,ht-kt))):(G.sortIndex=Gt,e(v,G),Z||P||(Z=!0,zt||(zt=!0,j()))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var tt=N;return function(){var ht=N;N=tt;try{return G.apply(this,arguments)}finally{N=ht}}}})(Xc)),Xc}var Em;function v1(){return Em||(Em=1,Kc.exports=_1()),Kc.exports}var $c={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function E1(){if(Tm)return Ke;Tm=1;var r=Qc();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(v,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,b)},Ke.flushSync=function(v){var _=d.T,b=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=b,s.d.f()}},Ke.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ke.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ke.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:P}):b==="script"&&s.d.X(v,{crossOrigin:A,integrity:N,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ke.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=p(b,_.crossOrigin);s.d.L(v,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(v,_){if(typeof v=="string")if(_){var b=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ke.requestFormReset=function(v){s.d.r(v)},Ke.unstable_batchedUpdates=function(v,_){return v(_)},Ke.useFormState=function(v,_,b){return d.H.useFormState(v,_,b)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var bm;function T1(){if(bm)return $c.exports;bm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$c.exports=E1(),$c.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sm;function b1(){if(Sm)return Gr;Sm=1;var r=v1(),e=Qc(),i=T1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),Et=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Wt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case mt:return"Profiler";case nt:return"StrictMode";case Ft:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case Et:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:Wt(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return Wt(t(n))}catch{}}return null}var Ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},kt=[],Gt=-1;function V(t){return{current:t}}function X(t){0>Gt||(t.current=kt[Gt],kt[Gt]=null,Gt--)}function et(t,n){Gt++,kt[Gt]=t.current,t.current=n}var st=V(null),pt=V(null),St=V(null),jt=V(null);function Me(t,n){switch(et(St,n),et(pt,t),et(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kv(n),t=Lv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(st),et(st,t)}function se(){X(st),X(pt),X(St)}function as(t){t.memoizedState!==null&&et(jt,t);var n=st.current,a=Lv(n,t.type);n!==a&&(et(pt,t),et(st,a))}function er(t){pt.current===t&&(X(st),X(pt)),jt.current===t&&(X(jt),bo._currentValue=ht)}var nr,ir;function ri(t){if(nr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);nr=n&&n[1]||"",ir=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+t+ir}var Tl=!1;function ss(t,n){if(!t||Tl)return"";Tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){B=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),U=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===U.length)for(l=C.length-1,c=U.length-1;1<=l&&0<=c&&C[l]!==U[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==U[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==U[c]){var F=`
`+C[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Tl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ri(a):""}function bl(t,n){switch(t.tag){case 26:case 27:case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return t.child!==n&&n!==null?ri("Suspense Fallback"):ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return ri("Activity");default:return""}}function Sl(t){try{var n="",a=null;do n+=bl(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,ha=r.unstable_cancelCallback,yf=r.unstable_shouldYield,pu=r.unstable_requestPaint,We=r.unstable_now,rs=r.unstable_getCurrentPriorityLevel,Al=r.unstable_ImmediatePriority,xl=r.unstable_UserBlockingPriority,fa=r.unstable_NormalPriority,_f=r.unstable_LowPriority,yu=r.unstable_IdlePriority,_u=r.log,vu=r.unstable_setDisableYieldValue,Bn=null,qe=null;function Sn(t){if(typeof _u=="function"&&vu(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Bn,t)}catch{}}var de=Math.clz32?Math.clz32:Tu,Eu=Math.log,ar=Math.LN2;function Tu(t){return t>>>=0,t===0?32:31-(Eu(t)/ar|0)|0}var li=256,ls=262144,Te=4194304;function oi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=oi(l):(g&=E,g!==0?c=oi(g):a||(a=E&~t,a!==0&&(c=oi(a))))):(E=l&~f,E!==0?c=oi(E):g!==0?c=oi(g):a||(a=l&~t,a!==0&&(c=oi(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function vf(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var t=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),t}function ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function os(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ef(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,U=t.hiddenUpdates;for(a=g&~a;0<a;){var F=31-de(a),Y=1<<F;E[F]=0,C[F]=-1;var B=U[F];if(B!==null)for(U[F]=null,F=0;F<B.length;F++){var H=B[F];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&us(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function us(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-de(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function wl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-de(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Rl(t,n){var a=n&-n;return a=(a&42)!==0?1:cs(a),(a&(t.suspendedLanes|n))!==0?0:a}function cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:l1(t.type))}function qn(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var Hn=Math.random().toString(36).slice(2),be="__reactFiber$"+Hn,ze="__reactProps$"+Hn,hi="__reactContainer$"+Hn,sr="__reactEvents$"+Hn,Tf="__reactListeners$"+Hn,Au="__reactHandles$"+Hn,xu="__reactResources$"+Hn,fi="__reactMarker$"+Hn;function rr(t){delete t[be],delete t[ze],delete t[sr],delete t[Tf],delete t[Au]}function di(t){var n=t[be];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hi]||a[be]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Gv(t);t!==null;){if(a=t[be])return a;t=Gv(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[be]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function mi(t){var n=t[xu];return n||(n=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Se(t){t[fi]=!0}var Nl=new Set,Cl={};function gi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(Cl[t]=n,t=0;t<n.length;t++)Nl.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Ml={};function wu(t){return Ee.call(Ml,t)?!0:Ee.call(Il,t)?!1:Dl.test(t)?Ml[t]=!0:(Il[t]=!0,!1)}function lr(t,n,a){if(wu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function dn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Ae(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function da(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Qt(t){if(!t._valueTracker){var n=da(t)?"checked":"value";t._valueTracker=Vl(t,n,""+t[n])}}function hs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=da(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fs=/[\n"\\]/g;function an(t){return t.replace(fs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ke(n)):t.value!==""+ke(n)&&(t.value=""+ke(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Ol(t,g,ke(n)):a!=null?Ol(t,g,ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ke(E):t.removeAttribute("name")}function Ru(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(t);return}a=a!=null?""+ke(a):"",n=n!=null?""+ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Qt(t)}function Ol(t,n,a){n==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ma(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Nu(t,n,a){if(n!=null&&(n=""+ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ke(a):""}function ga(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qt(t)}function sn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jl(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Cu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function zl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&jl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&jl(t,f,n[f])}function ur(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(t){return pa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var kl=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,_i=null;function ds(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(or(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ze]||null;if(!c)throw Error(s(90));or(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&hs(l)}break t;case"textarea":Nu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ma(t,!!a.multiple,n,!1)}}}var hr=!1;function _a(t,n,a){if(hr)return t(n,a);hr=!0;try{var l=t(n);return l}finally{if(hr=!1,(ya!==null||_i!==null)&&(Sc(),ya&&(n=ya,t=_i,_i=ya=null,ds(n),t)))for(n=0;n<t.length;n++)ds(t[n])}}function Gn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ms=!1}var vi=null,Ll=null,gs=null;function Ul(){if(gs)return gs;var t,n=Ll,a=n.length,l,c="value"in vi?vi.value:vi.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return gs=c.slice(t,1<l?1-l:void 0)}function ps(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Oi(){return!0}function Qn(){return!1}function He(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Qn,this.isPropagationStopped=Qn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=He(ji),va=A({},ji,{view:0,detail:0}),Bl=He(va),Ea,fr,Ti,dr=A({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Ea=t.screenX-Ti.screenX,fr=t.screenY-Ti.screenY):fr=Ea=0,Ti=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:fr}}),Pl=He(dr),ys=A({},dr,{dataTransfer:0}),Iu=He(ys),Mu=A({},va,{relatedTarget:0}),_s=He(Mu),ql=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=He(ql),mr=A({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=He(mr),ju=A({},ji,{data:0}),bi=He(ju),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lu[t])?!!n[t]:!1}function Ta(){return Uu}var tn=A({},va,{key:function(t){if(t.key){var n=zu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(t){return t.type==="keypress"?ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=He(tn),Pu=A({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=He(Pu),u=A({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),m=He(u),y=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=He(y),k=A({},dr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=He(k),W=A({},ji,{newState:0,oldState:0}),Tt=He(W),me=[9,13,27,32],Pt=wn&&"CompositionEvent"in window,re=null;wn&&"documentMode"in document&&(re=document.documentMode);var Rn=wn&&"TextEvent"in window&&!re,Si=wn&&(!Pt||re&&8<re&&11>=re),Yn=" ",Kn=!1;function vs(t,n){switch(t){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pr=!1;function BA(t,n){switch(t){case"compositionend":return gr(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Kn?null:t;default:return null}}function PA(t,n){if(pr)return t==="compositionend"||!Pt&&vs(t,n)?(t=Ul(),gs=Ll=vi=null,pr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!qA[t.type]:n==="textarea"}function Xy(t,n,a,l){ya?_i?_i.push(l):_i=[l]:ya=l,n=Dc(n,"onChange"),0<n.length&&(a=new Ei("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Hl=null,Fl=null;function HA(t){Iv(t,0)}function qu(t){var n=fn(t);if(hs(n))return t}function $y(t,n){if(t==="change")return n}var Zy=!1;if(wn){var bf;if(wn){var Sf="oninput"in document;if(!Sf){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),Sf=typeof Jy.oninput=="function"}bf=Sf}else bf=!1;Zy=bf&&(!document.documentMode||9<document.documentMode)}function Wy(){Hl&&(Hl.detachEvent("onpropertychange",t0),Fl=Hl=null)}function t0(t){if(t.propertyName==="value"&&qu(Fl)){var n=[];Xy(n,Fl,t,xn(t)),_a(HA,n)}}function FA(t,n,a){t==="focusin"?(Wy(),Hl=n,Fl=a,Hl.attachEvent("onpropertychange",t0)):t==="focusout"&&Wy()}function GA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(Fl)}function QA(t,n){if(t==="click")return qu(n)}function YA(t,n){if(t==="input"||t==="change")return qu(n)}function KA(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:KA;function Gl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ee.call(n,c)||!mn(t[c],n[c]))return!1}return!0}function e0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function n0(t,n){var a=e0(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=e0(a)}}function i0(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?i0(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function a0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=yi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=yi(t.document)}return n}function Af(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var XA=wn&&"documentMode"in document&&11>=document.documentMode,yr=null,xf=null,Ql=null,wf=!1;function s0(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||yr==null||yr!==yi(l)||(l=yr,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ql&&Gl(Ql,l)||(Ql=l,l=Dc(xf,"onSelect"),0<l.length&&(n=new Ei("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=yr)))}function Es(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var _r={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Rf={},r0={};wn&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function Ts(t){if(Rf[t])return Rf[t];if(!_r[t])return t;var n=_r[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in r0)return Rf[t]=n[a];return t}var l0=Ts("animationend"),o0=Ts("animationiteration"),u0=Ts("animationstart"),$A=Ts("transitionrun"),ZA=Ts("transitionstart"),JA=Ts("transitioncancel"),c0=Ts("transitionend"),h0=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Xn(t,n){h0.set(t,n),gi(n,[t])}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],vr=0,Cf=0;function Fu(){for(var t=vr,n=Cf=vr=0;n<t;){var a=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var c=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&f0(a,c,f)}}function Gu(t,n,a,l){Nn[vr++]=t,Nn[vr++]=n,Nn[vr++]=a,Nn[vr++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Df(t,n,a,l){return Gu(t,n,a,l),Qu(t)}function bs(t,n){return Gu(t,null,null,n),Qu(t)}function f0(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-de(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Qu(t){if(50<go)throw go=0,Ud=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Er={};function WA(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,a,l){return new WA(t,n,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,n){var a=t.alternate;return a===null?(a=gn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function d0(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yu(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")If(t)&&(g=1);else if(typeof t=="string")g=aw(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=gn(31,a,n,c),t.elementType=w,t.lanes=f,t;case J:return Ss(a.children,c,f,n);case nt:g=8,c|=24;break;case mt:return t=gn(12,a,n,c|2),t.elementType=mt,t.lanes=f,t;case Ft:return t=gn(13,a,n,c),t.elementType=Ft,t.lanes=f,t;case zt:return t=gn(19,a,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Et:g=10;break t;case gt:g=9;break t;case Bt:g=11;break t;case D:g=14;break t;case x:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=gn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Ss(t,n,a,l){return t=gn(7,t,l,n),t.lanes=a,t}function Mf(t,n,a){return t=gn(6,t,null,n),t.lanes=a,t}function m0(t){var n=gn(18,null,null,0);return n.stateNode=t,n}function Vf(t,n,a){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var g0=new WeakMap;function Cn(t,n){if(typeof t=="object"&&t!==null){var a=g0.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Sl(n)},g0.set(t,n),n)}return{value:t,source:n,stack:Sl(n)}}var Tr=[],br=0,Ku=null,Yl=0,Dn=[],In=0,ba=null,Ai=1,xi="";function Li(t,n){Tr[br++]=Yl,Tr[br++]=Ku,Ku=t,Yl=n}function p0(t,n,a){Dn[In++]=Ai,Dn[In++]=xi,Dn[In++]=ba,ba=t;var l=Ai;t=xi;var c=32-de(l)-1;l&=~(1<<c),a+=1;var f=32-de(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ai=1<<32-de(n)+c|a<<c|l,xi=f+t}else Ai=1<<f|a<<c|l,xi=t}function Of(t){t.return!==null&&(Li(t,1),p0(t,1,0))}function jf(t){for(;t===Ku;)Ku=Tr[--br],Tr[br]=null,Yl=Tr[--br],Tr[br]=null;for(;t===ba;)ba=Dn[--In],Dn[In]=null,xi=Dn[--In],Dn[In]=null,Ai=Dn[--In],Dn[In]=null}function y0(t,n){Dn[In++]=Ai,Dn[In++]=xi,Dn[In++]=ba,Ai=n.id,xi=n.overflow,ba=t}var Fe=null,ie=null,Mt=!1,Sa=null,Mn=!1,zf=Error(s(519));function Aa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Cn(n,t)),zf}function _0(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[be]=t,n[ze]=l,a){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(a=0;a<yo.length;a++)wt(yo[a],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),Ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),ga(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jv(n.textContent,a)?(l.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),l.onScroll!=null&&wt("scroll",n),l.onScrollEnd!=null&&wt("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Aa(t,!0)}function v0(t){for(Fe=t.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Fe=Fe.return}}function Sr(t){if(t!==Fe)return!1;if(!Mt)return v0(t),Mt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&ie&&Aa(t),v0(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ie=Fv(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ie=Fv(t)}else n===27?(n=ie,La(t.type)?(t=sm,sm=null,ie=t):ie=n):ie=Fe?On(t.stateNode.nextSibling):null;return!0}function As(){ie=Fe=null,Mt=!1}function kf(){var t=Sa;return t!==null&&(un===null?un=t:un.push.apply(un,t),Sa=null),t}function Kl(t){Sa===null?Sa=[t]:Sa.push(t)}var Lf=V(null),xs=null,Ui=null;function xa(t,n,a){et(Lf,n._currentValue),n._currentValue=a}function Bi(t){t._currentValue=Lf.current,X(Lf)}function Uf(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Bf(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Uf(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Uf(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ar(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;mn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===jt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(bo):t=[bo])}c=c.return}t!==null&&Bf(n,t,a,l),n.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){xs=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return E0(xs,t)}function $u(t,n){return xs===null&&ws(t),E0(t,n)}function E0(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return a}var tx=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},ex=r.unstable_scheduleCallback,nx=r.unstable_NormalPriority,xe={$$typeof:Et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pf(){return{controller:new tx,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&ex(nx,function(){t.controller.abort()})}var $l=null,qf=0,xr=0,wr=null;function ix(t,n){if($l===null){var a=$l=[];qf=0,xr=Gd(),wr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,n.then(T0,T0),n}function T0(){if(--qf===0&&$l!==null){wr!==null&&(wr.status="fulfilled");var t=$l;$l=null,xr=0,wr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function ax(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var b0=G.S;G.S=function(t,n){sv=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ix(t,n),b0!==null&&b0(t,n)};var Rs=V(null);function Hf(){var t=Rs.current;return t!==null?t:te.pooledCache}function Zu(t,n){n===null?et(Rs,Rs.current):et(Rs,n.pool)}function S0(){var t=Hf();return t===null?null:{parent:xe._currentValue,pool:t}}var Rr=Error(s(460)),Ff=Error(s(474)),Ju=Error(s(542)),Wu={then:function(){}};function A0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function x0(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,R0(t),t;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,R0(t),t}throw Cs=n,Rr}}function Ns(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Cs=a,Rr):a}}var Cs=null;function w0(){if(Cs===null)throw Error(s(459));var t=Cs;return Cs=null,t}function R0(t){if(t===Rr||t===Ju)throw Error(s(483))}var Nr=null,Zl=0;function tc(t){var n=Zl;return Zl+=1,Nr===null&&(Nr=[]),x0(Nr,t,n)}function Jl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ec(t,n){throw n.$$typeof===N?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function N0(t){function n(z,M){if(t){var L=z.deletions;L===null?(z.deletions=[M],z.flags|=16):L.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=ki(z,M),z.index=0,z.sibling=null,z}function f(z,M,L){return z.index=L,t?(L=z.alternate,L!==null?(L=L.index,L<M?(z.flags|=67108866,M):L):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function g(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,L,Q){return M===null||M.tag!==6?(M=Mf(L,z.mode,Q),M.return=z,M):(M=c(M,L),M.return=z,M)}function C(z,M,L,Q){var ct=L.type;return ct===J?F(z,M,L.props.children,Q,L.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===x&&Ns(ct)===M.type)?(M=c(M,L.props),Jl(M,L),M.return=z,M):(M=Yu(L.type,L.key,L.props,null,z.mode,Q),Jl(M,L),M.return=z,M)}function U(z,M,L,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Vf(L,z.mode,Q),M.return=z,M):(M=c(M,L.children||[]),M.return=z,M)}function F(z,M,L,Q,ct){return M===null||M.tag!==7?(M=Ss(L,z.mode,Q,ct),M.return=z,M):(M=c(M,L),M.return=z,M)}function Y(z,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Mf(""+M,z.mode,L),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return L=Yu(M.type,M.key,M.props,null,z.mode,L),Jl(L,M),L.return=z,L;case Z:return M=Vf(M,z.mode,L),M.return=z,M;case x:return M=Ns(M),Y(z,M,L)}if(Ie(M)||j(M))return M=Ss(M,z.mode,L,null),M.return=z,M;if(typeof M.then=="function")return Y(z,tc(M),L);if(M.$$typeof===Et)return Y(z,$u(z,M),L);ec(z,M)}return null}function B(z,M,L,Q){var ct=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(z,M,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return L.key===ct?C(z,M,L,Q):null;case Z:return L.key===ct?U(z,M,L,Q):null;case x:return L=Ns(L),B(z,M,L,Q)}if(Ie(L)||j(L))return ct!==null?null:F(z,M,L,Q,null);if(typeof L.then=="function")return B(z,M,tc(L),Q);if(L.$$typeof===Et)return B(z,M,$u(z,L),Q);ec(z,L)}return null}function H(z,M,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(L)||null,E(M,z,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return z=z.get(Q.key===null?L:Q.key)||null,C(M,z,Q,ct);case Z:return z=z.get(Q.key===null?L:Q.key)||null,U(M,z,Q,ct);case x:return Q=Ns(Q),H(z,M,L,Q,ct)}if(Ie(Q)||j(Q))return z=z.get(L)||null,F(M,z,Q,ct,null);if(typeof Q.then=="function")return H(z,M,L,tc(Q),ct);if(Q.$$typeof===Et)return H(z,M,L,$u(M,Q),ct);ec(M,Q)}return null}function rt(z,M,L,Q){for(var ct=null,Lt=null,ot=M,At=M=0,It=null;ot!==null&&At<L.length;At++){ot.index>At?(It=ot,ot=null):It=ot.sibling;var Ut=B(z,ot,L[At],Q);if(Ut===null){ot===null&&(ot=It);break}t&&ot&&Ut.alternate===null&&n(z,ot),M=f(Ut,M,At),Lt===null?ct=Ut:Lt.sibling=Ut,Lt=Ut,ot=It}if(At===L.length)return a(z,ot),Mt&&Li(z,At),ct;if(ot===null){for(;At<L.length;At++)ot=Y(z,L[At],Q),ot!==null&&(M=f(ot,M,At),Lt===null?ct=ot:Lt.sibling=ot,Lt=ot);return Mt&&Li(z,At),ct}for(ot=l(ot);At<L.length;At++)It=H(ot,z,At,L[At],Q),It!==null&&(t&&It.alternate!==null&&ot.delete(It.key===null?At:It.key),M=f(It,M,At),Lt===null?ct=It:Lt.sibling=It,Lt=It);return t&&ot.forEach(function(Ha){return n(z,Ha)}),Mt&&Li(z,At),ct}function ft(z,M,L,Q){if(L==null)throw Error(s(151));for(var ct=null,Lt=null,ot=M,At=M=0,It=null,Ut=L.next();ot!==null&&!Ut.done;At++,Ut=L.next()){ot.index>At?(It=ot,ot=null):It=ot.sibling;var Ha=B(z,ot,Ut.value,Q);if(Ha===null){ot===null&&(ot=It);break}t&&ot&&Ha.alternate===null&&n(z,ot),M=f(Ha,M,At),Lt===null?ct=Ha:Lt.sibling=Ha,Lt=Ha,ot=It}if(Ut.done)return a(z,ot),Mt&&Li(z,At),ct;if(ot===null){for(;!Ut.done;At++,Ut=L.next())Ut=Y(z,Ut.value,Q),Ut!==null&&(M=f(Ut,M,At),Lt===null?ct=Ut:Lt.sibling=Ut,Lt=Ut);return Mt&&Li(z,At),ct}for(ot=l(ot);!Ut.done;At++,Ut=L.next())Ut=H(ot,z,At,Ut.value,Q),Ut!==null&&(t&&Ut.alternate!==null&&ot.delete(Ut.key===null?At:Ut.key),M=f(Ut,M,At),Lt===null?ct=Ut:Lt.sibling=Ut,Lt=Ut);return t&&ot.forEach(function(gw){return n(z,gw)}),Mt&&Li(z,At),ct}function Jt(z,M,L,Q){if(typeof L=="object"&&L!==null&&L.type===J&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case P:t:{for(var ct=L.key;M!==null;){if(M.key===ct){if(ct=L.type,ct===J){if(M.tag===7){a(z,M.sibling),Q=c(M,L.props.children),Q.return=z,z=Q;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===x&&Ns(ct)===M.type){a(z,M.sibling),Q=c(M,L.props),Jl(Q,L),Q.return=z,z=Q;break t}a(z,M);break}else n(z,M);M=M.sibling}L.type===J?(Q=Ss(L.props.children,z.mode,Q,L.key),Q.return=z,z=Q):(Q=Yu(L.type,L.key,L.props,null,z.mode,Q),Jl(Q,L),Q.return=z,z=Q)}return g(z);case Z:t:{for(ct=L.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(z,M.sibling),Q=c(M,L.children||[]),Q.return=z,z=Q;break t}else{a(z,M);break}else n(z,M);M=M.sibling}Q=Vf(L,z.mode,Q),Q.return=z,z=Q}return g(z);case x:return L=Ns(L),Jt(z,M,L,Q)}if(Ie(L))return rt(z,M,L,Q);if(j(L)){if(ct=j(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),ft(z,M,L,Q)}if(typeof L.then=="function")return Jt(z,M,tc(L),Q);if(L.$$typeof===Et)return Jt(z,M,$u(z,L),Q);ec(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(z,M.sibling),Q=c(M,L),Q.return=z,z=Q):(a(z,M),Q=Mf(L,z.mode,Q),Q.return=z,z=Q),g(z)):a(z,M)}return function(z,M,L,Q){try{Zl=0;var ct=Jt(z,M,L,Q);return Nr=null,ct}catch(ot){if(ot===Rr||ot===Ju)throw ot;var Lt=gn(29,ot,null,z.mode);return Lt.lanes=Q,Lt.return=z,Lt}finally{}}}var Ds=N0(!0),C0=N0(!1),wa=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ra(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Na(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Qu(t),f0(t,null,a),n}return Gu(t,l,n,a),Qu(t)}function Wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,wl(t,a)}}function Yf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Kf=!1;function to(){if(Kf){var t=wr;if(t!==null)throw t}}function eo(t,n,a,l){Kf=!1;var c=t.updateQueue;wa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,U=C.next;C.next=null,g===null?f=U:g.next=U,g=C;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=U:E.next=U,F.lastBaseUpdate=C))}if(f!==null){var Y=c.baseState;g=0,F=U=C=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Dt&B)===B:(l&B)===B){B!==0&&B===xr&&(Kf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,ft=E;B=n;var Jt=a;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){Y=rt.call(Jt,Y,B);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,B=typeof rt=="function"?rt.call(Jt,Y,B):rt,B==null)break t;Y=A({},Y,B);break t;case 2:wa=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=c.callbacks,H===null?c.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(U=F=H,C=Y):F=F.next=H,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;H=E,E=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);F===null&&(C=Y),c.baseState=C,c.firstBaseUpdate=U,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Va|=g,t.lanes=g,t.memoizedState=Y}}function D0(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function I0(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)D0(a[t],n)}var Cr=V(null),nc=V(0);function M0(t,n){t=Xi,et(nc,t),et(Cr,n),Xi=t|n.baseLanes}function Xf(){et(nc,Xi),et(Cr,Cr.current)}function $f(){Xi=nc.current,X(Cr),X(nc)}var pn=V(null),Vn=null;function Ca(t){var n=t.alternate;et(ge,ge.current&1),et(pn,t),Vn===null&&(n===null||Cr.current!==null||n.memoizedState!==null)&&(Vn=t)}function Zf(t){et(ge,ge.current),et(pn,t),Vn===null&&(Vn=t)}function V0(t){t.tag===22?(et(ge,ge.current),et(pn,t),Vn===null&&(Vn=t)):Da()}function Da(){et(ge,ge.current),et(pn,pn.current)}function yn(t){X(pn),Vn===t&&(Vn=null),X(ge)}var ge=V(0);function ic(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||am(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,bt=null,$t=null,we=null,ac=!1,Dr=!1,Is=!1,sc=0,no=0,Ir=null,sx=0;function ce(){throw Error(s(321))}function Jf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!mn(t[a],n[a]))return!1;return!0}function Wf(t,n,a,l,c,f){return Pi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?p_:md,Is=!1,f=a(l,c),Is=!1,Dr&&(f=j0(n,a,l,c)),O0(t),f}function O0(t){G.H=so;var n=$t!==null&&$t.next!==null;if(Pi=0,we=$t=bt=null,ac=!1,no=0,Ir=null,n)throw Error(s(300));t===null||Re||(t=t.dependencies,t!==null&&Xu(t)&&(Re=!0))}function j0(t,n,a,l){bt=t;var c=0;do{if(Dr&&(Ir=null),no=0,Dr=!1,25<=c)throw Error(s(301));if(c+=1,we=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=y_,f=n(a,l)}while(Dr);return f}function rx(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?io(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(bt.flags|=1024),n}function td(){var t=sc!==0;return sc=0,t}function ed(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function nd(t){if(ac){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ac=!1}Pi=0,we=$t=bt=null,Dr=!1,no=sc=0,Ir=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?bt.memoizedState=we=t:we=we.next=t,we}function pe(){if($t===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=we===null?bt.memoizedState:we.next;if(n!==null)we=n,$t=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?bt.memoizedState=we=t:we=we.next=t}return we}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(t){var n=no;return no+=1,Ir===null&&(Ir=[]),t=x0(Ir,t,n),n=bt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?p_:md),t}function lc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return io(t);if(t.$$typeof===Et)return Ge(t)}throw Error(s(438,String(t)))}function id(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=rc(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function qi(t,n){return typeof n=="function"?n(t):n}function oc(t){var n=pe();return ad(n,$t,t)}function ad(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,C=null,U=n,F=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(Dt&Y)===Y:(Pi&Y)===Y){var B=U.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===xr&&(F=!0);else if((Pi&B)===B){U=U.next,B===xr&&(F=!0);continue}else Y={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=Y,g=f):C=C.next=Y,bt.lanes|=B,Va|=B;Y=U.action,Is&&a(f,Y),f=U.hasEagerState?U.eagerState:a(f,Y)}else B={lane:Y,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(E=C=B,g=f):C=C.next=B,bt.lanes|=Y,Va|=Y;U=U.next}while(U!==null&&U!==n);if(C===null?g=f:C.next=E,!mn(f,t.memoizedState)&&(Re=!0,F&&(a=wr,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);mn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function z0(t,n,a){var l=bt,c=pe(),f=Mt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!mn(($t||c).memoizedState,a);if(g&&(c.memoizedState=a,Re=!0),c=c.queue,od(U0.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Mr(9,{destroy:void 0},L0.bind(null,l,c,a,n),null),te===null)throw Error(s(349));f||(Pi&127)!==0||k0(l,n,a)}return a}function k0(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=rc(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function L0(t,n,a,l){n.value=a,n.getSnapshot=l,B0(n)&&P0(t)}function U0(t,n,a){return a(function(){B0(n)&&P0(t)})}function B0(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!mn(t,a)}catch{return!0}}function P0(t){var n=bs(t,2);n!==null&&cn(n,t,2)}function rd(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),Is){Sn(!0);try{a()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},n}function q0(t,n,a,l){return t.baseState=a,ad(t,$t,typeof l=="function"?l:qi)}function lx(t,n,a,l,c){if(hc(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,H0(n,f)):(f.next=a.next,n.pending=a.next=f)}}function H0(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=a(c,l),C=G.S;C!==null&&C(g,E),F0(t,n,E)}catch(U){ld(t,n,U)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(c,l),F0(t,n,f)}catch(U){ld(t,n,U)}}function F0(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){G0(t,n,l)},function(l){return ld(t,n,l)}):G0(t,n,a)}function G0(t,n,a){n.status="fulfilled",n.value=a,Q0(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,H0(t,a)))}function ld(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Q0(n),n=n.next;while(n!==l)}t.action=null}function Q0(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Y0(t,n){return n}function K0(t,n){if(Mt){var a=te.formState;if(a!==null){t:{var l=bt;if(Mt){if(ie){e:{for(var c=ie,f=Mn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ie=On(c.nextSibling),l=c.data==="F!";break t}}Aa(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:n},a.queue=l,a=d_.bind(null,bt,l),l.dispatch=a,l=rd(!1),f=dd.bind(null,bt,!1,l.queue),l=en(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=lx.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function X0(t){var n=pe();return $0(n,$t,t)}function $0(t,n,a){if(n=ad(t,n,Y0)[0],t=oc(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=io(n)}catch(g){throw g===Rr?Ju:g}else l=n;n=pe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Mr(9,{destroy:void 0},ox.bind(null,c,a),null)),[l,f,t]}function ox(t,n){t.action=n}function Z0(t){var n=pe(),a=$t;if(a!==null)return $0(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Mr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=rc(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function J0(){return pe().memoizedState}function uc(t,n,a,l){var c=en();bt.flags|=t,c.memoizedState=Mr(1|n,{destroy:void 0},a,l===void 0?null:l)}function cc(t,n,a,l){var c=pe();l=l===void 0?null:l;var f=c.memoizedState.inst;$t!==null&&l!==null&&Jf(l,$t.memoizedState.deps)?c.memoizedState=Mr(n,f,a,l):(bt.flags|=t,c.memoizedState=Mr(1|n,f,a,l))}function W0(t,n){uc(8390656,8,t,n)}function od(t,n){cc(2048,8,t,n)}function ux(t){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=rc(),bt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function t_(t){var n=pe().memoizedState;return ux({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function e_(t,n){return cc(4,2,t,n)}function n_(t,n){return cc(4,4,t,n)}function i_(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function a_(t,n,a){a=a!=null?a.concat([t]):null,cc(4,4,i_.bind(null,n,t),a)}function ud(){}function s_(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Jf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function r_(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Jf(n,l[1]))return l[0];if(l=t(),Is){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l}function cd(t,n,a){return a===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=lv(),bt.lanes|=t,Va|=t,a)}function l_(t,n,a,l){return mn(a,n)?a:Cr.current!==null?(t=cd(t,a,l),mn(t,n)||(Re=!0),t):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(Re=!0,t.memoizedState=a):(t=lv(),bt.lanes|=t,Va|=t,n)}function o_(t,n,a,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,dd(t,!1,n,a);try{var C=c(),U=G.S;if(U!==null&&U(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=ax(C,l);ao(t,n,F,En(t))}else ao(t,n,l,En(t))}catch(Y){ao(t,n,{then:function(){},status:"rejected",reason:Y},En())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function cx(){}function hd(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=u_(t).queue;o_(t,c,n,ht,a===null?cx:function(){return c_(t),a(l)})}function u_(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function c_(t){var n=u_(t);n.next===null&&(n=t.alternate.memoizedState),ao(t,n.next.queue,{},En())}function fd(){return Ge(bo)}function h_(){return pe().memoizedState}function f_(){return pe().memoizedState}function hx(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=En();t=Ra(a);var l=Na(n,t,a);l!==null&&(cn(l,n,a),Wl(l,n,a)),n={cache:Pf()},t.payload=n;return}n=n.return}}function fx(t,n,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?m_(n,a):(a=Df(t,n,a,l),a!==null&&(cn(a,t,l),g_(a,n,l)))}function d_(t,n,a){var l=En();ao(t,n,a,l)}function ao(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))m_(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,mn(E,g))return Gu(t,n,c,0),te===null&&Fu(),!1}catch{}finally{}if(a=Df(t,n,c,l),a!==null)return cn(a,t,l),g_(a,n,l),!0}return!1}function dd(t,n,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(n)throw Error(s(479))}else n=Df(t,a,l,2),n!==null&&cn(n,t,2)}function hc(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function m_(t,n){Dr=ac=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function g_(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,wl(t,a)}}var so={readContext:Ge,use:lc,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};so.useEffectEvent=ce;var p_={readContext:Ge,use:lc,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:W0,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,uc(4194308,4,i_.bind(null,n,t),a)},useLayoutEffect:function(t,n){return uc(4194308,4,t,n)},useInsertionEffect:function(t,n){uc(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var l=t();if(Is){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=en();if(a!==void 0){var c=a(n);if(Is){Sn(!0);try{a(n)}finally{Sn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=fx.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=rd(t);var n=t.queue,a=d_.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,n){var a=en();return cd(a,t,n)},useTransition:function(){var t=rd(!1);return t=o_.bind(null,bt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=en();if(Mt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(Dt&127)!==0||k0(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,W0(U0.bind(null,l,f,t),[t]),l.flags|=2048,Mr(9,{destroy:void 0},L0.bind(null,l,f,a,n),null),a},useId:function(){var t=en(),n=te.identifierPrefix;if(Mt){var a=xi,l=Ai;a=(l&~(1<<32-de(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=sc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=sx++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:fd,useFormState:K0,useActionState:K0,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=dd.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:id,useCacheRefresh:function(){return en().memoizedState=hx.bind(null,bt)},useEffectEvent:function(t){var n=en(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:Ge,use:lc,useCallback:s_,useContext:Ge,useEffect:od,useImperativeHandle:a_,useInsertionEffect:e_,useLayoutEffect:n_,useMemo:r_,useReducer:oc,useRef:J0,useState:function(){return oc(qi)},useDebugValue:ud,useDeferredValue:function(t,n){var a=pe();return l_(a,$t.memoizedState,t,n)},useTransition:function(){var t=oc(qi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:z0,useId:h_,useHostTransitionStatus:fd,useFormState:X0,useActionState:X0,useOptimistic:function(t,n){var a=pe();return q0(a,$t,t,n)},useMemoCache:id,useCacheRefresh:f_};md.useEffectEvent=t_;var y_={readContext:Ge,use:lc,useCallback:s_,useContext:Ge,useEffect:od,useImperativeHandle:a_,useInsertionEffect:e_,useLayoutEffect:n_,useMemo:r_,useReducer:sd,useRef:J0,useState:function(){return sd(qi)},useDebugValue:ud,useDeferredValue:function(t,n){var a=pe();return $t===null?cd(a,t,n):l_(a,$t.memoizedState,t,n)},useTransition:function(){var t=sd(qi)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:z0,useId:h_,useHostTransitionStatus:fd,useFormState:Z0,useActionState:Z0,useOptimistic:function(t,n){var a=pe();return $t!==null?q0(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:f_};y_.useEffectEvent=t_;function gd(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=En(),c=Ra(l);c.payload=n,a!=null&&(c.callback=a),n=Na(t,c,l),n!==null&&(cn(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=En(),c=Ra(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Na(t,c,l),n!==null&&(cn(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=En(),l=Ra(a);l.tag=2,n!=null&&(l.callback=n),n=Na(t,l,a),n!==null&&(cn(n,t,a),Wl(n,t,a))}};function __(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Gl(a,l)||!Gl(c,f):!0}function v_(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&pd.enqueueReplaceState(n,n.state,null)}function Ms(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function E_(t){Hu(t)}function T_(t){console.error(t)}function b_(t){Hu(t)}function fc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function S_(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function yd(t,n,a){return a=Ra(a),a.tag=3,a.payload={element:null},a.callback=function(){fc(t,n)},a}function A_(t){return t=Ra(t),t.tag=3,t}function x_(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){S_(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){S_(n,a,l),typeof c!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function dx(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Ar(n,a,c,!0),a=pn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Ac():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Wu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),qd(t,l,c)),!1;case 22:return a.flags|=65536,l===Wu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),qd(t,l,c)),!1}throw Error(s(435,a.tag))}return qd(t,l,c),Ac(),!1}if(Mt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==zf&&(t=Error(s(422),{cause:l}),Kl(Cn(t,a)))):(l!==zf&&(n=Error(s(423),{cause:l}),Kl(Cn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Cn(l,a),c=yd(t.stateNode,l,c),Yf(t,c),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:l});if(f=Cn(f,a),mo===null?mo=[f]:mo.push(f),he!==4&&(he=2),n===null)return!0;l=Cn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=yd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Oa===null||!Oa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=A_(c),x_(c,t,a,l),Yf(a,c),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),Re=!1;function Qe(t,n,a,l){n.child=t===null?C0(n,null,a,l):Ds(n,t.child,a,l)}function w_(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ws(n),l=Wf(t,n,a,g,f,c),E=td(),t!==null&&!Re?(ed(t,n,c),Hi(t,n,c)):(Mt&&E&&Of(n),n.flags|=1,Qe(t,n,l,c),n.child)}function R_(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!If(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,N_(t,n,f,l,c)):(t=Yu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!wd(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(g,l)&&t.ref===n.ref)return Hi(t,n,c)}return n.flags|=1,t=ki(f,l),t.ref=n.ref,t.return=n,n.child=t}function N_(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Gl(f,l)&&t.ref===n.ref)if(Re=!1,n.pendingProps=l=f,wd(t,c))(t.flags&131072)!==0&&(Re=!0);else return n.lanes=t.lanes,Hi(t,n,c)}return vd(t,n,a,l,c)}function C_(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return D_(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(n,f!==null?f.cachePool:null),f!==null?M0(n,f):Xf(),V0(n);else return l=n.lanes=536870912,D_(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Zu(n,f.cachePool),M0(n,f),Da(),n.memoizedState=null):(t!==null&&Zu(n,null),Xf(),Da());return Qe(t,n,c,a),n.child}function ro(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function D_(t,n,a,l,c){var f=Hf();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Zu(n,null),Xf(),V0(n),t!==null&&Ar(t,n,l,!0),n.childLanes=c,null}function dc(t,n){return n=gc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function I_(t,n,a){return Ds(n,t.child,null,a),t=dc(n,n.pendingProps),t.flags|=2,yn(n),n.memoizedState=null,t}function mx(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Mt){if(l.mode==="hidden")return t=dc(n,l),n.lanes=536870912,ro(null,t);if(Zf(n),(t=ie)?(t=Hv(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ba!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=m0(t),a.return=n,n.child=a,Fe=n,ie=null)):t=null,t===null)throw Aa(n);return n.lanes=536870912,null}return dc(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(Zf(n),c)if(n.flags&256)n.flags&=-257,n=I_(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Re||Ar(t,n,a,!1),c=(a&t.childLanes)!==0,Re||c){if(l=te,l!==null&&(g=Rl(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,bs(t,g),cn(l,t,g),_d;Ac(),n=I_(t,n,a)}else t=f.treeContext,ie=On(g.nextSibling),Fe=n,Mt=!0,Sa=null,Mn=!1,t!==null&&y0(n,t),n=dc(n,l),n.flags|=4096;return n}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function mc(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function vd(t,n,a,l,c){return ws(n),a=Wf(t,n,a,l,void 0,c),l=td(),t!==null&&!Re?(ed(t,n,c),Hi(t,n,c)):(Mt&&l&&Of(n),n.flags|=1,Qe(t,n,a,c),n.child)}function M_(t,n,a,l,c,f){return ws(n),n.updateQueue=null,a=j0(n,l,a,c),O0(t),l=td(),t!==null&&!Re?(ed(t,n,f),Hi(t,n,f)):(Mt&&l&&Of(n),n.flags|=1,Qe(t,n,a,f),n.child)}function V_(t,n,a,l,c){if(ws(n),n.stateNode===null){var f=Er,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ge(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=pd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Gf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ge(g):Er,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(gd(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&pd.enqueueReplaceState(f,f.state,null),eo(n,l,f,c),to(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=Ms(a,E);f.props=C;var U=f.context,F=a.contextType;g=Er,typeof F=="object"&&F!==null&&(g=Ge(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==g)&&v_(n,f,l,g),wa=!1;var B=n.memoizedState;f.state=B,eo(n,l,f,c),to(),U=n.memoizedState,E||B!==U||wa?(typeof Y=="function"&&(gd(n,a,Y,l),U=n.memoizedState),(C=wa||__(n,a,C,l,B,U,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qf(t,n),g=n.memoizedProps,F=Ms(a,g),f.props=F,Y=n.pendingProps,B=f.context,U=a.contextType,C=Er,typeof U=="object"&&U!==null&&(C=Ge(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||B!==C)&&v_(n,f,l,C),wa=!1,B=n.memoizedState,f.state=B,eo(n,l,f,c),to();var H=n.memoizedState;g!==Y||B!==H||wa||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof E=="function"&&(gd(n,a,E,l),H=n.memoizedState),(F=wa||__(n,a,F,l,B,H,C)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ds(n,t.child,null,c),n.child=Ds(n,null,a,c)):Qe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Hi(t,n,c),t}function O_(t,n,a,l){return As(),n.flags|=256,Qe(t,n,a,l),n.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:S0()}}function bd(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=vn),t}function j_(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(ge.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Mt){if(c?Ca(n):Da(),(t=ie)?(t=Hv(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ba!==null?{id:Ai,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=m0(t),a.return=n,n.child=a,Fe=n,ie=null)):t=null,t===null)throw Aa(n);return am(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Da(),c=n.mode,E=gc({mode:"hidden",children:E},c),l=Ss(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Td(a),l.childLanes=bd(t,g,a),n.memoizedState=Ed,ro(null,l)):(Ca(n),Sd(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Ca(n),n.flags&=-257,n=Ad(t,n,a)):n.memoizedState!==null?(Da(),n.child=t.child,n.flags|=128,n=null):(Da(),E=l.fallback,c=n.mode,l=gc({mode:"visible",children:l.children},c),E=Ss(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ds(n,t.child,null,a),l=n.child,l.memoizedState=Td(a),l.childLanes=bd(t,g,a),n.memoizedState=Ed,n=ro(null,l));else if(Ca(n),am(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var U=g.dgst;g=U,l=Error(s(419)),l.stack="",l.digest=g,Kl({value:l,source:null,stack:null}),n=Ad(t,n,a)}else if(Re||Ar(t,n,a,!1),g=(a&t.childLanes)!==0,Re||g){if(g=te,g!==null&&(l=Rl(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,bs(t,l),cn(g,t,l),_d;im(E)||Ac(),n=Ad(t,n,a)}else im(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ie=On(E.nextSibling),Fe=n,Mt=!0,Sa=null,Mn=!1,t!==null&&y0(n,t),n=Sd(n,l.children),n.flags|=4096);return n}return c?(Da(),E=l.fallback,c=n.mode,C=t.child,U=C.sibling,l=ki(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,U!==null?E=ki(U,E):(E=Ss(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,ro(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Td(a):(c=E.cachePool,c!==null?(C=xe._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=S0(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=bd(t,g,a),n.memoizedState=Ed,ro(t.child,l)):(Ca(n),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Sd(t,n){return n=gc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gc(t,n){return t=gn(22,t,null,n),t.lanes=0,t}function Ad(t,n,a){return Ds(n,t.child,null,a),t=Sd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function z_(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Uf(t.return,n,a)}function xd(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function k_(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=ge.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(ge,g),Qe(t,n,l,a),l=Mt?Yl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z_(t,a,n);else if(t.tag===19)z_(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&ic(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),xd(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ic(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}xd(n,!0,a,null,f,l);break;case"together":xd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Va|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ar(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ki(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function wd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function gx(t,n,a){switch(n.tag){case 3:Me(n,n.stateNode.containerInfo),xa(n,xe,t.memoizedState.cache),As();break;case 27:case 5:as(n);break;case 4:Me(n,n.stateNode.containerInfo);break;case 10:xa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Zf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ca(n),n.flags|=128,null):(a&n.child.childLanes)!==0?j_(t,n,a):(Ca(n),t=Hi(t,n,a),t!==null?t.sibling:null);Ca(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Ar(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return k_(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(ge,ge.current),l)break;return null;case 22:return n.lanes=0,C_(t,n,a,n.pendingProps);case 24:xa(n,xe,t.memoizedState.cache)}return Hi(t,n,a)}function L_(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Re=!0;else{if(!wd(t,a)&&(n.flags&128)===0)return Re=!1,gx(t,n,a);Re=(t.flags&131072)!==0}else Re=!1,Mt&&(n.flags&1048576)!==0&&p0(n,Yl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=Ns(n.elementType),n.type=t,typeof t=="function")If(t)?(l=Ms(t,l),n.tag=1,n=V_(null,n,t,l,a)):(n.tag=0,n=vd(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Bt){n.tag=11,n=w_(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=R_(null,n,t,l,a);break t}}throw n=Wt(t)||t,Error(s(306,n,""))}}return n;case 0:return vd(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Ms(l,n.pendingProps),V_(t,n,l,c,a);case 3:t:{if(Me(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Qf(t,n),eo(n,l,null,a);var g=n.memoizedState;if(l=g.cache,xa(n,xe,l),l!==f.cache&&Bf(n,[xe],a,!0),to(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=O_(t,n,l,a);break t}else if(l!==c){c=Cn(Error(s(424)),n),Kl(c),n=O_(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ie=On(t.firstChild),Fe=n,Mt=!0,Sa=null,Mn=!0,a=C0(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(As(),l===c){n=Hi(t,n,a);break t}Qe(t,n,l,a)}n=n.child}return n;case 26:return mc(t,n),t===null?(a=Xv(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,t=n.pendingProps,l=Ic(St.current).createElement(a),l[be]=n,l[ze]=t,Ye(l,a,t),Se(l),n.stateNode=l):n.memoizedState=Xv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return as(n),t===null&&Mt&&(l=n.stateNode=Qv(n.type,n.pendingProps,St.current),Fe=n,Mn=!0,c=ie,La(n.type)?(sm=c,ie=On(l.firstChild)):ie=c),Qe(t,n,n.pendingProps.children,a),mc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Mt&&((c=l=ie)&&(l=Gx(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,Fe=n,ie=On(l.firstChild),Mn=!1,c=!0):c=!1),c||Aa(n)),as(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,tm(c,f)?l=null:g!==null&&tm(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Wf(t,n,rx,null,null,a),bo._currentValue=c),mc(t,n),Qe(t,n,l,a),n.child;case 6:return t===null&&Mt&&((t=a=ie)&&(a=Qx(a,n.pendingProps,Mn),a!==null?(n.stateNode=a,Fe=n,ie=null,t=!0):t=!1),t||Aa(n)),null;case 13:return j_(t,n,a);case 4:return Me(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ds(n,null,l,a):Qe(t,n,l,a),n.child;case 11:return w_(t,n,n.type,n.pendingProps,a);case 7:return Qe(t,n,n.pendingProps,a),n.child;case 8:return Qe(t,n,n.pendingProps.children,a),n.child;case 12:return Qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,xa(n,n.type,l.value),Qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ws(n),c=Ge(c),l=l(c),n.flags|=1,Qe(t,n,l,a),n.child;case 14:return R_(t,n,n.type,n.pendingProps,a);case 15:return N_(t,n,n.type,n.pendingProps,a);case 19:return k_(t,n,a);case 31:return mx(t,n,a);case 22:return C_(t,n,a,n.pendingProps);case 24:return ws(n),l=Ge(xe),t===null?(c=Hf(),c===null&&(c=te,f=Pf(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},Gf(n),xa(n,xe,c)):((t.lanes&a)!==0&&(Qf(t,n),eo(n,null,null,a),to()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),xa(n,xe,l)):(l=f.cache,xa(n,xe,l),l!==c.cache&&Bf(n,[xe],a,!0))),Qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Fi(t){t.flags|=4}function Rd(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(hv())t.flags|=8192;else throw Cs=Wu,Ff}else t.flags&=-16777217}function U_(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!t1(n))if(hv())t.flags|=8192;else throw Cs=Wu,Ff}function pc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?bu():536870912,t.lanes|=n,zr|=n)}function lo(t,n){if(!Mt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function px(t,n,a){var l=n.pendingProps;switch(jf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bi(xe),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Sr(n)?Fi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,kf())),ae(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Fi(n),f!==null?(ae(n),U_(n,f)):(ae(n),Rd(n,c,null,l,a))):f?f!==t.memoizedState?(Fi(n),ae(n),U_(n,f)):(ae(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Fi(n),ae(n),Rd(n,c,t,l,a)),null;case 27:if(er(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}t=st.current,Sr(n)?_0(n):(t=Qv(c,l,a),n.stateNode=t,Fi(n))}return ae(n),null;case 5:if(er(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(f=st.current,Sr(n))_0(n);else{var g=Ic(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[be]=n,f[ze]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ye(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Fi(n)}}return ae(n),Rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Fi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,Sr(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Fe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[be]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jv(t.nodeValue,a)),t||Aa(n,!0)}else t=Ic(t).createTextNode(l),t[be]=n,n.stateNode=t}return ae(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Sr(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[be]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Sr(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[be]=n}else As(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),pc(n,n.updateQueue),ae(n),null);case 4:return se(),t===null&&Xd(n.stateNode.containerInfo),ae(n),null;case 10:return Bi(n.type),ae(n),null;case 19:if(X(ge),l=n.memoizedState,l===null)return ae(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)lo(l,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ic(t),f!==null){for(n.flags|=128,lo(l,!1),t=f.updateQueue,n.updateQueue=t,pc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)d0(a,t),a=a.sibling;return et(ge,ge.current&1|2),Mt&&Li(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&We()>Tc&&(n.flags|=128,c=!0,lo(l,!1),n.lanes=4194304)}else{if(!c)if(t=ic(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,pc(n,t),lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Mt)return ae(n),null}else 2*We()-l.renderingStartTime>Tc&&a!==536870912&&(n.flags|=128,c=!0,lo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=We(),t.sibling=null,a=ge.current,et(ge,c?a&1|2:a&1),Mt&&Li(n,l.treeForkCount),t):(ae(n),null);case 22:case 23:return yn(n),$f(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&pc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(Rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Bi(xe),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function yx(t,n){switch(jf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(xe),se(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return er(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(s(340));As()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(yn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));As()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(ge),null;case 4:return se(),null;case 10:return Bi(n.type),null;case 22:case 23:return yn(n),$f(),t!==null&&X(Rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(xe),null;case 25:return null;default:return null}}function B_(t,n){switch(jf(n),n.tag){case 3:Bi(xe),se();break;case 26:case 27:case 5:er(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:X(ge);break;case 10:Bi(n.type);break;case 22:case 23:yn(n),$f(),t!==null&&X(Rs);break;case 24:Bi(xe)}}function oo(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function Ia(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=a,U=E;try{U()}catch(F){Kt(c,C,F)}}}l=l.next}while(l!==f)}}catch(F){Kt(n,n.return,F)}}function P_(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{I0(n,a)}catch(l){Kt(t,t.return,l)}}}function q_(t,n,a){a.props=Ms(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function uo(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function wi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function H_(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Nd(t,n,a){try{var l=t.stateNode;Ux(l,t.type,a,n),l[ze]=n}catch(c){Kt(t,t.return,c)}}function F_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&La(t.type)||t.tag===4}function Cd(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||F_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&La(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&La(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Dd(t,n,a),t=t.sibling;t!==null;)Dd(t,n,a),t=t.sibling}function yc(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&La(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,n,a),t=t.sibling;t!==null;)yc(t,n,a),t=t.sibling}function G_(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ye(n,l,a),n[be]=t,n[ze]=a}catch(f){Kt(t,t.return,f)}}var Gi=!1,Ne=!1,Id=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,Le=null;function _x(t,n){if(t=t.containerInfo,Jd=Lc,t=a0(t),Af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,U=0,F=0,Y=t,B=null;e:for(;;){for(var H;Y!==a||c!==0&&Y.nodeType!==3||(E=g+c),Y!==f||l!==0&&Y.nodeType!==3||(C=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===t)break e;if(B===a&&++U===c&&(E=g),B===f&&++F===l&&(C=g),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:t,selectionRange:a},Lc=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=Ms(a.type,c);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Kt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function Y_(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&oo(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Kt(a,a.return,g)}else{var c=Ms(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(a,a.return,g)}}l&64&&P_(a),l&512&&uo(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{I0(t,n)}catch(g){Kt(a,a.return,g)}}break;case 27:n===null&&l&4&&G_(a);case 26:case 5:Yi(t,a),n===null&&l&4&&H_(a),l&512&&uo(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),l&4&&$_(t,a);break;case 13:Yi(t,a),l&4&&Z_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Rx.bind(null,a),Yx(t,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||Ne,c=Gi;var f=Ne;Gi=l,(Ne=n)&&!f?Ki(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Gi=c,Ne=f}break;case 30:break;default:Yi(t,a)}}function K_(t){var n=t.alternate;n!==null&&(t.alternate=null,K_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&rr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,rn=!1;function Qi(t,n,a){for(a=a.child;a!==null;)X_(t,n,a),a=a.sibling}function X_(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ne||wi(a,n),Qi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||wi(a,n);var l=le,c=rn;La(a.type)&&(le=a.stateNode,rn=!1),Qi(t,n,a),vo(a.stateNode),le=l,rn=c;break;case 5:Ne||wi(a,n);case 6:if(l=le,c=rn,le=null,Qi(t,n,a),le=l,rn=c,le!==null)if(rn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:le!==null&&(rn?(t=le,Pv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fr(t)):Pv(le,a.stateNode));break;case 4:l=le,c=rn,le=a.stateNode.containerInfo,rn=!0,Qi(t,n,a),le=l,rn=c;break;case 0:case 11:case 14:case 15:Ia(2,a,n),Ne||Ia(4,a,n),Qi(t,n,a);break;case 1:Ne||(wi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&q_(a,n,l)),Qi(t,n,a);break;case 21:Qi(t,n,a);break;case 22:Ne=(l=Ne)||a.memoizedState!==null,Qi(t,n,a),Ne=l;break;default:Qi(t,n,a)}}function $_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Fr(t)}catch(a){Kt(n,n.return,a)}}}function Z_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fr(t)}catch(a){Kt(n,n.return,a)}}function vx(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Q_),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Q_),n;default:throw Error(s(435,t.tag))}}function _c(t,n){var a=vx(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=Nx.bind(null,t,l);l.then(c,c)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(La(E.type)){le=E.stateNode,rn=!1;break t}break;case 5:le=E.stateNode,rn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(le===null)throw Error(s(160));X_(f,g,c),le=null,rn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)J_(n,t),n=n.sibling}var $n=null;function J_(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Ia(3,t,t.return),oo(3,t),Ia(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(Ne||a===null||wi(a,a.return)),l&64&&Gi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=$n;if(ln(n,t),on(t),l&512&&(Ne||a===null||wi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[fi]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ye(f,l,a),f[be]=t,Se(f),l=f;break t;case"link":var g=Jv("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),Ye(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Jv("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),Ye(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[be]=t,Se(f),l=f}t.stateNode=l}else Wv(c,t.type,t.stateNode);else t.stateNode=Zv(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Wv(c,t.type,t.stateNode):Zv(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(Ne||a===null||wi(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(Ne||a===null||wi(a,a.return)),t.flags&32){c=t.stateNode;try{sn(c,"")}catch(rt){Kt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Nd(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Id=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Kt(t,t.return,rt)}}break;case 3:if(Oc=null,c=$n,$n=Mc(n.containerInfo),ln(n,t),$n=c,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fr(n.containerInfo)}catch(rt){Kt(t,t.return,rt)}Id&&(Id=!1,W_(t));break;case 4:l=$n,$n=Mc(t.stateNode.containerInfo),ln(n,t),on(t),$n=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=Gi,F=Ne;if(Gi=U||c,Ne=F||C,ln(n,t),Ne=F,Gi=U,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||Gi||Ne||Vs(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(rt){Kt(C,C.return,rt)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(rt){Kt(C,C.return,rt)}}}else if(n.tag===18){if(a===null){C=n;try{var H=C.stateNode;c?qv(H,!0):qv(C.stateNode,!1)}catch(rt){Kt(C,C.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_c(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_c(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(F_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Cd(t);yc(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(sn(g,""),a.flags&=-33);var E=Cd(t);yc(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,U=Cd(t);Dd(t,U,C);break;default:throw Error(s(161))}}catch(F){Kt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function W_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;W_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Yi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Y_(t,n.alternate,n),n=n.sibling}function Vs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ia(4,n,n.return),Vs(n);break;case 1:wi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&q_(n,n.return,a),Vs(n);break;case 27:vo(n.stateNode);case 26:case 5:wi(n,n.return),Vs(n);break;case 22:n.memoizedState===null&&Vs(n);break;case 30:Vs(n);break;default:Vs(n)}t=t.sibling}}function Ki(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(c,f,a),oo(4,f);break;case 1:if(Ki(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Kt(l,l.return,U)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)D0(C[c],E)}catch(U){Kt(l,l.return,U)}}a&&g&64&&P_(f),uo(f,f.return);break;case 27:G_(f);case 26:case 5:Ki(c,f,a),a&&l===null&&g&4&&H_(f),uo(f,f.return);break;case 12:Ki(c,f,a);break;case 31:Ki(c,f,a),a&&g&4&&$_(c,f);break;case 13:Ki(c,f,a),a&&g&4&&Z_(c,f);break;case 22:f.memoizedState===null&&Ki(c,f,a),uo(f,f.return);break;case 30:break;default:Ki(c,f,a)}n=n.sibling}}function Md(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xl(a))}function Vd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)tv(t,n,a,l),n=n.sibling}function tv(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),c&2048&&oo(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t)));break;case 12:if(c&2048){Zn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Kt(n,n.return,C)}}else Zn(t,n,a,l);break;case 31:Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,a,l):co(t,n):f._visibility&2?Zn(t,n,a,l):(f._visibility|=2,Vr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Md(g,n);break;case 24:Zn(t,n,a,l),c&2048&&Vd(n.alternate,n);break;default:Zn(t,n,a,l)}}function Vr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=l,U=g.flags;switch(g.tag){case 0:case 11:case 15:Vr(f,g,E,C,c),oo(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Vr(f,g,E,C,c):co(f,g):(F._visibility|=2,Vr(f,g,E,C,c)),c&&U&2048&&Md(g.alternate,g);break;case 24:Vr(f,g,E,C,c),c&&U&2048&&Vd(g.alternate,g);break;default:Vr(f,g,E,C,c)}n=n.sibling}}function co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:co(a,l),c&2048&&Md(l.alternate,l);break;case 24:co(a,l),c&2048&&Vd(l.alternate,l);break;default:co(a,l)}n=n.sibling}}var ho=8192;function Or(t,n,a){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)ev(t,n,a),t=t.sibling}function ev(t,n,a){switch(t.tag){case 26:Or(t,n,a),t.flags&ho&&t.memoizedState!==null&&sw(a,$n,t.memoizedState,t.memoizedProps);break;case 5:Or(t,n,a);break;case 3:case 4:var l=$n;$n=Mc(t.stateNode.containerInfo),Or(t,n,a),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ho,ho=16777216,Or(t,n,a),ho=l):Or(t,n,a));break;default:Or(t,n,a)}}function nv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,av(l,t)}nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iv(t),t=t.sibling}function iv(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Ia(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vc(t)):fo(t);break;default:fo(t)}}function vc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Le=l,av(l,t)}nv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ia(8,n,n.return),vc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,vc(n));break;default:vc(n)}t=t.sibling}}function av(t,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Ia(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Le=l;else t:for(a=t;Le!==null;){l=Le;var c=l.sibling,f=l.return;if(K_(l),l===a){Le=null;break t}if(c!==null){c.return=f,Le=c;break t}Le=f}}}var Ex={getCacheForType:function(t){var n=Ge(xe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Ge(xe).controller.signal}},Tx=typeof WeakMap=="function"?WeakMap:Map,qt=0,te=null,xt=null,Dt=0,Yt=0,_n=null,Ma=!1,jr=!1,Od=!1,Xi=0,he=0,Va=0,Os=0,jd=0,vn=0,zr=0,mo=null,un=null,zd=!1,Ec=0,sv=0,Tc=1/0,bc=null,Oa=null,Oe=0,ja=null,kr=null,$i=0,kd=0,Ld=null,rv=null,go=0,Ud=null;function En(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?Gd():Su()}function lv(){if(vn===0)if((Dt&536870912)===0||Mt){var t=ls;ls<<=1,(ls&3932160)===0&&(ls=262144),vn=t}else vn=536870912;return t=pn.current,t!==null&&(t.flags|=32),vn}function cn(t,n,a){(t===te&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Lr(t,0),za(t,Dt,vn,!1)),os(t,a),((qt&2)===0||t!==te)&&(t===te&&((qt&2)===0&&(Os|=a),he===4&&za(t,Dt,vn,!1)),Ri(t))}function ov(t,n,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),c=l?Ax(t,n):Pd(t,n,!0),f=l;do{if(c===0){jr&&!l&&za(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!bx(a)){c=Pd(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=mo;var C=E.current.memoizedState.isDehydrated;if(C&&(Lr(E,g).flags|=256),g=Pd(E,g,!1),g!==2){if(Od&&!C){E.errorRecoveryDisabledLanes|=f,Os|=f,c=4;break t}f=un,un=c,f!==null&&(un===null?un=f:un.push.apply(un,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Lr(t,0),za(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:za(l,n,vn,!Ma);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Ec+300-We(),10<c)){if(za(l,n,vn,!Ma),ui(l,0,!0)!==0)break t;$i=n,l.timeoutHandle=Uv(uv.bind(null,l,a,un,bc,zd,n,vn,Os,zr,Ma,f,"Throttled",-0,0),c);break t}uv(l,a,un,bc,zd,n,vn,Os,zr,Ma,f,null,-0,0)}}break}while(!0);Ri(t)}function uv(t,n,a,l,c,f,g,E,C,U,F,Y,B,H){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},ev(n,f,Y);var rt=(f&62914560)===f?Ec-We():(f&4194048)===f?sv-We():0;if(rt=rw(Y,rt),rt!==null){$i=f,t.cancelPendingCommit=rt(yv.bind(null,t,n,f,a,l,c,g,E,C,F,Y,null,B,H)),za(t,f,g,!U);return}}yv(t,n,f,a,l,c,g,E,C)}function bx(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!mn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function za(t,n,a,l){n&=~jd,n&=~Os,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-de(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&us(t,a,n)}function Sc(){return(qt&6)===0?(po(0),!1):!0}function Bd(){if(xt!==null){if(Yt===0)var t=xt.return;else t=xt,Ui=xs=null,nd(t),Nr=null,Zl=0,t=xt;for(;t!==null;)B_(t.alternate,t),t=t.return;xt=null}}function Lr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$i=0,Bd(),te=t,xt=a=ki(t.current,null),Dt=n,Yt=0,_n=null,Ma=!1,jr=Pn(t,n),Od=!1,zr=vn=jd=Os=Va=he=0,un=mo=null,zd=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-de(l),f=1<<c;n|=t[c],l&=~f}return Xi=n,Fu(),a}function cv(t,n){bt=null,G.H=so,n===Rr||n===Ju?(n=w0(),Yt=3):n===Ff?(n=w0(),Yt=4):Yt=n===_d?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,xt===null&&(he=1,fc(t,Cn(n,t.current)))}function hv(){var t=pn.current;return t===null?!0:(Dt&4194048)===Dt?Vn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?t===Vn:!1}function fv(){var t=G.H;return G.H=so,t===null?so:t}function dv(){var t=G.A;return G.A=Ex,t}function Ac(){he=4,Ma||(Dt&4194048)!==Dt&&pn.current!==null||(jr=!0),(Va&134217727)===0&&(Os&134217727)===0||te===null||za(te,Dt,vn,!1)}function Pd(t,n,a){var l=qt;qt|=2;var c=fv(),f=dv();(te!==t||Dt!==n)&&(bc=null,Lr(t,n)),n=!1;var g=he;t:do try{if(Yt!==0&&xt!==null){var E=xt,C=_n;switch(Yt){case 8:Bd(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var U=Yt;if(Yt=0,_n=null,Ur(t,E,C,U),a&&jr){g=0;break t}break;default:U=Yt,Yt=0,_n=null,Ur(t,E,C,U)}}Sx(),g=he;break}catch(F){cv(t,F)}while(!0);return n&&t.shellSuspendCounter++,Ui=xs=null,qt=l,G.H=c,G.A=f,xt===null&&(te=null,Dt=0,Fu()),g}function Sx(){for(;xt!==null;)mv(xt)}function Ax(t,n){var a=qt;qt|=2;var l=fv(),c=dv();te!==t||Dt!==n?(bc=null,Tc=We()+500,Lr(t,n)):jr=Pn(t,n);t:do try{if(Yt!==0&&xt!==null){n=xt;var f=_n;e:switch(Yt){case 1:Yt=0,_n=null,Ur(t,n,f,1);break;case 2:case 9:if(A0(f)){Yt=0,_n=null,gv(n);break}n=function(){Yt!==2&&Yt!==9||te!==t||(Yt=7),Ri(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:A0(f)?(Yt=0,_n=null,gv(n)):(Yt=0,_n=null,Ur(t,n,f,7));break;case 5:var g=null;switch(xt.tag){case 26:g=xt.memoizedState;case 5:case 27:var E=xt;if(g?t1(g):E.stateNode.complete){Yt=0,_n=null;var C=E.sibling;if(C!==null)xt=C;else{var U=E.return;U!==null?(xt=U,xc(U)):xt=null}break e}}Yt=0,_n=null,Ur(t,n,f,5);break;case 6:Yt=0,_n=null,Ur(t,n,f,6);break;case 8:Bd(),he=6;break t;default:throw Error(s(462))}}xx();break}catch(F){cv(t,F)}while(!0);return Ui=xs=null,G.H=l,G.A=c,qt=a,xt!==null?0:(te=null,Dt=0,Fu(),he)}function xx(){for(;xt!==null&&!yf();)mv(xt)}function mv(t){var n=L_(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,n===null?xc(t):xt=n}function gv(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=M_(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=M_(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:nd(n);default:B_(a,n),n=xt=d0(n,Xi),n=L_(a,n,Xi)}t.memoizedProps=t.pendingProps,n===null?xc(t):xt=n}function Ur(t,n,a,l){Ui=xs=null,nd(n),Nr=null,Zl=0;var c=n.return;try{if(dx(t,c,n,a,Dt)){he=1,fc(t,Cn(a,t.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;he=1,fc(t,Cn(a,t.current)),xt=null;return}n.flags&32768?(Mt||l===1?t=!0:jr||(Dt&536870912)!==0?t=!1:(Ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),pv(n,t)):xc(n)}function xc(t){var n=t;do{if((n.flags&32768)!==0){pv(n,Ma);return}t=n.return;var a=px(n.alternate,n,Xi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);he===0&&(he=5)}function pv(t,n){do{var a=yx(t.alternate,t);if(a!==null){a.flags&=32767,xt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=a}while(t!==null);he=6,xt=null}function yv(t,n,a,l,c,f,g,E,C){t.cancelPendingCommit=null;do wc();while(Oe!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Cf,Ef(t,a,f,g,E,C),t===te&&(xt=te=null,Dt=0),kr=n,ja=t,$i=a,kd=f,Ld=c,rv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Cx(fa,function(){return bv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=tt.p,tt.p=2,g=qt,qt|=4;try{_x(t,n,a)}finally{qt=g,tt.p=c,G.T=l}}Oe=1,_v(),vv(),Ev()}}function _v(){if(Oe===1){Oe=0;var t=ja,n=kr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{J_(n,t);var f=Wd,g=a0(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&i0(E.ownerDocument.documentElement,E)){if(C!==null&&Af(E)){var U=C.start,F=C.end;if(F===void 0&&(F=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),rt=E.textContent.length,ft=Math.min(C.start,rt),Jt=C.end===void 0?ft:Math.min(C.end,rt);!H.extend&&ft>Jt&&(g=Jt,Jt=ft,ft=g);var z=n0(E,ft),M=n0(E,Jt);if(z&&M&&(H.rangeCount!==1||H.anchorNode!==z.node||H.anchorOffset!==z.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var L=Y.createRange();L.setStart(z.node,z.offset),H.removeAllRanges(),ft>Jt?(H.addRange(L),H.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),H.addRange(L))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Lc=!!Jd,Wd=Jd=null}finally{qt=c,tt.p=l,G.T=a}}t.current=n,Oe=2}}function vv(){if(Oe===2){Oe=0;var t=ja,n=kr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{Y_(t,n.alternate,n)}finally{qt=c,tt.p=l,G.T=a}}Oe=3}}function Ev(){if(Oe===4||Oe===3){Oe=0,pu();var t=ja,n=kr,a=$i,l=rv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,kr=ja=null,Tv(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Oa=null),Vi(a),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=tt.p,tt.p=2,G.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,tt.p=c}}($i&3)!==0&&wc(),Ri(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Ud?go++:(go=0,Ud=t):go=0,po(0)}}function Tv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xl(n)))}function wc(){return _v(),vv(),Ev(),bv()}function bv(){if(Oe!==5)return!1;var t=ja,n=kd;kd=0;var a=Vi($i),l=G.T,c=tt.p;try{tt.p=32>a?32:a,G.T=null,a=Ld,Ld=null;var f=ja,g=$i;if(Oe=0,kr=ja=null,$i=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,iv(f.current),tv(f,f.current,g,a),qt=E,po(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{tt.p=c,G.T=l,Tv(t,n)}}function Sv(t,n,a){n=Cn(a,n),n=yd(t.stateNode,n,2),t=Na(t,n,2),t!==null&&(os(t,2),Ri(t))}function Kt(t,n,a){if(t.tag===3)Sv(t,t,a);else for(;n!==null;){if(n.tag===3){Sv(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oa===null||!Oa.has(l))){t=Cn(a,t),a=A_(2),l=Na(n,a,2),l!==null&&(x_(a,l,n,t),os(l,2),Ri(l));break}}n=n.return}}function qd(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Tx;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Od=!0,c.add(a),t=wx.bind(null,t,n,a),n.then(t,t))}function wx(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(Dt&a)===a&&(he===4||he===3&&(Dt&62914560)===Dt&&300>We()-Ec?(qt&2)===0&&Lr(t,0):jd|=a,zr===Dt&&(zr=0)),Ri(t)}function Av(t,n){n===0&&(n=bu()),t=bs(t,n),t!==null&&(os(t,n),Ri(t))}function Rx(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Av(t,a)}function Nx(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Av(t,a)}function Cx(t,n){return Ve(t,n)}var Rc=null,Br=null,Hd=!1,Nc=!1,Fd=!1,ka=0;function Ri(t){t!==Br&&t.next===null&&(Br===null?Rc=Br=t:Br=Br.next=t),Nc=!0,Hd||(Hd=!0,Ix())}function po(t,n){if(!Fd&&Nc){Fd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-de(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Nv(l,f))}else f=Dt,f=ui(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Pn(l,f)||(a=!0,Nv(l,f));l=l.next}while(a);Fd=!1}}function Dx(){xv()}function xv(){Nc=Hd=!1;var t=0;ka!==0&&Px()&&(t=ka);for(var n=We(),a=null,l=Rc;l!==null;){var c=l.next,f=wv(l,n);f===0?(l.next=null,a===null?Rc=c:a.next=c,c===null&&(Br=a)):(a=l,(t!==0||(f&3)!==0)&&(Nc=!0)),l=c}Oe!==0&&Oe!==5||po(t),ka!==0&&(ka=0)}function wv(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-de(f),E=1<<g,C=c[g];C===-1?((E&a)===0||(E&l)!==0)&&(c[g]=vf(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=te,a=Dt,a=ui(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ha(l),Vi(a)){case 2:case 8:a=xl;break;case 32:a=fa;break;case 268435456:a=yu;break;default:a=fa}return l=Rv.bind(null,t),a=Ve(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ha(l),t.callbackPriority=2,t.callbackNode=null,2}function Rv(t,n){if(Oe!==0&&Oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Dt;return l=ui(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ov(t,l,n),wv(t,We()),t.callbackNode!=null&&t.callbackNode===a?Rv.bind(null,t):null)}function Nv(t,n){if(wc())return null;ov(t,n,!0)}function Ix(){Hx(function(){(qt&6)!==0?Ve(Al,Dx):xv()})}function Gd(){if(ka===0){var t=xr;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),ka=t}return ka}function Cv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cr(""+t)}function Dv(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Mx(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Cv((c[ze]||null).action),g=l.submitter;g&&(n=(n=g[ze]||null)?Cv(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ei("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ka!==0){var C=g?Dv(c,g):new FormData(c);hd(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Dv(c,g):new FormData(c),hd(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Qd=0;Qd<Nf.length;Qd++){var Yd=Nf[Qd],Vx=Yd.toLowerCase(),Ox=Yd[0].toUpperCase()+Yd.slice(1);Xn(Vx,"on"+Ox)}Xn(l0,"onAnimationEnd"),Xn(o0,"onAnimationIteration"),Xn(u0,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn($A,"onTransitionRun"),Xn(ZA,"onTransitionStart"),Xn(JA,"onTransitionCancel"),Xn(c0,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function Iv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,U=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=U;try{f(c)}catch(F){Hu(F)}c.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,U=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=U;try{f(c)}catch(F){Hu(F)}c.currentTarget=null,f=C}}}}function wt(t,n){var a=n[sr];a===void 0&&(a=n[sr]=new Set);var l=t+"__bubble";a.has(l)||(Mv(n,t,2,!1),a.add(l))}function Kd(t,n,a){var l=0;n&&(l|=4),Mv(a,t,l,n)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Cc]){t[Cc]=!0,Nl.forEach(function(a){a!=="selectionchange"&&(jx.has(a)||Kd(a,!1,t),Kd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cc]||(n[Cc]=!0,Kd("selectionchange",!1,n))}}function Mv(t,n,a,l){switch(l1(n)){case 2:var c=uw;break;case 8:c=cw;break;default:c=cm}a=c.bind(null,n,a,t),c=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function $d(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=di(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}_a(function(){var U=f,F=xn(a),Y=[];t:{var B=h0.get(t);if(B!==void 0){var H=Ei,rt=t;switch(t){case"keypress":if(ps(a)===0)break t;case"keydown":case"keyup":H=Bu;break;case"focusin":rt="focus",H=_s;break;case"focusout":rt="blur",H=_s;break;case"beforeblur":case"afterblur":H=_s;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case l0:case o0:case u0:H=Vu;break;case c0:H=S;break;case"scroll":case"scrollend":H=Bl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=zi;break;case"toggle":case"beforetoggle":H=Tt}var ft=(n&4)!==0,Jt=!ft&&(t==="scroll"||t==="scrollend"),z=ft?B!==null?B+"Capture":null:B;ft=[];for(var M=U,L;M!==null;){var Q=M;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||z===null||(Q=Gn(M,z),Q!=null&&ft.push(_o(M,Q,L))),Jt)break;M=M.return}0<ft.length&&(B=new H(B,rt,null,a,F),Y.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==kl&&(rt=a.relatedTarget||a.fromElement)&&(di(rt)||rt[hi]))break t;if((H||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,H?(rt=a.relatedTarget||a.toElement,H=U,rt=rt?di(rt):null,rt!==null&&(Jt=h(rt),ft=rt.tag,rt!==Jt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(H=null,rt=U),H!==rt)){if(ft=Pl,Q="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ft=zi,Q="onPointerLeave",z="onPointerEnter",M="pointer"),Jt=H==null?B:fn(H),L=rt==null?B:fn(rt),B=new ft(Q,M+"leave",H,a,F),B.target=Jt,B.relatedTarget=L,Q=null,di(F)===U&&(ft=new ft(z,M+"enter",rt,a,F),ft.target=L,ft.relatedTarget=Jt,Q=ft),Jt=Q,H&&rt)e:{for(ft=zx,z=H,M=rt,L=0,Q=z;Q;Q=ft(Q))L++;Q=0;for(var ct=M;ct;ct=ft(ct))Q++;for(;0<L-Q;)z=ft(z),L--;for(;0<Q-L;)M=ft(M),Q--;for(;L--;){if(z===M||M!==null&&z===M.alternate){ft=z;break e}z=ft(z),M=ft(M)}ft=null}else ft=null;H!==null&&Vv(Y,B,H,ft,!1),rt!==null&&Jt!==null&&Vv(Y,Jt,rt,ft,!0)}}t:{if(B=U?fn(U):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Lt=$y;else if(Ky(B))if(Zy)Lt=YA;else{Lt=GA;var ot=FA}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&ur(U.elementType)&&(Lt=$y):Lt=QA;if(Lt&&(Lt=Lt(t,U))){Xy(Y,Lt,a,F);break t}ot&&ot(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Ol(B,"number",B.value)}switch(ot=U?fn(U):window,t){case"focusin":(Ky(ot)||ot.contentEditable==="true")&&(yr=ot,xf=U,Ql=null);break;case"focusout":Ql=xf=yr=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,s0(Y,a,F);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":s0(Y,a,F)}var At;if(Pt)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else pr?vs(t,a)&&(It="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(It="onCompositionStart");It&&(Si&&a.locale!=="ko"&&(pr||It!=="onCompositionStart"?It==="onCompositionEnd"&&pr&&(At=Ul()):(vi=F,Ll="value"in vi?vi.value:vi.textContent,pr=!0)),ot=Dc(U,It),0<ot.length&&(It=new bi(It,t,null,a,F),Y.push({event:It,listeners:ot}),At?It.data=At:(At=gr(a),At!==null&&(It.data=At)))),(At=Rn?BA(t,a):PA(t,a))&&(It=Dc(U,"onBeforeInput"),0<It.length&&(ot=new bi("onBeforeInput","beforeinput",null,a,F),Y.push({event:ot,listeners:It}),ot.data=At)),Mx(Y,t,U,a,F)}Iv(Y,n)})}function _o(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Dc(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gn(t,a),c!=null&&l.unshift(_o(t,c,f)),c=Gn(t,n),c!=null&&l.push(_o(t,c,f))),t.tag===3)return l;t=t.return}return[]}function zx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vv(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,U=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||U===null||(C=U,c?(U=Gn(a,f),U!=null&&g.unshift(_o(a,U,C))):c||(U=Gn(a,f),U!=null&&g.push(_o(a,U,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var kx=/\r\n?/g,Lx=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(kx,`
`).replace(Lx,"")}function jv(t,n){return n=Ov(n),Ov(t)===n}function Zt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&sn(t,""+l);break;case"className":dn(t,"class",l);break;case"tabIndex":dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(t,a,l);break;case"style":zl(t,l,f);break;case"data":if(n!=="object"){dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=cr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",c.name,c,null),Zt(t,n,"formEncType",c.formEncType,c,null),Zt(t,n,"formMethod",c.formMethod,c,null),Zt(t,n,"formTarget",c.formTarget,c,null)):(Zt(t,n,"encType",c.encType,c,null),Zt(t,n,"method",c.method,c,null),Zt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=cr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=cr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":wt("beforetoggle",t),wt("toggle",t),lr(t,"popover",l);break;case"xlinkActuate":Ae(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,lr(t,a,l))}}function Zd(t,n,a,l,c,f){switch(a){case"style":zl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&wt("scroll",t);break;case"onScrollEnd":l!=null&&wt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):lr(t,a,l)}}}function Ye(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",t),wt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,f,g,a,null)}}c&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":wt("invalid",t);var E=f=g=c=null,C=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":U=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Zt(t,n,l,F,a,null)}}Ru(t,f,E,C,U,g,c,!1);return;case"select":wt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Zt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?ma(t,!!l,n,!1):a!=null&&ma(t,!!l,a,!0);return;case"textarea":wt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(t,n,g,E,a,null)}ga(t,l,c,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,C,l,a,null)}return;case"dialog":wt("beforetoggle",t),wt("toggle",t),wt("cancel",t),wt("close",t);break;case"iframe":case"object":wt("load",t);break;case"video":case"audio":for(l=0;l<yo.length;l++)wt(yo[l],t);break;case"image":wt("error",t),wt("load",t);break;case"details":wt("toggle",t);break;case"embed":case"source":case"link":wt("error",t),wt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,U,l,a,null)}return;default:if(ur(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Zd(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(t,n,E,l,a,null))}function Ux(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,U=null,F=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||Zt(t,n,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":f=H;break;case"name":c=H;break;case"checked":U=H;break;case"defaultChecked":F=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Y&&Zt(t,n,B,H,l,Y)}}or(t,g,E,C,U,F,f,c);return;case"select":H=g=E=B=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=a[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Zt(t,n,c,f,l,C)}n=E,a=g,l=H,B!=null?ma(t,!!a,B,!1):!!l!=!!a&&(n!=null?ma(t,!!a,n,!0):ma(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":B=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Zt(t,n,g,c,l,f)}Nu(t,B,H);return;case"option":for(var rt in a)if(B=a[rt],a.hasOwnProperty(rt)&&B!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Zt(t,n,rt,null,l,B)}for(C in l)if(B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(t,n,C,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)B=a[ft],a.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Zt(t,n,ft,null,l,B);for(U in l)if(B=l[U],H=a[U],l.hasOwnProperty(U)&&B!==H&&(B!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Zt(t,n,U,B,l,H)}return;default:if(ur(n)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&Zd(t,n,Jt,void 0,l,B);for(F in l)B=l[F],H=a[F],!l.hasOwnProperty(F)||B===H||B===void 0&&H===void 0||Zd(t,n,F,B,l,H);return}}for(var z in a)B=a[z],a.hasOwnProperty(z)&&B!=null&&!l.hasOwnProperty(z)&&Zt(t,n,z,null,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||Zt(t,n,Y,B,l,H)}function zv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&zv(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],U=C.startTime;if(U>E)break;var F=C.transferSize,Y=C.initiatorType;F&&zv(Y)&&(C=C.responseEnd,g+=F*(C<E?1:(E-U)/(C-U)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jd=null,Wd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tm(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var em=null;function Px(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,qx=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,Hx=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(Fx)}:Uv;function Fx(t){setTimeout(function(){throw t})}function La(t){return t==="head"}function Pv(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Fr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")vo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,vo(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&vo(t.ownerDocument.body);a=c}while(a);Fr(n)}function qv(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Gx(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function Qx(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=On(t.nextSibling),t===null))return null;return t}function Hv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=On(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Yx(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var sm=null;function Fv(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return On(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Gv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Qv(t,n,a){switch(n=Ic(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function vo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);rr(t)}var jn=new Map,Yv=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=tt.d;tt.d={f:Kx,r:Xx,D:$x,C:Zx,L:Jx,m:Wx,X:ew,S:tw,M:nw};function Kx(){var t=Zi.f(),n=Sc();return t||n}function Xx(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?c_(n):Zi.r(t)}var Pr=typeof document>"u"?null:document;function Kv(t,n,a){var l=Pr;if(l&&typeof n=="string"&&n){var c=an(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Yv.has(c)||(Yv.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ye(n,"link",t),Se(n),l.head.appendChild(n)))}}function $x(t){Zi.D(t),Kv("dns-prefetch",t,null)}function Zx(t,n){Zi.C(t,n),Kv("preconnect",t,n)}function Jx(t,n,a){Zi.L(t,n,a);var l=Pr;if(l&&t&&n){var c='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+an(a.imageSizes)+'"]')):c+='[href="'+an(t)+'"]';var f=c;switch(n){case"style":f=qr(t);break;case"script":f=Hr(t)}jn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),jn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Eo(f))||n==="script"&&l.querySelector(To(f))||(n=l.createElement("link"),Ye(n,"link",t),Se(n),l.head.appendChild(n)))}}function Wx(t,n){Zi.m(t,n);var a=Pr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Hr(t)}if(!jn.has(f)&&(t=A({rel:"modulepreload",href:t},n),jn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(To(f)))return}l=a.createElement("link"),Ye(l,"link",t),Se(l),a.head.appendChild(l)}}}function tw(t,n,a){Zi.S(t,n,a);var l=Pr;if(l&&t){var c=mi(l).hoistableStyles,f=qr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Eo(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=jn.get(f))&&rm(t,a);var C=g=l.createElement("link");Se(C),Ye(C,"link",t),C._p=new Promise(function(U,F){C.onload=U,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function ew(t,n){Zi.X(t,n);var a=Pr;if(a&&t){var l=mi(a).hoistableScripts,c=Hr(t),f=l.get(c);f||(f=a.querySelector(To(c)),f||(t=A({src:t,async:!0},n),(n=jn.get(c))&&lm(t,n),f=a.createElement("script"),Se(f),Ye(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function nw(t,n){Zi.M(t,n);var a=Pr;if(a&&t){var l=mi(a).hoistableScripts,c=Hr(t),f=l.get(c);f||(f=a.querySelector(To(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=jn.get(c))&&lm(t,n),f=a.createElement("script"),Se(f),Ye(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Xv(t,n,a,l){var c=(c=St.current)?Mc(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=qr(a.href),a=mi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qr(a.href);var f=mi(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Eo(t)))&&!f._p&&(g.instance=f,g.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),f||iw(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Hr(a),a=mi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qr(t){return'href="'+an(t)+'"'}function Eo(t){return'link[rel="stylesheet"]['+t+"]"}function $v(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function iw(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ye(n,"link",a),Se(n),t.head.appendChild(n))}function Hr(t){return'[src="'+an(t)+'"]'}function To(t){return"script[async]"+t}function Zv(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return n.instance=l,Se(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Se(l),Ye(l,"style",c),Vc(l,a.precedence,t),n.instance=l;case"stylesheet":c=qr(a.href);var f=t.querySelector(Eo(c));if(f)return n.state.loading|=4,n.instance=f,Se(f),f;l=$v(a),(c=jn.get(c))&&rm(l,c),f=(t.ownerDocument||t).createElement("link"),Se(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ye(f,"link",l),n.state.loading|=4,Vc(f,a.precedence,t),n.instance=f;case"script":return f=Hr(a.src),(c=t.querySelector(To(f)))?(n.instance=c,Se(c),c):(l=a,(c=jn.get(f))&&(l=A({},a),lm(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Se(c),Ye(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vc(l,a.precedence,t));return n.instance}function Vc(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function rm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function lm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Oc=null;function Jv(t,n,a){if(Oc===null){var l=new Map,c=Oc=new Map;c.set(a,l)}else c=Oc,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[fi]||f[be]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Wv(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function aw(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function t1(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sw(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=qr(l.href),f=n.querySelector(Eo(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=jc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Se(f);return}f=n.ownerDocument||n,l=$v(l),(c=jn.get(c))&&rm(l,c),f=f.createElement("link"),Se(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ye(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var om=0;function rw(t,n){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&om===0&&(om=62500*Bx());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>om?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function kc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,n.forEach(lw,t),zc=null,jc.call(t))}function lw(t,n){if(!(n.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=jc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var bo={$$typeof:Et,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function ow(t,n,a,l,c,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function e1(t,n,a,l,c,f,g,E,C,U,F,Y){return t=new ow(t,n,a,g,C,U,F,Y,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=Pf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Gf(f),t}function n1(t){return t?(t=Er,t):Er}function i1(t,n,a,l,c,f){c=n1(c),l.context===null?l.context=c:l.pendingContext=c,l=Ra(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Na(t,l,n),a!==null&&(cn(a,t,n),Wl(a,t,n))}function a1(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function um(t,n){a1(t,n),(t=t.alternate)&&a1(t,n)}function s1(t){if(t.tag===13||t.tag===31){var n=bs(t,67108864);n!==null&&cn(n,t,67108864),um(t,67108864)}}function r1(t){if(t.tag===13||t.tag===31){var n=En();n=cs(n);var a=bs(t,n);a!==null&&cn(a,t,n),um(t,n)}}var Lc=!0;function uw(t,n,a,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=2,cm(t,n,a,l)}finally{tt.p=f,G.T=c}}function cw(t,n,a,l){var c=G.T;G.T=null;var f=tt.p;try{tt.p=8,cm(t,n,a,l)}finally{tt.p=f,G.T=c}}function cm(t,n,a,l){if(Lc){var c=hm(l);if(c===null)$d(t,n,l,Uc,a),o1(t,l);else if(fw(c,t,n,a,l))l.stopPropagation();else if(o1(t,l),n&4&&-1<hw.indexOf(t)){for(;c!==null;){var f=An(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-de(g);E.entanglements[1]|=C,g&=~C}Ri(f),(qt&6)===0&&(Tc=We()+500,po(0))}}break;case 31:case 13:E=bs(f,2),E!==null&&cn(E,f,2),Sc(),um(f,2)}if(f=hm(l),f===null&&$d(t,n,l,Uc,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else $d(t,n,l,null,a)}}function hm(t){return t=xn(t),fm(t)}var Uc=null;function fm(t){if(Uc=null,t=di(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uc=t,null}function l1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case Al:return 2;case xl:return 8;case fa:case _f:return 32;case yu:return 268435456;default:return 32}default:return 32}}var dm=!1,Ua=null,Ba=null,Pa=null,So=new Map,Ao=new Map,qa=[],hw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o1(t,n){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(n.pointerId)}}function xo(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=An(n),n!==null&&s1(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function fw(t,n,a,l,c){switch(n){case"focusin":return Ua=xo(Ua,t,n,a,l,c),!0;case"dragenter":return Ba=xo(Ba,t,n,a,l,c),!0;case"mouseover":return Pa=xo(Pa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return So.set(f,xo(So.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ao.set(f,xo(Ao.get(f)||null,t,n,a,l,c)),!0}return!1}function u1(t){var n=di(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,qn(t.priority,function(){r1(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,qn(t.priority,function(){r1(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kl=l,a.target.dispatchEvent(l),kl=null}else return n=An(a),n!==null&&s1(n),t.blockedOn=a,!1;n.shift()}return!0}function c1(t,n,a){Bc(t)&&a.delete(n)}function dw(){dm=!1,Ua!==null&&Bc(Ua)&&(Ua=null),Ba!==null&&Bc(Ba)&&(Ba=null),Pa!==null&&Bc(Pa)&&(Pa=null),So.forEach(c1),Ao.forEach(c1)}function Pc(t,n){t.blockedOn===n&&(t.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dw)))}var qc=null;function h1(t){qc!==t&&(qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var f=An(a);f!==null&&(t.splice(n,3),n-=3,hd(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Fr(t){function n(C){return Pc(C,t)}Ua!==null&&Pc(Ua,t),Ba!==null&&Pc(Ba,t),Pa!==null&&Pc(Pa,t),So.forEach(n),Ao.forEach(n);for(var a=0;a<qa.length;a++){var l=qa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qa.length&&(a=qa[0],a.blockedOn===null);)u1(a),a.blockedOn===null&&qa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[ze]||null;if(typeof f=="function")g||h1(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[ze]||null)E=g.formAction;else if(fm(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),h1(a)}}}function f1(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function mm(t){this._internalRoot=t}Hc.prototype.render=mm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=En();i1(a,l,t,n,null,null)},Hc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;i1(t.current,2,null,t,null,null),Sc(),n[hi]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Su();t={blockedOn:null,target:t,priority:n};for(var a=0;a<qa.length&&n!==0&&n<qa[a].priority;a++);qa.splice(a,0,t),a===0&&u1(t)}};var d1=e.version;if(d1!=="19.2.3")throw Error(s(527,d1,"19.2.3"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var mw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{Bn=Fc.inject(mw),qe=Fc}catch{}}return Gr.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=E_,f=T_,g=b_;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=e1(t,1,!1,null,null,a,l,null,c,f,g,f1),t[hi]=n.current,Xd(t),new mm(n)},Gr.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=E_,g=T_,E=b_,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=e1(t,1,!0,n,a??null,l,c,C,f,g,E,f1),n.context=n1(null),a=n.current,l=En(),l=cs(l),c=Ra(l),c.callback=null,Na(a,c,l),a=l,n.current.lanes=a,os(n,a),Ri(n),t[hi]=n.current,Xd(t),new Hc(n)},Gr.version="19.2.3",Gr}var Am;function S1(){if(Am)return Yc.exports;Am=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yc.exports=b1(),Yc.exports}var A1=S1();const x1=Ji(A1);var Je=(r=>(r.Type1="1",r.Type2U="2U",r.Type2D="2D",r.Type3="3",r))(Je||{});const Qr=({type:r,label:e})=>{const i=()=>{switch(r){case Je.Type1:return"bg-amber-500/20 text-amber-400 border-amber-500/40";case Je.Type2U:return"bg-emerald-500/20 text-emerald-400 border-emerald-500/40";case Je.Type2D:return"bg-rose-500/20 text-rose-400 border-rose-500/40";case Je.Type3:return"bg-purple-500/20 text-purple-400 border-purple-500/40";default:return"bg-slate-800 text-slate-400 border-slate-700"}};return T.jsxs("div",{className:"flex flex-col items-center gap-1",children:[T.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-tighter",children:e}),T.jsx("div",{className:`w-8 h-8 rounded border flex items-center justify-center font-black text-sm transition-all hover:scale-110 cursor-help ${i()}`,title:`${e}: ${r}`,children:r})]})},w1=({status:r})=>{const i={Bullish:{color:"text-emerald-400 bg-emerald-500/10 border-emerald-500/30",icon:""},Bearish:{color:"text-rose-400 bg-rose-500/10 border-rose-500/30",icon:""},Mixed:{color:"text-slate-400 bg-slate-500/10 border-slate-500/30",icon:""}}[r];return T.jsxs("span",{className:`px-2 py-0.5 rounded-full border text-xs font-semibold flex items-center gap-1 w-fit ${i.color}`,children:[T.jsx("span",{className:"text-sm",children:i.icon}),r]})};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=r=>{const e=N1(r);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=lt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:h,iconNode:d,...p},v)=>lt.createElement("svg",{ref:v,...C1,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:xm("lucide",o),...!h&&!D1(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>lt.createElement(_,b)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(r,e)=>{const i=lt.forwardRef(({className:s,...o},h)=>lt.createElement(I1,{ref:h,iconNode:e,className:xm(`lucide-${R1(wm(r))}`,`lucide-${r}`,s),...o}));return i.displayName=wm(r),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=Rt("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=Rt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Rt("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=Rt("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Rt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=Rt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=Rt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Rt("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=Rt("cloud-lightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Rt("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=Rt("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=Rt("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Rt("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=Rt("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Rt("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=Rt("hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Rt("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Rt("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Rt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Rt("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Rt("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Rt("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Rt("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=Rt("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Rt("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Rt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Rt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=Rt("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=Rt("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Rt("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Rt("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Rt("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Rt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Rt("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Rt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Rt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),eE=({stock:r})=>{const[e,i]=lt.useState(null),[s,o]=lt.useState(!1),h=lt.useRef(r.price);lt.useEffect(()=>{if(r.price!==h.current){o(!0);const p=setTimeout(()=>o(!1),500);r.price>h.current?i("up"):r.price<h.current&&i("down");const v=setTimeout(()=>i(null),300);return h.current=r.price,()=>{clearTimeout(p),clearTimeout(v)}}},[r.price]);const d=r.price??0;return T.jsxs("div",{className:`px-6 py-4 text-right transition-colors duration-300 relative ${e==="up"?"bg-emerald-500/5":e==="down"?"bg-rose-500/5":""}`,children:[T.jsxs("div",{className:`font-mono text-sm font-bold transition-colors flex items-center justify-end gap-2 ${e==="up"?"text-emerald-400":e==="down"?"text-rose-400":"text-slate-100"}`,children:[T.jsx("div",{className:`w-1.5 h-1.5 rounded-full bg-indigo-500 transition-opacity duration-300 ${s?"opacity-100 shadow-[0_0_8px_rgba(99,102,241,1)]":"opacity-0"}`}),"$",d.toFixed(d<50?3:2)]}),T.jsxs("div",{className:`text-[10px] font-bold flex items-center justify-end gap-1 ${r.change>=0?"text-emerald-500":"text-rose-500"}`,children:[r.change>=0?"+":"",(r.changePercent??0).toFixed(2),"%",r.change>=0?T.jsx(Ro,{className:"w-2.5 h-2.5"}):T.jsx(Zc,{className:"w-2.5 h-2.5"})]})]})},jm=({stocks:r,onSelect:e,selectedSymbol:i,title:s,subtitle:o,icon:h})=>{const[d,p]=lt.useState(null),[v,_]=lt.useState(null),b=lt.useMemo(()=>r.filter(N=>{const P=!d||N.timeframes.h4===d,Z=!v||N.timeframes.h1===v;return P&&Z}),[r,d,v]),A=({label:N,current:P,setter:Z})=>T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest",children:N}),T.jsx("div",{className:"flex items-center gap-1 bg-slate-900/80 p-1 rounded-lg border border-slate-800",children:[Je.Type1,Je.Type2U,Je.Type2D,Je.Type3].map(J=>T.jsx("button",{onClick:()=>Z(P===J?null:J),className:`w-7 h-7 rounded flex items-center justify-center text-[10px] font-black transition-all border ${P===J?"bg-indigo-600 border-indigo-400 text-white shadow-[0_0_10px_rgba(99,102,241,0.3)]":"bg-slate-800 border-slate-700 text-slate-400 hover:text-slate-200 hover:border-slate-600"}`,children:J},J))})]});return T.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-2xl overflow-hidden shadow-2xl backdrop-blur-md",children:[T.jsxs("div",{className:"p-5 border-b border-slate-800 bg-slate-900/60 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-indigo-500/10 rounded-lg",children:h||T.jsx(Mm,{className:"w-5 h-5 text-indigo-400"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-black tracking-tight text-white uppercase italic",children:s}),T.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:o})]})]}),T.jsxs("div",{className:"flex items-center gap-6",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx(A,{label:"Filter 4H",current:d,setter:p}),T.jsx(A,{label:"Filter 1H",current:v,setter:_})]}),(d||v)&&T.jsxs("button",{onClick:()=>{p(null),_(null)},className:"text-[9px] font-black text-rose-400 uppercase tracking-widest hover:text-rose-300 transition-colors flex items-center gap-1",children:[T.jsx(Om,{className:"w-3 h-3"})," Clear"]})]})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"bg-slate-950/40 text-slate-500 text-[9px] uppercase font-black tracking-[0.2em] border-b border-slate-800/50",children:[T.jsx("th",{className:"px-6 py-4",children:"Symbol"}),T.jsx("th",{className:"px-6 py-4 text-right",children:"Price"}),T.jsx("th",{className:"px-6 py-4",children:"Bias"}),T.jsx("th",{className:"px-6 py-4 text-center",children:"Strat (M W D 4H 1H)"}),T.jsx("th",{className:"px-6 py-4",children:"Pattern"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-800/40",children:b.map(N=>T.jsxs("tr",{onClick:()=>e(N),className:`group cursor-pointer transition-all ${i===N.symbol?"bg-indigo-500/10 ring-1 ring-inset ring-indigo-500/20":"hover:bg-slate-800/40"}`,children:[T.jsx("td",{className:"px-6 py-4",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-800 border border-slate-700 flex items-center justify-center font-black text-[10px] text-slate-400 group-hover:bg-indigo-500 group-hover:text-white group-hover:border-indigo-400 transition-all",children:N.symbol.charAt(0)}),T.jsxs("div",{children:[T.jsx("div",{className:"font-black text-slate-100 text-sm tracking-tight group-hover:text-indigo-300 transition-colors uppercase",children:N.symbol}),T.jsx("div",{className:"text-[9px] text-slate-600 font-bold uppercase tracking-widest",children:N.category})]})]})}),T.jsx(eE,{stock:N}),T.jsx("td",{className:"px-6 py-4",children:T.jsx(w1,{status:N.ftfc})}),T.jsx("td",{className:"px-6 py-4",children:T.jsxs("div",{className:"flex items-center justify-center gap-2",children:[T.jsx(Qr,{type:N.timeframes.monthly,label:"M"}),T.jsx(Qr,{type:N.timeframes.weekly,label:"W"}),T.jsx(Qr,{type:N.timeframes.daily,label:"D"}),T.jsx(Qr,{type:N.timeframes.h4,label:"4H"}),T.jsx(Qr,{type:N.timeframes.h1,label:"1H"})]})}),T.jsx("td",{className:"px-6 py-4",children:T.jsx("div",{className:"flex flex-col gap-1.5",children:T.jsxs("div",{className:"text-[10px] font-black text-indigo-400 bg-indigo-500/10 px-2 py-1 rounded border border-indigo-500/20 w-fit uppercase tracking-tighter flex items-center gap-1.5",children:[T.jsx(Jc,{className:"w-2.5 h-2.5 fill-current"}),N.pattern]})})})]},N.symbol))})]})}),b.length===0&&T.jsxs("div",{className:"p-10 flex flex-col items-center justify-center text-slate-600 gap-4",children:[T.jsx(Yr,{className:"w-8 h-8 opacity-20 animate-pulse"}),T.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No assets match criteria"})]})]})},nE="sk-zo0NhpIWAHwRMbhrOC2a1QUXs0aQWhoE3gwsTQ0qK5fEgXuQ",iE="https://api.moonshot.cn/v1",zm="tts_cache_",km={catalyst:1e3*60*60,highProb:1e3*60*30};let Lm=0;const Um=2e4;async function aE(){const e=Date.now()-Lm;if(e<Um){const i=Um-e;console.log(`Rate limit: Waiting ${i}ms before next request...`),await new Promise(s=>setTimeout(s,i))}Lm=Date.now()}function Bm(r,e){try{const i=localStorage.getItem(zm+r);if(!i)return null;const{data:s,timestamp:o}=JSON.parse(i);if(Date.now()-o<e)return s}catch{}return null}function Pm(r,e){try{localStorage.setItem(zm+r,JSON.stringify({data:e,timestamp:Date.now()}))}catch{}}async function js(r,e){var s,o,h;await aE();const i=[];e&&i.push({role:"system",content:e}),i.push({role:"user",content:r});try{const d=await fetch(`${iE}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${nE}`},body:JSON.stringify({model:"kimi-latest",messages:i,temperature:.7,max_tokens:2e3})});if(!d.ok){const v=await d.text();throw console.error("Kimi API error:",d.status,v),d.status===401?new Error("Invalid API key. Please check your Kimi API key in GitHub Secrets."):d.status===429?new Error("Rate limit exceeded (3 req/min on free tier). Please wait a moment and try again."):new Error(`Kimi API error: ${d.status}`)}return((o=(s=(await d.json()).choices[0])==null?void 0:s.message)==null?void 0:o.content)||"{}"}catch(d){throw(h=d.message)!=null&&h.includes("Rate limit")?d:(console.error("Kimi API call failed:",d),new Error("Failed to connect to Kimi API. Please try again later."))}}async function sE(r){const e=`You are Aenigma-Parvum, a macro-focused trading analyst using ICT (Inner Circle Trader) methodology. 
Analyze for liquidity voids, macro exhaustion, and institutional order flow. Be precise and technical.`,i=`
Analyze ${r.symbol} at $${r.price} with ${r.ftfc} FTFC bias.

Identify:
1. Macro bias (Bullish/Bearish/Neutral)
2. Hidden liquidity zone (price level)
3. Confluence score (0-100) based on macro alignment

Return ONLY this JSON format:
{
  "macroBias": "Bullish/Bearish/Neutral",
  "liquidityZone": "price level",
  "protocolNote": "1 sentence technical note",
  "confluenceScore": number
}`;try{const s=await js(i,e),o=s.match(/```json\n?([\s\S]*?)\n?```/)||s.match(/\{[\s\S]*\}/),h=o?o[1]||o[0]:s;return JSON.parse(h)}catch(s){return console.error("Aenigma analysis failed:",s),{macroBias:"Neutral",liquidityZone:"N/A",protocolNote:"Analysis unavailable.",confluenceScore:50}}}async function rE(r){const e=`You are The Strat Engine (TTS), analyzing markets using Rob Smith's Strat methodology.
Focus on 1-2-3 candle patterns, Full Time Frame Continuity (FTFC), and Universal Truths.`,i=`
Analyze ${r.symbol} using The Strat methodology:
- Pattern: ${r.pattern}
- FTFC: ${r.ftfc}
- Monthly: ${r.timeframes.monthly}, Weekly: ${r.timeframes.weekly}, Daily: ${r.timeframes.daily}

Provide:
1. Professional Strat analysis
2. Potential target price
3. Stop loss level
4. Probability (High/Medium/Low)

Return ONLY this JSON:
{
  "analysis": "detailed Strat analysis",
  "potentialTarget": "target price",
  "stopLoss": "stop loss price",
  "probability": "High/Medium/Low"
}`;try{const s=await js(i,e),o=s.match(/```json\n?([\s\S]*?)\n?```/)||s.match(/\{[\s\S]*\}/),h=o?o[1]||o[0]:s;return JSON.parse(h)}catch(s){return console.error("Strat analysis failed:",s),{analysis:"Error analyzing setup.",potentialTarget:"N/A",stopLoss:"N/A",probability:"Medium"}}}async function lE(r){const e="catalyst_insights",i=Bm(e,km.catalyst);if(i)return i;const s=r.slice(0,10).map(d=>`${d.symbol} [FTFC: ${d.ftfc}]`).join(", "),o="You are Catalyst-Scout, identifying market catalysts and their alignment with The Strat methodology.",h=`
For these tickers: ${s}

Identify 3-5 upcoming catalysts (earnings, economic data, FDA decisions, etc.) in the next 30 days.

For each:
1. Symbol
2. Event description
3. Date (estimate if exact unknown)
4. Impact: High/Medium/Low
5. Strat alignment (how it fits candle patterns)
6. Universal Truth most likely: 1, 2, or 3

Return ONLY JSON array:
[
  {
    "symbol": "TICKER",
    "event": "description",
    "date": "YYYY-MM-DD",
    "impact": "High/Medium/Low",
    "stratAlignment": "analysis",
    "universalTruth": "1/2/3"
  }
]`;try{const d=await js(h,o),p=d.match(/```json\n?([\s\S]*?)\n?```/)||d.match(/\[[\s\S]*\]/),v=p?p[1]||p[0]:d,_=JSON.parse(v);return Pm(e,_),_}catch(d){return console.error("Catalyst Scout failed:",d),[]}}async function oE(r){const e="high_prob_setups",i=Bm(e,km.highProb);if(i)return i;const s=r.slice(0,15).map(d=>`${d.symbol} [FTFC: ${d.ftfc}, Pattern: ${d.pattern}]`).join(", "),o="You are a confluence analyst combining The Strat patterns with macro bias.",h=`
Analyze: ${s}

Find 3-5 highest probability setups where:
- TTS (Strat patterns) shows clear direction
- Aenigma (macro) confirms or adds confluence

Label protocol:
- 'CONFLUENCE' if both agree
- 'TTS' or 'AENIGMA' if only one identifies it

Return JSON array:
[
  {
    "symbol": "TICKER",
    "timeframe": "1H/4H",
    "pattern": "pattern name",
    "direction": "Long/Short",
    "probability": 85,
    "reasoning": "explanation",
    "target": "price target",
    "protocol": "TTS/AENIGMA/CONFLUENCE"
  }
]`;try{const d=await js(h,o),p=d.match(/```json\n?([\s\S]*?)\n?```/)||d.match(/\[[\s\S]*\]/),v=p?p[1]||p[0]:d,_=JSON.parse(v);return Pm(e,_),_}catch(d){return console.error("High prob setups failed:",d),[]}}async function uE(r){const e=r.find(d=>d.symbol==="SPY"),i=r.find(d=>d.symbol==="QQQ"),s=r.find(d=>d.symbol==="VIX"),o="You are Market Pulse, providing concise broad market analysis using The Strat + Macro context.",h=`
Market Context:
- SPY FTFC: ${(e==null?void 0:e.ftfc)||"Unknown"}, Price: $${(e==null?void 0:e.price)||"N/A"}
- QQQ FTFC: ${(i==null?void 0:i.ftfc)||"Unknown"}, Price: $${(i==null?void 0:i.price)||"N/A"}
- VIX: ${(s==null?void 0:s.price)||"N/A"}

Provide brief market pulse:
1. Summary (2-3 sentences)
2. Top pick symbol for today
3. Market bias: Bullish/Bearish/Neutral

Return JSON:
{
  "summary": "market summary",
  "topPick": "SYMBOL",
  "marketBias": "Bullish/Bearish/Neutral"
}`;try{const d=await js(h,o),p=d.match(/```json\n?([\s\S]*?)\n?```/)||d.match(/\{[\s\S]*\}/),v=p?p[1]||p[0]:d;return{...JSON.parse(v),sources:[]}}catch(d){return console.error("Market pulse failed:",d),{summary:"Scanning market signals...",topPick:"N/A",marketBias:"Neutral"}}}let No=[];async function cE(r){const e=`You are the Intelligence Hub of TTS (The Strat) and Aenigma-Parvum (ICT). 
Combine Rob Smith's Strat methodology with Inner Circle Trader concepts.
Be concise, technical, and actionable. Focus on 1-2-3 patterns, FTFC, order blocks, and liquidity.`;try{No.push({role:"user",text:r});const i=No.slice(-10).map(o=>`${o.role}: ${o.text}`).join(`
`),s=await js(i,e);return No.push({role:"model",text:s}),s}catch(i){return console.error("StratChat error:",i),`Error: ${i.message||"Failed to process message"}`}}function qm(){No=[]}const hE=({stock:r})=>{const[e,i]=lt.useState(null),[s,o]=lt.useState(null),[h,d]=lt.useState(!1);if(lt.useEffect(()=>{r&&(d(!0),Promise.all([rE(r),sE(r)]).then(([v,_])=>{i(v),o(_),d(!1)}))},[r==null?void 0:r.symbol]),!r)return T.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8 text-center text-slate-500 space-y-4 bg-slate-900/30 rounded-xl border border-slate-800 border-dashed",children:[T.jsx(Nm,{className:"w-12 h-12 opacity-20"}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-slate-400",children:"Intelligence Hub Offline"}),T.jsx("p",{className:"text-sm mt-1",children:"Select a ticker to initialize Dual-Agent Protocol Analysis."})]})]});const p=(e==null?void 0:e.probability)==="High"&&((s==null?void 0:s.confluenceScore)??0)>70;return T.jsxs("div",{className:"h-full flex flex-col space-y-6 animate-in fade-in slide-in-from-right duration-500 overflow-y-auto no-scrollbar",children:[T.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-4 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`p-2 rounded-lg ${h?"bg-slate-800 animate-pulse":"bg-indigo-500/10"}`,children:T.jsx(F1,{className:`w-5 h-5 ${h?"text-slate-600":"text-indigo-400"}`})}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Protocol Status"}),T.jsx("div",{className:"text-xs font-bold text-slate-200",children:h?"Handshaking Protocols...":"Dual Confluence Active"})]})]}),!h&&p&&T.jsx("div",{className:"bg-emerald-500/20 text-emerald-400 text-[10px] font-black px-2 py-1 rounded border border-emerald-500/40 animate-pulse uppercase",children:"Total Confluence"})]}),T.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-5 shadow-xl relative overflow-hidden",children:[T.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:T.jsx(Yr,{className:"w-12 h-12 text-indigo-500"})}),T.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[T.jsx(O1,{className:"w-5 h-5 text-indigo-400"}),T.jsx("h3",{className:"text-sm font-black text-indigo-300 uppercase tracking-widest",children:"TTS Strat Engine"})]}),h?T.jsx("div",{className:"py-10 flex flex-col items-center gap-2",children:T.jsx(Dm,{className:"w-6 h-6 text-indigo-500/40 animate-spin"})}):e?T.jsxs("div",{className:"space-y-4",children:[T.jsx("p",{className:"text-xs text-slate-300 leading-relaxed font-medium",children:e.analysis}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex-1 bg-slate-800/50 p-2 rounded border border-slate-700/50",children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-500 uppercase",children:"Target"}),T.jsx("div",{className:"text-sm font-mono font-bold text-emerald-400",children:e.potentialTarget})]}),T.jsxs("div",{className:"flex-1 bg-slate-800/50 p-2 rounded border border-slate-700/50",children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-500 uppercase",children:"Stop"}),T.jsx("div",{className:"text-sm font-mono font-bold text-rose-400",children:e.stopLoss})]})]})]}):null]}),T.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-xl p-5 shadow-xl relative overflow-hidden group",children:[T.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(99,102,241,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(99,102,241,0.02)_1px,transparent_1px)] bg-[size:20px_20px]"}),T.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[T.jsx(Jc,{className:"w-5 h-5 text-amber-400"}),T.jsx("h3",{className:"text-sm font-black text-amber-300 uppercase tracking-widest",children:"Aenigma-Parvum Agent"})]}),h?T.jsx("div",{className:"py-10 flex flex-col items-center gap-2",children:T.jsx(Dm,{className:"w-6 h-6 text-amber-500/40 animate-spin"})}):s?T.jsxs("div",{className:"space-y-4 relative z-10",children:[T.jsxs("div",{className:"p-3 bg-amber-500/5 rounded-lg border border-amber-500/10 italic text-[11px] text-amber-100/80",children:['"',s.protocolNote,'"']}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-600 uppercase mb-1",children:"Macro Bias"}),T.jsx("div",{className:`text-xs font-black uppercase ${s.macroBias==="Bullish"?"text-emerald-400":"text-rose-400"}`,children:s.macroBias})]}),T.jsxs("div",{children:[T.jsx("div",{className:"text-[8px] font-bold text-slate-600 uppercase mb-1",children:"Liquidity Zone"}),T.jsx("div",{className:"text-xs font-black text-slate-200 font-mono",children:s.liquidityZone})]})]}),T.jsxs("div",{className:"pt-2",children:[T.jsxs("div",{className:"flex items-center justify-between mb-1",children:[T.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase",children:"Confluence Score"}),T.jsxs("span",{className:"text-[10px] font-black text-amber-400",children:[s.confluenceScore,"%"]})]}),T.jsx("div",{className:"h-1 w-full bg-slate-800 rounded-full overflow-hidden",children:T.jsx("div",{className:"h-full bg-amber-500 transition-all duration-1000",style:{width:`${s.confluenceScore}%`}})})]})]}):null]})]})},Hm=["The Strat: It is what it is.","Trust the Strat.","Price action is the only truth.","Broadening formations are the result of 3 bars.","Full Time Frame Continuity is non-negotiable.","Objective Truth: Price over opinion.","Look for the 2-2 reversal.","Inside bars are the quiet before the storm.","Everything else is just noise.","Multiple time frame analysis is the key to the kingdom.","Don't guess, just watch the candles.","The 3-1-2 is the most powerful reversal."],fE=({stocks:r})=>{const[e,i]=lt.useState(null),[s,o]=lt.useState(!0),[h,d]=lt.useState(0),[p,v]=lt.useState(0),_=lt.useCallback(async(N=!1)=>{if(!(!N&&Date.now()-h<1e3*30)){o(!0);try{const P=await uE(r);i(P),d(Date.now())}finally{o(!1)}}},[r,h]);if(lt.useEffect(()=>{_()},[_]),lt.useEffect(()=>{const N=setInterval(()=>{v(P=>(P+1)%Hm.length)},5e3);return()=>clearInterval(N)},[]),s&&!e)return T.jsx("div",{className:"bg-indigo-500/5 border border-indigo-500/10 rounded-2xl p-4 flex items-center justify-center animate-pulse",children:T.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest",children:"Grounded Intelligence Sync..."})});const b=(e==null?void 0:e.marketBias)==="Bullish"?Ro:(e==null?void 0:e.marketBias)==="Bearish"?Zc:X1,A=(e==null?void 0:e.marketBias)==="Bullish"?"text-emerald-400":(e==null?void 0:e.marketBias)==="Bearish"?"text-rose-400":"text-slate-400";return T.jsxs("div",{className:"bg-gradient-to-r from-indigo-500/10 via-slate-900 to-transparent border border-indigo-500/20 rounded-2xl shadow-2xl relative overflow-hidden group pt-12 pb-6 px-6",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-10 bg-indigo-500/5 border-b border-indigo-500/10 flex items-center px-6 overflow-hidden",children:T.jsxs("div",{className:"flex items-center gap-3 animate-in fade-in slide-in-from-top duration-1000 w-full",children:[T.jsx($1,{className:"w-3 h-3 text-indigo-500/40 fill-indigo-500/5 shrink-0"}),T.jsx("span",{className:"text-[11px] font-black text-indigo-400/80 uppercase tracking-[0.2em] whitespace-nowrap italic",children:Hm[p]}),T.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-indigo-500/20 to-transparent ml-4"}),T.jsx("span",{className:"text-[8px] font-bold text-slate-700 uppercase tracking-widest hidden md:block",children:"Strat Clarion"})]},p)}),T.jsx("div",{className:"absolute top-10 right-0 p-8 opacity-5",children:T.jsx(Im,{className:"w-24 h-24 text-indigo-500"})}),T.jsxs("div",{className:"flex flex-col gap-4 relative z-10",children:[T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[T.jsxs("div",{className:"space-y-1 max-w-3xl",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("div",{className:"bg-indigo-500 p-1 rounded",children:T.jsx(Im,{className:"w-3 h-3 text-white"})}),T.jsx("span",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em]",children:"Real-Time Grounded Analysis"}),s&&T.jsx(wo,{className:"w-2.5 h-2.5 text-indigo-400 animate-spin ml-2"})]}),T.jsx("h2",{className:"text-xl font-bold text-white tracking-tight leading-snug",children:e==null?void 0:e.summary}),T.jsxs("div",{className:"flex items-center gap-4 pt-2",children:[T.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1 rounded-full bg-slate-900 border border-slate-800 text-xs font-bold ${A}`,children:[T.jsx(b,{className:"w-3 h-3"}),e==null?void 0:e.marketBias," Bias"]}),T.jsxs("p",{className:"text-sm text-slate-400 font-medium italic",children:[T.jsx("span",{className:"text-indigo-400 not-italic font-bold uppercase text-[10px] mr-2 tracking-widest",children:"Active Setup:"}),e==null?void 0:e.topPick]})]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:()=>_(!0),disabled:s,className:"p-2.5 rounded-xl bg-slate-800 border border-slate-700 text-slate-400 hover:text-white transition-all active:scale-95 disabled:opacity-50",title:"Refresh Intelligence",children:T.jsx(wo,{className:`w-4 h-4 ${s?"animate-spin":""}`})}),T.jsxs("button",{className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white px-5 py-2.5 rounded-xl text-xs font-bold transition-all shadow-lg shadow-indigo-600/20 group-hover:scale-105 active:scale-95 whitespace-nowrap uppercase tracking-widest",children:["Market Scan ",T.jsx(M1,{className:"w-4 h-4"})]})]})]}),(e==null?void 0:e.sources)&&e.sources.length>0&&T.jsxs("div",{className:"pt-4 mt-2 border-t border-slate-800/50 flex flex-wrap gap-4 items-center",children:[T.jsxs("span",{className:"text-[10px] font-bold text-slate-600 uppercase flex items-center gap-1",children:[T.jsx(H1,{className:"w-3 h-3"})," Grounding:"]}),e.sources.slice(0,3).map((N,P)=>{var Z,J;return T.jsxs("a",{href:((Z=N.web)==null?void 0:Z.uri)||"#",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-indigo-400 hover:text-indigo-300 font-bold flex items-center gap-1 transition-colors border-b border-indigo-500/20",children:[((J=N.web)==null?void 0:J.title)||"External Reference",T.jsx(P1,{className:"w-2.5 h-2.5"})]},P)})]})]})]})},dE=({stocks:r})=>{const[e,i]=lt.useState([]),[s,o]=lt.useState(!0),[h,d]=lt.useState(!1);return lt.useEffect(()=>{let p=!0;return(async()=>{o(!0),d(!1);try{const _=await lE(r);p&&(i(_),_.length===0&&d(!0))}catch{p&&d(!0)}finally{p&&o(!1)}})(),()=>{p=!1}},[r.length]),s?T.jsx("div",{className:"flex gap-4 overflow-hidden py-2",children:[1,2,3].map(p=>T.jsx("div",{className:"min-w-[300px] h-24 bg-slate-900/50 border border-slate-800 rounded-xl animate-pulse"},p))}):T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between px-1",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(q1,{className:"w-5 h-5 text-rose-500 fill-rose-500/20"}),T.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-white",children:"Volatile Catalyst Watch"})]}),T.jsx("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:e.length>0?"Confluence-Aware Intel":"Awaiting Data"})]}),T.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 no-scrollbar",children:e.length>0?e.map((p,v)=>T.jsxs("div",{className:"min-w-[320px] bg-slate-900 border border-slate-800 rounded-xl p-4 hover:border-indigo-500/50 transition-all cursor-default group relative overflow-hidden shadow-lg",children:[T.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:T.jsx(Jc,{className:"w-12 h-12 text-indigo-400"})}),T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-lg font-black text-white group-hover:text-indigo-400 transition-colors",children:p.symbol}),T.jsx("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded border ${p.impact==="High"?"bg-rose-500/10 border-rose-500/30 text-rose-400":"bg-amber-500/10 border-amber-500/30 text-amber-400"}`,children:p.impact})]}),T.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-500",children:[T.jsx(j1,{className:"w-3 h-3"})," ",p.date]})]}),T.jsx("p",{className:"text-xs text-slate-300 font-medium line-clamp-1 mb-3",children:p.event}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("div",{className:"bg-indigo-500/20 text-indigo-400 px-2 py-1 rounded text-[10px] font-black border border-indigo-500/30 flex items-center gap-1",children:[T.jsx(Cm,{className:"w-3 h-3"}),"Truth #",p.universalTruth]}),T.jsx("div",{className:"text-[10px] text-slate-500 italic font-medium truncate flex-1",children:p.stratAlignment})]})]},v)):T.jsx("div",{className:"w-full flex items-center justify-center py-10 bg-slate-900/30 border border-dashed border-slate-800 rounded-xl min-h-[120px]",children:T.jsx("div",{className:"flex flex-col items-center gap-2",children:h?T.jsxs(T.Fragment,{children:[T.jsx(k1,{className:"w-5 h-5 text-amber-500/50"}),T.jsxs("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-widest text-center",children:["Grounded Search Limited (429)",T.jsx("br",{}),T.jsx("span",{className:"text-[10px] opacity-60",children:"Retrying with objective price action only"})]})]}):T.jsxs(T.Fragment,{children:[T.jsx(Z1,{className:"w-5 h-5 text-indigo-500/30 animate-spin"}),T.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-widest",children:"Scanning Market for Catalysts..."})]})})})})]})},mE=({futures:r})=>T.jsxs("div",{className:"bg-slate-900/40 border border-slate-800 rounded-2xl overflow-hidden shadow-2xl backdrop-blur-md h-full flex flex-col",children:[T.jsx("div",{className:"p-5 border-b border-slate-800 bg-slate-900/60 flex items-center justify-between",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg",children:T.jsx(L1,{className:"w-5 h-5 text-amber-400"})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-lg font-black tracking-tight text-white uppercase italic",children:"ICT Midnight Open"}),T.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"00:00 EST DAILY BIAS CONTEXT"})]})]})}),T.jsxs("div",{className:"p-4 flex-1 space-y-4",children:[r.map(e=>{const i=e.midnightOpen||e.price*.999,s=e.price>i;return T.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900 border border-slate-800 rounded-xl hover:border-indigo-500/30 transition-all",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center font-black text-xs ${s?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-rose-500/10 text-rose-400 border border-rose-500/20"}`,children:e.symbol}),T.jsxs("div",{children:[T.jsx("div",{className:"text-xs font-black text-slate-100 uppercase",children:e.symbol}),T.jsxs("div",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest",children:["M. Open: $",i.toFixed(1)]})]})]}),T.jsxs("div",{className:"flex flex-col items-end",children:[T.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-[10px] font-black uppercase tracking-widest border ${s?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-rose-500/10 border-rose-500/30 text-rose-400"}`,children:[s?T.jsx(Ro,{className:"w-3 h-3"}):T.jsx(Zc,{className:"w-3 h-3"}),s?"Bullish":"Bearish"]}),T.jsxs("div",{className:"mt-1 text-[10px] font-mono font-bold text-slate-400",children:["$",e.price.toFixed(1)]})]})]},e.symbol)}),r.length===0&&T.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-10 opacity-30 gap-2",children:[T.jsx(W1,{className:"w-8 h-8 text-slate-500"}),T.jsx("span",{className:"text-[10px] font-bold uppercase",children:"No Futures Data"})]})]}),T.jsx("div",{className:"p-3 bg-slate-950/40 text-center border-t border-slate-800",children:T.jsx("span",{className:"text-[9px] font-black text-indigo-400/80 uppercase tracking-widest",children:"Context: Price above midnight open favors longs."})})]}),gE=()=>{};var Fm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},pE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Qm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,b=h>>2,A=(h&3)<<4|p>>4;let N=(p&15)<<2|_>>6,P=_&63;v||(P=64,d||(N=64)),s.push(i[b],i[A],i[N],i[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Gm(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||A==null)throw new yE;const N=h<<2|p>>4;if(s.push(N),_!==64){const P=p<<4&240|_>>2;if(s.push(P),A!==64){const Z=_<<6&192|A;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _E=function(r){const e=Gm(r);return Qm.encodeByteArray(e,!0)},Co=function(r){return _E(r).replace(/\./g,"")},vE=function(r){try{return Qm.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=()=>EE().__FIREBASE_DEFAULTS__,bE=()=>{if(typeof process>"u"||typeof Fm>"u")return;const r=Fm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vE(r[1]);return e&&JSON.parse(e)},Wc=()=>{try{return gE()||TE()||bE()||SE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},AE=r=>{var e,i;return(i=(e=Wc())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},xE=r=>{const e=AE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Ym=()=>{var r;return(r=Wc())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Co(JSON.stringify(i)),Co(JSON.stringify(d)),""].join(".")}const Kr={};function CE(){const r={prod:[],emulator:[]};for(const e of Object.keys(Kr))Kr[e]?r.emulator.push(e):r.prod.push(e);return r}function DE(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Km=!1;function IE(r,e){if(typeof window>"u"||typeof document>"u"||!th(window.location.host)||Kr[r]===e||Kr[r]||Km)return;Kr[r]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=CE().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,P){N.setAttribute("width","24"),N.setAttribute("id",P),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Km=!0,d()},N}function b(N,P){N.setAttribute("id",P),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=DE(s),P=i("text"),Z=document.getElementById(P)||document.createElement("span"),J=i("learnmore"),nt=document.getElementById(J)||document.createElement("a"),mt=i("preprendIcon"),gt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Et=N.element;p(Et),b(nt,J);const Bt=_();v(gt,mt),Et.append(gt,Z,nt,Bt),document.body.appendChild(Et)}h?(Z.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VE(){var e;const r=(e=Wc())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OE(){return!VE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jE(){try{return typeof indexedDB=="object"}catch{return!1}}function zE(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="FirebaseError";class zs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=kE,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xm.prototype.create)}}class Xm{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?LE(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new zs(o,p,s)}}function LE(r,e){return r.replace(UE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const UE=/\{\$([^}]+)}/g;function Do(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if($m(h)&&$m(d)){if(!Do(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function $m(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(r){return r&&r._delegate?r._delegate:r}class Xr{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new wE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qE(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PE(r){return r===Ga?void 0:r}function qE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new BE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const FE={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},GE=Vt.INFO,QE={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},YE=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=QE[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=GE,this._logHandler=YE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...e),this._logHandler(this,Vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...e),this._logHandler(this,Vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...e),this._logHandler(this,Vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...e),this._logHandler(this,Vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...e),this._logHandler(this,Vt.ERROR,...e)}}const KE=(r,e)=>e.some(i=>r instanceof i);let Jm,Wm;function XE(){return Jm||(Jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $E(){return Wm||(Wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tg=new WeakMap,eh=new WeakMap,eg=new WeakMap,nh=new WeakMap,ih=new WeakMap;function ZE(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Wi(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&tg.set(i,r)}).catch(()=>{}),ih.set(e,r),e}function JE(r){if(eh.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});eh.set(r,e)}let ah={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return eh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||eg.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Wi(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WE(r){ah=r(ah)}function tT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(sh(this),e,...i);return eg.set(s,e.sort?e.sort():[e]),Wi(s)}:$E().includes(r)?function(...e){return r.apply(sh(this),e),Wi(tg.get(this))}:function(...e){return Wi(r.apply(sh(this),e))}}function eT(r){return typeof r=="function"?tT(r):(r instanceof IDBTransaction&&JE(r),KE(r,XE())?new Proxy(r,ah):r)}function Wi(r){if(r instanceof IDBRequest)return ZE(r);if(nh.has(r))return nh.get(r);const e=eT(r);return e!==r&&(nh.set(r,e),ih.set(e,r)),e}const sh=r=>ih.get(r);function nT(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=Wi(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Wi(d.result),v.oldVersion,v.newVersion,Wi(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const iT=["get","getKey","getAll","getAllKeys","count"],aT=["put","add","delete","clear"],rh=new Map;function ng(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(rh.get(e))return rh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=aT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return rh.set(e,h),h}WE(r=>({...r,get:(e,i,s)=>ng(e,i)||r.get(e,i,s),has:(e,i)=>!!ng(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function rT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const lh="@firebase/app",ig="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Zm("@firebase/app"),lT="@firebase/app-compat",oT="@firebase/analytics-compat",uT="@firebase/analytics",cT="@firebase/app-check-compat",hT="@firebase/app-check",fT="@firebase/auth",dT="@firebase/auth-compat",mT="@firebase/database",gT="@firebase/data-connect",pT="@firebase/database-compat",yT="@firebase/functions",_T="@firebase/functions-compat",vT="@firebase/installations",ET="@firebase/installations-compat",TT="@firebase/messaging",bT="@firebase/messaging-compat",ST="@firebase/performance",AT="@firebase/performance-compat",xT="@firebase/remote-config",wT="@firebase/remote-config-compat",RT="@firebase/storage",NT="@firebase/storage-compat",CT="@firebase/firestore",DT="@firebase/ai",IT="@firebase/firestore-compat",MT="firebase",VT="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]",OT={[lh]:"fire-core",[lT]:"fire-core-compat",[uT]:"fire-analytics",[oT]:"fire-analytics-compat",[hT]:"fire-app-check",[cT]:"fire-app-check-compat",[fT]:"fire-auth",[dT]:"fire-auth-compat",[mT]:"fire-rtdb",[gT]:"fire-data-connect",[pT]:"fire-rtdb-compat",[yT]:"fire-fn",[_T]:"fire-fn-compat",[vT]:"fire-iid",[ET]:"fire-iid-compat",[TT]:"fire-fcm",[bT]:"fire-fcm-compat",[ST]:"fire-perf",[AT]:"fire-perf-compat",[xT]:"fire-rc",[wT]:"fire-rc-compat",[RT]:"fire-gcs",[NT]:"fire-gcs-compat",[CT]:"fire-fst",[IT]:"fire-fst-compat",[DT]:"fire-vertex","fire-js":"fire-js",[MT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Map,jT=new Map,uh=new Map;function ag(r,e){try{r.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Io(r){const e=r.name;if(uh.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;uh.set(e,r);for(const i of $r.values())ag(i,r);for(const i of jT.values())ag(i,r);return!0}function zT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function kT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ta=new Xm("app","Firebase",LT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=VT;function sg(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:oh,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ta.create("bad-app-name",{appName:String(o)});if(i||(i=Ym()),!i)throw ta.create("no-options");const h=$r.get(o);if(h){if(Do(i,h.options)&&Do(s,h.config))return h;throw ta.create("duplicate-app",{appName:o})}const d=new HE(o);for(const v of uh.values())d.addComponent(v);const p=new UT(i,s,d);return $r.set(o,p),p}function rg(r=oh){const e=$r.get(r);if(!e&&r===oh&&Ym())return sg();if(!e)throw ta.create("no-app",{appName:r});return e}function PT(){return Array.from($r.values())}function ks(r,e,i){let s=OT[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(d.join(" "));return}Io(new Xr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebase-heartbeat-database",HT=1,Zr="firebase-heartbeat-store";let ch=null;function lg(){return ch||(ch=nT(qT,HT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zr)}catch(i){console.warn(i)}}}}).catch(r=>{throw ta.create("idb-open",{originalErrorMessage:r.message})})),ch}async function FT(r){try{const i=(await lg()).transaction(Zr),s=await i.objectStore(Zr).get(ug(r));return await i.done,s}catch(e){if(e instanceof zs)Ni.warn(e.message);else{const i=ta.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(i.message)}}}async function og(r,e){try{const s=(await lg()).transaction(Zr,"readwrite");await s.objectStore(Zr).put(e,ug(r)),await s.done}catch(i){if(i instanceof zs)Ni.warn(i.message);else{const s=ta.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(s.message)}}}function ug(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1024,QT=30;class YT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=cg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>QT){const d=$T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=cg(),{heartbeatsToSend:s,unsentEntries:o}=KT(this._heartbeatsCache.heartbeats),h=Co(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function cg(){return new Date().toISOString().substring(0,10)}function KT(r,e=GT){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),hg(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),hg(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class XT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jE()?zE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return og(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return og(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hg(r){return Co(JSON.stringify({version:2,heartbeats:r})).length}function $T(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r){Io(new Xr("platform-logger",e=>new sT(e),"PRIVATE")),Io(new Xr("heartbeat",e=>new YT(e),"PRIVATE")),ks(lh,ig,r),ks(lh,ig,"esm2020"),ks("fire-js","")}ZT("");var JT="firebase",WT="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(JT,WT,"app");var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,dg;(function(){var r;/** @license

   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function e(D,x){function w(){}w.prototype=x.prototype,D.F=x.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(O,I,j){for(var R=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)R[Wt-2]=arguments[Wt];return x.prototype[I].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,x,w){w||(w=0);const O=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)O[I]=x.charCodeAt(w++)|x.charCodeAt(w++)<<8|x.charCodeAt(w++)<<16|x.charCodeAt(w++)<<24;else for(I=0;I<16;++I)O[I]=x[w++]|x[w++]<<8|x[w++]<<16|x[w++]<<24;x=D.g[0],w=D.g[1],I=D.g[2];let j=D.g[3],R;R=x+(j^w&(I^j))+O[0]+3614090360&4294967295,x=w+(R<<7&4294967295|R>>>25),R=j+(I^x&(w^I))+O[1]+3905402710&4294967295,j=x+(R<<12&4294967295|R>>>20),R=I+(w^j&(x^w))+O[2]+606105819&4294967295,I=j+(R<<17&4294967295|R>>>15),R=w+(x^I&(j^x))+O[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(j^w&(I^j))+O[4]+4118548399&4294967295,x=w+(R<<7&4294967295|R>>>25),R=j+(I^x&(w^I))+O[5]+1200080426&4294967295,j=x+(R<<12&4294967295|R>>>20),R=I+(w^j&(x^w))+O[6]+2821735955&4294967295,I=j+(R<<17&4294967295|R>>>15),R=w+(x^I&(j^x))+O[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(j^w&(I^j))+O[8]+1770035416&4294967295,x=w+(R<<7&4294967295|R>>>25),R=j+(I^x&(w^I))+O[9]+2336552879&4294967295,j=x+(R<<12&4294967295|R>>>20),R=I+(w^j&(x^w))+O[10]+4294925233&4294967295,I=j+(R<<17&4294967295|R>>>15),R=w+(x^I&(j^x))+O[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(j^w&(I^j))+O[12]+1804603682&4294967295,x=w+(R<<7&4294967295|R>>>25),R=j+(I^x&(w^I))+O[13]+4254626195&4294967295,j=x+(R<<12&4294967295|R>>>20),R=I+(w^j&(x^w))+O[14]+2792965006&4294967295,I=j+(R<<17&4294967295|R>>>15),R=w+(x^I&(j^x))+O[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=x+(I^j&(w^I))+O[1]+4129170786&4294967295,x=w+(R<<5&4294967295|R>>>27),R=j+(w^I&(x^w))+O[6]+3225465664&4294967295,j=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(j^x))+O[11]+643717713&4294967295,I=j+(R<<14&4294967295|R>>>18),R=w+(j^x&(I^j))+O[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(I^j&(w^I))+O[5]+3593408605&4294967295,x=w+(R<<5&4294967295|R>>>27),R=j+(w^I&(x^w))+O[10]+38016083&4294967295,j=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(j^x))+O[15]+3634488961&4294967295,I=j+(R<<14&4294967295|R>>>18),R=w+(j^x&(I^j))+O[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(I^j&(w^I))+O[9]+568446438&4294967295,x=w+(R<<5&4294967295|R>>>27),R=j+(w^I&(x^w))+O[14]+3275163606&4294967295,j=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(j^x))+O[3]+4107603335&4294967295,I=j+(R<<14&4294967295|R>>>18),R=w+(j^x&(I^j))+O[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(I^j&(w^I))+O[13]+2850285829&4294967295,x=w+(R<<5&4294967295|R>>>27),R=j+(w^I&(x^w))+O[2]+4243563512&4294967295,j=x+(R<<9&4294967295|R>>>23),R=I+(x^w&(j^x))+O[7]+1735328473&4294967295,I=j+(R<<14&4294967295|R>>>18),R=w+(j^x&(I^j))+O[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=x+(w^I^j)+O[5]+4294588738&4294967295,x=w+(R<<4&4294967295|R>>>28),R=j+(x^w^I)+O[8]+2272392833&4294967295,j=x+(R<<11&4294967295|R>>>21),R=I+(j^x^w)+O[11]+1839030562&4294967295,I=j+(R<<16&4294967295|R>>>16),R=w+(I^j^x)+O[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(w^I^j)+O[1]+2763975236&4294967295,x=w+(R<<4&4294967295|R>>>28),R=j+(x^w^I)+O[4]+1272893353&4294967295,j=x+(R<<11&4294967295|R>>>21),R=I+(j^x^w)+O[7]+4139469664&4294967295,I=j+(R<<16&4294967295|R>>>16),R=w+(I^j^x)+O[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(w^I^j)+O[13]+681279174&4294967295,x=w+(R<<4&4294967295|R>>>28),R=j+(x^w^I)+O[0]+3936430074&4294967295,j=x+(R<<11&4294967295|R>>>21),R=I+(j^x^w)+O[3]+3572445317&4294967295,I=j+(R<<16&4294967295|R>>>16),R=w+(I^j^x)+O[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(w^I^j)+O[9]+3654602809&4294967295,x=w+(R<<4&4294967295|R>>>28),R=j+(x^w^I)+O[12]+3873151461&4294967295,j=x+(R<<11&4294967295|R>>>21),R=I+(j^x^w)+O[15]+530742520&4294967295,I=j+(R<<16&4294967295|R>>>16),R=w+(I^j^x)+O[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=x+(I^(w|~j))+O[0]+4096336452&4294967295,x=w+(R<<6&4294967295|R>>>26),R=j+(w^(x|~I))+O[7]+1126891415&4294967295,j=x+(R<<10&4294967295|R>>>22),R=I+(x^(j|~w))+O[14]+2878612391&4294967295,I=j+(R<<15&4294967295|R>>>17),R=w+(j^(I|~x))+O[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=x+(I^(w|~j))+O[12]+1700485571&4294967295,x=w+(R<<6&4294967295|R>>>26),R=j+(w^(x|~I))+O[3]+2399980690&4294967295,j=x+(R<<10&4294967295|R>>>22),R=I+(x^(j|~w))+O[10]+4293915773&4294967295,I=j+(R<<15&4294967295|R>>>17),R=w+(j^(I|~x))+O[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=x+(I^(w|~j))+O[8]+1873313359&4294967295,x=w+(R<<6&4294967295|R>>>26),R=j+(w^(x|~I))+O[15]+4264355552&4294967295,j=x+(R<<10&4294967295|R>>>22),R=I+(x^(j|~w))+O[6]+2734768916&4294967295,I=j+(R<<15&4294967295|R>>>17),R=w+(j^(I|~x))+O[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=x+(I^(w|~j))+O[4]+4149444226&4294967295,x=w+(R<<6&4294967295|R>>>26),R=j+(w^(x|~I))+O[11]+3174756917&4294967295,j=x+(R<<10&4294967295|R>>>22),R=I+(x^(j|~w))+O[2]+718787259&4294967295,I=j+(R<<15&4294967295|R>>>17),R=w+(j^(I|~x))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.v=function(D,x){x===void 0&&(x=D.length);const w=x-this.blockSize,O=this.C;let I=this.h,j=0;for(;j<x;){if(I==0)for(;j<=w;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<x;)if(O[I++]=D.charCodeAt(j++),I==this.blockSize){o(this,O),I=0;break}}else for(;j<x;)if(O[I++]=D[j++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=x},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)D[x++]=this.g[w]>>>O&255;return D};function h(D,x){var w=p;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=x(D)}function d(D,x){this.h=x;const w=[];let O=!0;for(let I=D.length-1;I>=0;I--){const j=D[I]|0;O&&j==x||(w[I]=j,O=!1)}this.g=w}var p={};function v(D){return-128<=D&&D<128?h(D,function(x){return new d([x|0],x<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return nt(_(-D));const x=[];let w=1;for(let O=0;D>=w;O++)x[O]=D/w|0,w*=4294967296;return new d(x,0)}function b(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return nt(b(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(x,8));let O=A;for(let j=0;j<D.length;j+=8){var I=Math.min(8,D.length-j);const R=parseInt(D.substring(j,j+I),x);I<8?(I=_(Math.pow(x,I)),O=O.j(I).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var A=v(0),N=v(1),P=v(16777216);r=d.prototype,r.m=function(){if(J(this))return-nt(this).m();let D=0,x=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);D+=(O>=0?O:4294967296+O)*x,x*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Z(this))return"0";if(J(this))return"-"+nt(this).toString(D);const x=_(Math.pow(D,6));var w=this;let O="";for(;;){const I=Bt(w,x).g;w=mt(w,I.j(x));let j=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=I,Z(w))return j+O;for(;j.length<6;)j="0"+j;O=j+O}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Z(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function J(D){return D.h==-1}r.l=function(D){return D=mt(this,D),J(D)?-1:Z(D)?0:1};function nt(D){const x=D.g.length,w=[];for(let O=0;O<x;O++)w[O]=~D.g[O];return new d(w,~D.h).add(N)}r.abs=function(){return J(this)?nt(this):this},r.add=function(D){const x=Math.max(this.g.length,D.g.length),w=[];let O=0;for(let I=0;I<=x;I++){let j=O+(this.i(I)&65535)+(D.i(I)&65535),R=(j>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);O=R>>>16,j&=65535,R&=65535,w[I]=R<<16|j}return new d(w,w[w.length-1]&-2147483648?-1:0)};function mt(D,x){return D.add(nt(x))}r.j=function(D){if(Z(this)||Z(D))return A;if(J(this))return J(D)?nt(this).j(nt(D)):nt(nt(this).j(D));if(J(D))return nt(this.j(nt(D)));if(this.l(P)<0&&D.l(P)<0)return _(this.m()*D.m());const x=this.g.length+D.g.length,w=[];for(var O=0;O<2*x;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<D.g.length;I++){const j=this.i(O)>>>16,R=this.i(O)&65535,Wt=D.i(I)>>>16,Ie=D.i(I)&65535;w[2*O+2*I]+=R*Ie,gt(w,2*O+2*I),w[2*O+2*I+1]+=j*Ie,gt(w,2*O+2*I+1),w[2*O+2*I+1]+=R*Wt,gt(w,2*O+2*I+1),w[2*O+2*I+2]+=j*Wt,gt(w,2*O+2*I+2)}for(D=0;D<x;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=x;D<2*x;D++)w[D]=0;return new d(w,0)};function gt(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function Et(D,x){this.g=D,this.h=x}function Bt(D,x){if(Z(x))throw Error("division by zero");if(Z(D))return new Et(A,A);if(J(D))return x=Bt(nt(D),x),new Et(nt(x.g),nt(x.h));if(J(x))return x=Bt(D,nt(x)),new Et(nt(x.g),x.h);if(D.g.length>30){if(J(D)||J(x))throw Error("slowDivide_ only works with positive integers.");for(var w=N,O=x;O.l(D)<=0;)w=Ft(w),O=Ft(O);var I=zt(w,1),j=zt(O,1);for(O=zt(O,2),w=zt(w,2);!Z(O);){var R=j.add(O);R.l(D)<=0&&(I=I.add(w),j=R),O=zt(O,1),w=zt(w,1)}return x=mt(D,I.j(x)),new Et(I,x)}for(I=A;D.l(x)>=0;){for(w=Math.max(1,Math.floor(D.m()/x.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),j=_(w),R=j.j(x);J(R)||R.l(D)>0;)w-=O,j=_(w),R=j.j(x);Z(j)&&(j=N),I=I.add(j),D=mt(D,R)}return new Et(I,D)}r.B=function(D){return Bt(this,D).h},r.and=function(D){const x=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<x;O++)w[O]=this.i(O)&D.i(O);return new d(w,this.h&D.h)},r.or=function(D){const x=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<x;O++)w[O]=this.i(O)|D.i(O);return new d(w,this.h|D.h)},r.xor=function(D){const x=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<x;O++)w[O]=this.i(O)^D.i(O);return new d(w,this.h^D.h)};function Ft(D){const x=D.g.length+1,w=[];for(let O=0;O<x;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(w,D.h)}function zt(D,x){const w=x>>5;x%=32;const O=D.g.length-w,I=[];for(let j=0;j<O;j++)I[j]=x>0?D.i(j+w)>>>x|D.i(j+w+1)<<32-x:D.i(j+w);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,dg=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ea=d}).apply(typeof fg<"u"?fg:typeof self<"u"?self:typeof window<"u"?window:{});var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mg,Jr,gg,Vo,hh,pg,yg,_g;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mo=="object"&&Mo];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var k=u[S];if(!(k in y))break t;y=y[k]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.push([S,m[S]]);return y}});/** @license

   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function b(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(S,k,q){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[k].apply(S,W)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const m=u.length;if(m>0){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function Z(u,m){for(let S=1;S<arguments.length;S++){const k=arguments[S];var y=typeof k;if(y=y!="object"?y:k?Array.isArray(k)?"array":y:"null",y=="array"||y=="object"&&typeof k.length=="number"){y=u.length||0;const q=k.length||0;u.length=y+q;for(let W=0;W<q;W++)u[y+W]=k[W]}else u.push(k)}}class J{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,y){const S=Et.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Et=new J(()=>new Bt,u=>u.reset());class Bt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,zt=!1,D=new gt,x=()=>{const u=Promise.resolve(void 0);Ft=()=>{u.then(w)}};function w(){for(var u;u=mt();){try{u.h.call(u.g)}catch(y){nt(y)}var m=Et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}zt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Wt,I),Wt.prototype.init=function(u,m){const y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function tt(u,m,y,S,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=k,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function Gt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let y,S;for(let k=1;k<arguments.length;k++){S=arguments[k];for(y in S)u[y]=S[y];for(let q=0;q<X.length;q++)y=X[q],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,y,S,k){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const W=St(u,m,S,k);return W>-1?(m=u[W],y||(m.fa=!1)):(m=new tt(m,this.src,q,!!S,k),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var S=u.g[y],k=Array.prototype.indexOf.call(S,m,void 0),q;(q=k>=0)&&Array.prototype.splice.call(S,k,1),q&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function St(u,m,y,S){for(let k=0;k<u.length;++k){const q=u[k];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==S)return k}return-1}var jt="closure_lm_"+(Math.random()*1e6|0),Me={};function se(u,m,y,S,k){if(Array.isArray(m)){for(let q=0;q<m.length;q++)se(u,m[q],y,S,k);return null}return y=Sl(y),u&&u[Ie]?u.J(m,y,p(S)?!!S.capture:!1,k):as(u,m,y,!1,S,k)}function as(u,m,y,S,k,q){if(!m)throw Error("Invalid event type");const W=p(k)?!!k.capture:!!k;let Tt=ss(u);if(Tt||(u[jt]=Tt=new st(u)),y=Tt.add(m,y,S,W,q),y.proxy)return y;if(S=er(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)j||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),S,k);else if(u.attachEvent)u.attachEvent(ri(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function er(){function u(y){return m.call(u.src,u.listener,y)}const m=Tl;return u}function nr(u,m,y,S,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)nr(u,m[q],y,S,k);else S=p(S)?!!S.capture:!!S,y=Sl(y),u&&u[Ie]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=St(m,y,S,k),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,y,S,k)),(y=u>-1?m[u]:null)&&ir(y))}function ir(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])pt(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(ri(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=ss(m))?(pt(y,u),y.h==0&&(y.src=null,m[jt]=null)):ht(u)}}}function ri(u){return u in Me?Me[u]:Me[u]="on"+u}function Tl(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const y=u.listener,S=u.ha||u.src;u.fa&&ir(u),u=y.call(S,m)}return u}function ss(u){return u=u[jt],u instanceof st?u:null}var bl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Sl(u){return typeof u=="function"?u:(u[bl]||(u[bl]=function(m){return u.handleEvent(m)}),u[bl])}function Ee(){O.call(this),this.i=new st(this),this.M=this,this.G=null}A(Ee,O),Ee.prototype[Ie]=!0,Ee.prototype.removeEventListener=function(u,m,y,S){nr(this,u,m,y,S)};function Ve(u,m){var y,S=u.G;if(S)for(y=[];S;S=S.G)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var k=m;m=new I(S,u),et(m,k)}k=!0;let q,W;if(y)for(W=y.length-1;W>=0;W--)q=m.g=y[W],k=ha(q,S,!0,m)&&k;if(q=m.g=u,k=ha(q,S,!0,m)&&k,k=ha(q,S,!1,m)&&k,y)for(W=0;W<y.length;W++)q=m.g=y[W],k=ha(q,S,!1,m)&&k}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let S=0;S<y.length;S++)ht(y[S]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},Ee.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function ha(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let q=0;q<m.length;++q){const W=m[q];if(W&&!W.da&&W.capture==y){const Tt=W.listener,me=W.ha||W.src;W.fa&&pt(u.i,W),k=Tt.call(me,S)!==!1&&k}}return k&&!S.defaultPrevented}function yf(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pu(u){u.g=yf(()=>{u.g=null,u.i&&(u.i=!1,pu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(u){O.call(this),this.h=u,this.g={}}A(rs,O);var Al=[];function xl(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&ir(m)},u),u.g={}}rs.prototype.N=function(){rs.Z.N.call(this),xl(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=d.JSON.stringify,_f=d.JSON.parse,yu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function _u(){}function vu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){I.call(this,"d")}A(qe,I);function Sn(){I.call(this,"c")}A(Sn,I);var de={},Eu=null;function ar(){return Eu=Eu||new Ee}de.Ia="serverreachability";function Tu(u){I.call(this,de.Ia,u)}A(Tu,I);function li(u){const m=ar();Ve(m,new Tu(m))}de.STAT_EVENT="statevent";function ls(u,m){I.call(this,de.STAT_EVENT,u),this.stat=m}A(ls,I);function Te(u){const m=ar();Ve(m,new ls(m,u))}de.Ja="timingevent";function oi(u,m){I.call(this,de.Ja,u),this.size=m}A(oi,I);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function vf(u,m,y,S,k,q){u.info(function(){if(u.g)if(q){var W="",Tt=q.split("&");for(let Pt=0;Pt<Tt.length;Pt++){var me=Tt[Pt].split("=");if(me.length>1){const re=me[0];me=me[1];const Rn=re.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(re+"="+me+"&"):W+(re+"=redacted&")}}}else W=null;else W=q;return"XMLHTTP REQ ("+S+") [attempt "+k+"]: "+m+`
`+y+`
`+W})}function bu(u,m,y,S,k,q,W){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+k+"]: "+m+`
`+y+`
`+q+" "+W})}function ci(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ef(u,y)+(S?" "+S:"")})}function os(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Ef(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var k=S[0];if(k!="noop"&&k!="stop"&&k!="close")for(let W=1;W<S.length;W++)S[W]=""}}}}return fa(q)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function cs(){}A(cs,_u),cs.prototype.g=function(){return new XMLHttpRequest},Rl=new cs;function Vi(u){return encodeURIComponent(String(u))}function Su(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function qn(u,m,y,S){this.j=u,this.i=m,this.l=y,this.S=S||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var be={},ze={};function hi(u,m,y){u.M=1,u.A=hs(Ae(m)),u.u=y,u.R=!0,sr(u,null)}function sr(u,m){u.F=Date.now(),fi(u),u.B=Ae(u.A);var y=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ur(y.i,"t",S),u.C=0,y=u.j.L,u.h=new Hn,u.g=Lu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new We(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,S=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(Al[0]=k.toString()),k=Al);for(let q=0;q<k.length;q++){const W=se(y,k[q],S||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),vf(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Qn(this.g),me=this.g.ya(),Pt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Tt!=4||me==7||(me==8||Pt<=0?li(3):li(2)),di(this);var m=this.g.ca();this.X=m;var y=Tf(this);if(this.o=m==200,bu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,k=this.g;if((S=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var q=S;break e}}q=null}if(u=q)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,Te(12),fn(this),An(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<y.length;)if(re=xu(this,y),re==ze){Tt==4&&(this.m=4,Te(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(re==be){this.m=4,Te(15),ci(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,re,null),mi(this,re);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||y.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,y,"[Invalid Chunked Response]"),fn(this),An(this);else if(y.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),ql(W),W.P=!0,Te(11))}}else ci(this.i,this.l,y,null),mi(this,y);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?Ou(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),fn(this),An(this)}}}catch{}finally{}};function Tf(u){if(!Au(u))return u.g.la();const m=He(u.g);if(m==="")return"";let y="";const S=m.length,k=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),An(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(k&&q==S-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function xu(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?ze:(y=Number(m.substring(y,S)),isNaN(y)?be:(S+=1,S+y>m.length?ze:(m=m.slice(S,S+y),u.C=S+y,m)))}qn.prototype.cancel=function(){this.K=!0,fn(this)};function fi(u){u.T=Date.now()+u.H,rr(u,u.H)}function rr(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(_(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(os(this.i,this.B),this.M!=2&&(li(),Te(17)),fn(this),this.m=2,An(this)):rr(this,this.T-u)};function An(u){u.j.I==0||u.K||Ou(u.j,u)}function fn(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,xl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||pi(y.h,u))){if(!u.L&&pi(y.h,u)&&y.I==3){try{var S=y.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var k=S;if(k[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)mr(y),Ea(y);else break t;_s(y),Te(18)}}else y.xa=k[1],0<y.xa-y.K&&k[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ui(_(y.Va,y),6e3));gi(y.h)<=1&&y.ta&&(y.ta=void 0)}else bi(y,11)}else if((u.L||y.g==u)&&mr(y),!R(m))for(k=y.Ba.g.parse(m),m=0;m<k.length;m++){let Pt=k[m];const re=Pt[0];if(!(re<=y.K))if(y.K=re,Pt=Pt[1],y.I==2)if(Pt[0]=="c"){y.M=Pt[1],y.ba=Pt[2];const Rn=Pt[3];Rn!=null&&(y.ka=Rn,y.j.info("VER="+y.ka));const Si=Pt[4];Si!=null&&(y.za=Si,y.j.info("SVER="+y.za));const Yn=Pt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Kn=u.g;if(Kn){const vs=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var q=S.h;q.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Dl(q,q.h),q.h=null))}if(S.G){const gr=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;gr&&(S.wa=gr,Qt(S.J,S.G,gr))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var W=u;if(S.na=ku(S,S.L?S.ba:null,S.W),W.L){Il(S.h,W);var Tt=W,me=S.O;me&&(Tt.H=me),Tt.D&&(di(Tt),fi(Tt)),S.g=W}else Mu(S);y.i.length>0&&Ti(y)}else Pt[0]!="stop"&&Pt[0]!="close"||bi(y,7);else y.I==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?bi(y,7):Bl(y):Pt[0]!="noop"&&y.l&&y.l.qa(Pt),y.A=0)}}li(4)}catch{}}var Se=class{constructor(u,m){this.g=u,this.map=m}};function Nl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dl(u,m){u.g?u.g.add(m):u.h=m}function Il(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return P(u.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lr(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const S=u[y].indexOf("=");let k,q=null;S>=0?(k=u[y].substring(0,S),q=u[y].substring(S+1)):k=u[y],m(k,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,da(this,u.u),this.h=u.h,Vl(this,Du(u.i)),this.m=u.m):u&&(m=String(u).match(wu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),da(this,m[4]),this.h=yi(m[5]||"",!0),Vl(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fs(m,or,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,or,!0),"@"),u.push(Vi(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(fs(y,y.charAt(0)=="/"?Ol:Ru,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",fs(y,Nu)),u.join("")},dn.prototype.resolve=function(u){const m=Ae(this);let y=!!u.j;y?ke(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var S=u.h;if(y)da(m,u.u);else if(y=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var k=m.h.lastIndexOf("/");k!=-1&&(S=m.h.slice(0,k+1)+S)}if(k=S,k==".."||k==".")S="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){S=k.lastIndexOf("/",0)==0,k=k.split("/");const q=[];for(let W=0;W<k.length;){const Tt=k[W++];Tt=="."?S&&W==k.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&W==k.length&&q.push("")):(q.push(Tt),S=!0)}S=q.join("/")}else S=k}return y?m.h=S:y=u.i.toString()!=="",y?Vl(m,Du(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ae(u){return new dn(u)}function ke(u,m,y){u.j=y?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function da(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vl(u,m,y){m instanceof ga?(u.i=m,cr(u.i,u.l)):(y||(m=fs(m,ma)),u.i=new ga(m,u.l))}function Qt(u,m,y){u.i.set(m,y)}function hs(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,an),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var or=/[#\/\?@]/g,Ru=/[#\?:]/g,Ol=/[#\?]/g,ma=/[#\?@]/g,Nu=/#/g;function ga(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&lr(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=ga.prototype,r.add=function(u,m){sn(this),this.i=null,u=pa(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Cu(u,m){sn(u),m=pa(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function jl(u,m){return sn(u),m=pa(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(y,S){y.forEach(function(k){u.call(m,k,S,this)},this)},this)};function zl(u,m){sn(u);let y=[];if(typeof m=="string")jl(u,m)&&(y=y.concat(u.g.get(pa(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return sn(this),this.i=null,u=pa(this,u),jl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=zl(this,u),u.length>0?String(u[0]):m):m};function ur(u,m,y){Cu(u,m),y.length>0&&(u.i=null,u.g.set(pa(u,m),P(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var y=m[S];const k=Vi(y);y=zl(this,y);for(let q=0;q<y.length;q++){let W=k;y[q]!==""&&(W+="="+Vi(y[q])),u.push(W)}}return this.i=u.join("&")};function Du(u){const m=new ga;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function pa(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function cr(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(y,S){const k=S.toLowerCase();S!=k&&(Cu(this,S),ur(this,k,y))},u)),u.j=m}function Fn(u,m){const y=new Pn;if(d.Image){const S=new Image;S.onload=b(xn,y,"TestLoadImage: loaded",!0,m,S),S.onerror=b(xn,y,"TestLoadImage: error",!1,m,S),S.onabort=b(xn,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(xn,y,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function kl(u,m){const y=new Pn,S=new AbortController,k=setTimeout(()=>{S.abort(),xn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(k),q.ok?xn(y,"TestPingServer: ok",!0,m):xn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),xn(y,"TestPingServer: error",!1,m)})}function xn(u,m,y,S,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),S(y)}catch{}}function ya(){this.g=new yu}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}A(_i,_u),_i.prototype.g=function(){return new ds(this.i,this.h)};function ds(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ds,Ee),r=ds.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function hr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_a(this):Gn(this),this.readyState==3&&hr(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,_a(this))},r.Na=function(u){this.g&&(this.response=u,_a(this))},r.ga=function(){this.g&&_a(this)};function _a(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return kt(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function ms(u,m,y){t:{for(S in y){var S=!1;break t}S=!0}S||(y=wn(y),typeof u=="string"?y!=null&&Vi(y):Qt(u,m,y))}function Xt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Xt,Ee);var vi=/^https?$/i,Ll=["POST","PUT"];r=Xt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){gs(this,q);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var k in S)y.set(k,S[k]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())y.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ll,m,void 0)>=0)||S||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){gs(this,q)}};function gs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ul(u),Oi(u)}function Ul(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},r.Xa=function(){ps(this)};function ps(u){if(u.h&&typeof h<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var S;if(S=q===0){let W=String(u.D).match(wu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),S=!vi.test(W?W.toLowerCase():"")}y=S}if(y)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var k=Qn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Ul(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ve(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),_f(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var y=Su(u[S]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[k]||[];m[k]=q,q.push(y)}Gt(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function va(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,u),this.Za=Ei("retryDelaySeedMs",1e4,u),this.Ta=Ei("forwardChannelMaxRetries",2,u),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Nl(u&&u.concurrentRequestLimit),this.Ba=new ya,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=va.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,S){Te(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=ku(this,null,this.W),Ti(this)};function Bl(u){if(fr(u),u.I==3){var m=u.V++,y=Ae(u.J);if(Qt(y,"SID",u.M),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),ys(u,y),m=new qn(u,u.j,m),m.M=2,m.A=hs(Ae(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Lu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}zu(u)}function Ea(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function fr(u){Ea(u),u.v&&(d.clearTimeout(u.v),u.v=null),mr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ti(u){if(!Cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ft||x(),zt||(Ft(),zt=!0),D.add(m,u),u.D=0}}function dr(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(_(u.Ea,u,m),ju(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(k.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Iu(this,k,m),y=Ae(this.J),Qt(y,"RID",u),Qt(y,"CVER",22),this.G&&Qt(y,"X-HTTP-Session-Id",this.G),ys(this,y),q&&(this.R?m="headers="+Vi(wn(q))+"&"+m:this.u&&ms(y,this.u,q)),Dl(this.h,k),this.Ra&&Qt(y,"TYPE","init"),this.S?(Qt(y,"$req",m),Qt(y,"SID","null"),k.U=!0,hi(k,y,null)):hi(k,y,m),this.I=2}}else this.I==3&&(u?Pl(this,u):this.i.length==0||Cl(this.h)||Pl(this))};function Pl(u,m){var y;m?y=m.l:y=u.V++;const S=Ae(u.J);Qt(S,"SID",u.M),Qt(S,"RID",y),Qt(S,"AID",u.K),ys(u,S),u.u&&u.o&&ms(S,u.u,u.o),y=new qn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Iu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,y),hi(y,S,m)}function ys(u,m){u.H&&kt(u.H,function(y,S){Qt(m,S,y)}),u.l&&kt({},function(y,S){Qt(m,S,y)})}function Iu(u,m,y){y=Math.min(u.i.length,y);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var k=u.i;let Tt=-1;for(;;){const me=["count="+y];Tt==-1?y>0?(Tt=k[0].g,me.push("ofs="+Tt)):Tt=0:me.push("ofs="+Tt);let Pt=!0;for(let re=0;re<y;re++){var q=k[re].g;const Rn=k[re].map;if(q-=Tt,q<0)Tt=Math.max(0,k[re].g-100),Pt=!1;else try{q="req"+q+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[Si,Yn]of W){let Kn=Yn;p(Yn)&&(Kn=fa(Yn)),me.push(q+Si+"="+encodeURIComponent(Kn))}}catch(Si){throw me.push(q+"type="+encodeURIComponent("_badmap")),Si}}catch{S&&S(Rn)}}if(Pt){W=me.join("&");break t}}W=void 0}return u=u.i.splice(0,y),m.G=u,W}function Mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ft||x(),zt||(Ft(),zt=!0),D.add(m,u),u.A=0}}function _s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(_(u.Da,u),ju(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),Ea(this),Vu(this))};function ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Vu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),ys(u,m),u.u&&u.o&&ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=hs(Ae(m)),y.u=null,y.R=!0,sr(y,u)}r.Va=function(){this.C!=null&&(this.C=null,Ea(this),_s(this),Te(19))};function mr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Ou(u,m){var y=null;if(u.g==m){mr(u),ql(u),u.g=null;var S=2}else if(pi(u.h,m))y=m.G,Il(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;S=ar(),Ve(S,new oi(S,y)),Ti(u)}else Mu(u);else if(k=m.m,k==3||k==0&&m.X>0||!(S==1&&dr(u,m)||S==2&&_s(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),k){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function ju(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),S=u.Ua;const k=!S;S=new dn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(S,"https"),hs(S),k?Fn(S.toString(),y):kl(S.toString(),y)}else Te(2);u.I=0,u.l&&u.l.pa(m),zu(u),fr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function zu(u){if(u.I=0,u.ja=[],u.l){const m=Ml(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function ku(u,m,y){var S=y instanceof dn?Ae(y):new dn(y);if(S.g!="")m&&(S.g=m+"."+S.g),da(S,S.u);else{var k=d.location;S=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const q=new dn(null);S&&ke(q,S),m&&(q.g=m),k&&da(q,k),y&&(q.h=y),S=q}return y=u.G,m=u.wa,y&&m&&Qt(S,y,m),Qt(S,"VER",u.ka),ys(u,S),S}function Lu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new _i({ab:y})):new Xt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}r=Uu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ta(){}Ta.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ee.call(this),this.g=new va(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}A(tn,Ee),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Bl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=fa(u),u=y);m.i.push(new Se(m.Ya++,u)),m.I==3&&Ti(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,tn.Z.N.call(this)};function Bu(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Bu,qe);function Pu(){Sn.call(this),this.status=1}A(Pu,Sn);function zi(u){this.g=u}A(zi,Uu),zi.prototype.ra=function(){Ve(this.g,"a")},zi.prototype.qa=function(u){Ve(this.g,new Bu(u))},zi.prototype.pa=function(u){Ve(this.g,new Pu)},zi.prototype.oa=function(){Ve(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,_g=function(){return new Ta},yg=function(){return ar()},pg=de,hh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Vo=us,wl.COMPLETE="complete",gg=wl,vu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Jr=vu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,mg=Xt}).apply(typeof Mo<"u"?Mo:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ls="12.9.0";function tb(r){Ls=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Zm("@firebase/firestore");function Us(){return Qa.logLevel}function at(r,...e){if(Qa.logLevel<=Vt.DEBUG){const i=e.map(fh);Qa.debug(`Firestore (${Ls}): ${r}`,...i)}}function Ci(r,...e){if(Qa.logLevel<=Vt.ERROR){const i=e.map(fh);Qa.error(`Firestore (${Ls}): ${r}`,...i)}}function Ya(r,...e){if(Qa.logLevel<=Vt.WARN){const i=e.map(fh);Qa.warn(`Firestore (${Ls}): ${r}`,...i)}}function fh(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,vg(r,s,i)}function vg(r,e,i){let s=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ci(s),new Error(s)}function Ht(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||vg(e,o,s)}function vt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class it extends zs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class nb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ib{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new na;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new na,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new na)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new Eg(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class ab{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new ab(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0,3512);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Tg(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lb(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Nt(r,e){return r<e?-1:r>e?1:0}function mh(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return gh(o)===gh(h)?Nt(o,h):gh(o)?1:-1}return Nt(r.length,e.length)}const ob=55296,ub=57343;function gh(r){const e=r.charCodeAt(0);return e>=ob&&e<=ub}function Bs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Nt(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),o=Wn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):mh(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class ee extends Wn{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new it(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ue extends Wn{construct(e,i,s){return new Ue(e,i,s)}static isValidIdentifier(e){return cb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ue.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bg}static keyField(){return new Ue([bg])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new it(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new it(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new it(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ue(i)}static emptyPath(){return new Ue([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(ee.fromString(e))}static fromName(e){return new ut(ee.fromString(e).popFirst(5))}static empty(){return new ut(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new ee(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r,e,i){if(!i)throw new it(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hb(r,e,i,s){if(e===!0&&s===!0)throw new it(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Ag(r){if(!ut.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xg(r){if(ut.isDocumentKey(r))throw new it(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wg(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Oo(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function Ka(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new it(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Oo(r);throw new it(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(r,e){const i={typeString:r};return e&&(i.value=e),i}function Wr(r,e){if(!wg(r))throw new it(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new it(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-62135596800,Ng=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Ng);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new it(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Rg)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new it(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ng}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wr(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:ye("string",ne._jsonSchemaVersion),seconds:ye("number"),nanoseconds:ye("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=-1;function fb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new ia(o,ut.empty(),e)}function db(r){return new ia(r.readTime,r.key,tl)}class ia{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new ia(yt.min(),ut.empty(),tl)}static max(){return new ia(yt.max(),ut.empty(),tl)}}function mb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,e.documentKey),i!==0?i:Nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==gb)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,s)=>{i(e)}))}static reject(e){return new $(((i,s)=>{s(e)}))}static waitFor(e){return new $(((i,s)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next((o=>o?$.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new $(((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((b=>{d[_]=b,++p,p===h&&s(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new $(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function yb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jo.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=-1;function zo(r){return r==null}function ko(r){return r===0&&1/r==-1/0}function _b(r){return typeof r=="number"&&Number.isInteger(r)&&!ko(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="";function vb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Dg(e)),e=Eb(r.get(i),e);return Dg(e)}function Eb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Cg:i+="";break;default:i+=h}}return i}function Dg(r){return r+Cg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Xa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Mg(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}}class Lo{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1,Be.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Vg(this.data.getIterator())}getIteratorFrom(e){return new Vg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class Vg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Ue.comparator)}static empty(){return new kn([])}unionWith(e){let i=new Ce(Ue.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Og("Invalid base64 string: "+h):h}})(e);return new Pe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const Tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(r){if(Ht(!!r,39018),typeof r=="string"){let e=0;const i=Tb.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sa(r){return typeof r=="string"?Pe.fromBase64String(r):Pe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="server_timestamp",zg="__type__",kg="__previous_value__",Lg="__local_write_time__";function yh(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[zg])==null?void 0:s.stringValue)===jg}function Uo(r){const e=r.mapValue.fields[kg];return yh(e)?Uo(e):e}function el(r){const e=aa(r.mapValue.fields[Lg].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i,s,o,h,d,p,v,_,b,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=b,this.apiKey=A}}const Bo="(default)";class nl{constructor(e,i){this.projectId=e,this.database=i||Bo}static empty(){return new nl("","")}get isDefaultDatabase(){return this.database===Bo}isEqual(e){return e instanceof nl&&e.projectId===this.projectId&&e.database===this.database}}function Sb(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new it(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nl(r.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="__type__",Ab="__max__",Po={mapValue:{}},Bg="__vector__",qo="value";function ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yh(r)?4:wb(r)?9007199254740991:xb(r)?10:11:dt(28295,{value:r})}function ti(r,e){if(r===e)return!0;const i=ra(r);if(i!==ra(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return el(r).isEqual(el(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=aa(o.timestampValue),p=aa(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return sa(o.bytesValue).isEqual(sa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return fe(o.geoPointValue.latitude)===fe(h.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return fe(o.integerValue)===fe(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=fe(o.doubleValue),p=fe(h.doubleValue);return d===p?ko(d)===ko(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Bs(r.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Ig(d)!==Ig(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ti(d[v],p[v])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function il(r,e){return(r.values||[]).find((i=>ti(i,e)))!==void 0}function Hs(r,e){if(r===e)return 0;const i=ra(r),s=ra(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=fe(h.integerValue||h.doubleValue),v=fe(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return Pg(r.timestampValue,e.timestampValue);case 4:return Pg(el(r),el(e));case 5:return mh(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=sa(h),v=sa(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const b=Nt(p[_],v[_]);if(b!==0)return b}return Nt(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=Nt(fe(h.latitude),fe(d.latitude));return p!==0?p:Nt(fe(h.longitude),fe(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qg(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var N,P,Z,J;const p=h.fields||{},v=d.fields||{},_=(N=p[qo])==null?void 0:N.arrayValue,b=(P=v[qo])==null?void 0:P.arrayValue,A=Nt(((Z=_==null?void 0:_.values)==null?void 0:Z.length)||0,((J=b==null?void 0:b.values)==null?void 0:J.length)||0);return A!==0?A:qg(_,b)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Po.mapValue&&d===Po.mapValue)return 0;if(h===Po.mapValue)return 1;if(d===Po.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},b=Object.keys(_);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const N=mh(v[A],b[A]);if(N!==0)return N;const P=Hs(p[v[A]],_[b[A]]);if(P!==0)return P}return Nt(v.length,b.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function Pg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Nt(r,e);const i=aa(r),s=aa(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function qg(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Hs(i[o],s[o]);if(h)return h}return Nt(i.length,s.length)}function Fs(r){return _h(r)}function _h(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=aa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return sa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ut.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=_h(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${_h(i.fields[d])}`;return o+"}"})(r.mapValue):dt(61005,{value:r})}function Ho(r){switch(ra(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uo(r);return e?16+Ho(e):16;case 5:return 2*r.stringValue.length;case 6:return sa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Ho(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Xa(s.fields,((h,d)=>{o+=h.length+Ho(d)})),o})(r.mapValue);default:throw dt(13486,{value:r})}}function Hg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function vh(r){return!!r&&"integerValue"in r}function Eh(r){return!!r&&"arrayValue"in r}function Fg(r){return!!r&&"nullValue"in r}function Gg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fo(r){return!!r&&"mapValue"in r}function xb(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[Ug])==null?void 0:s.stringValue)===Bg}function al(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xa(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=al(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=al(r.arrayValue.values[i]);return e}return{...r}}function wb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ab}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Fo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(i)}setAll(e){let i=Ue.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=al(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Fo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Fo(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Xa(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new Tn(al(this.value))}}function Qg(r){const e=[];return Xa(r.fields,((i,s)=>{const o=new Ue([i]);if(Fo(s)){const h=Qg(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new $e(e,0,yt.min(),yt.min(),yt.min(),Tn.empty(),0)}static newFoundDocument(e,i,s,o){return new $e(e,1,i,yt.min(),s,o,0)}static newNoDocument(e,i){return new $e(e,2,i,yt.min(),yt.min(),Tn.empty(),0)}static newUnknownDocument(e,i){return new $e(e,3,i,yt.min(),yt.min(),Tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i){this.position=e,this.inclusive=i}}function Yg(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ut.comparator(ut.fromName(d.referenceValue),i.key):s=Hs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Kg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ti(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,i="asc"){this.field=e,this.dir=i}}function Rb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{}class _e extends Xg{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Cb(e,i,s):i==="array-contains"?new Mb(e,s):i==="in"?new Vb(e,s):i==="not-in"?new Ob(e,s):i==="array-contains-any"?new jb(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Db(e,s):new Ib(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Hs(i,this.value)):i!==null&&ra(this.value)===ra(i)&&this.matchesComparison(Hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Xg{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ln(e,i)}matches(e){return $g(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $g(r){return r.op==="and"}function Zg(r){return Nb(r)&&$g(r)}function Nb(r){for(const e of r.filters)if(e instanceof Ln)return!1;return!0}function Th(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+Fs(r.value);if(Zg(r))return r.filters.map((e=>Th(e))).join(",");{const e=r.filters.map((i=>Th(i))).join(",");return`${r.op}(${e})`}}function Jg(r,e){return r instanceof _e?(function(s,o){return o instanceof _e&&s.op===o.op&&s.field.isEqual(o.field)&&ti(s.value,o.value)})(r,e):r instanceof Ln?(function(s,o){return o instanceof Ln&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,p)=>h&&Jg(d,o.filters[p])),!0):!1})(r,e):void dt(19439)}function Wg(r){return r instanceof _e?(function(i){return`${i.field.canonicalString()} ${i.op} ${Fs(i.value)}`})(r):r instanceof Ln?(function(i){return i.op.toString()+" {"+i.getFilters().map(Wg).join(" ,")+"}"})(r):"Filter"}class Cb extends _e{constructor(e,i,s){super(e,i,s),this.key=ut.fromName(s.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class Db extends _e{constructor(e,i){super(e,"in",i),this.keys=tp("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Ib extends _e{constructor(e,i){super(e,"not-in",i),this.keys=tp("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function tp(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>ut.fromName(s.referenceValue)))}class Mb extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Eh(i)&&il(i.arrayValue,this.value)}}class Vb extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&il(this.value.arrayValue,i)}}class Ob extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!il(this.value.arrayValue,i)}}class jb extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Eh(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>il(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function ep(r,e=null,i=[],s=[],o=null,h=null,d=null){return new zb(r,e,i,s,o,h,d)}function bh(r){const e=vt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Th(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),zo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Fs(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Fs(s))).join(",")),e.Te=i}return e.Te}function Sh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Rb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Jg(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Kg(r.startAt,e.startAt)&&Kg(r.endAt,e.endAt)}function Ah(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function kb(r,e,i,s,o,h,d,p){return new Gs(r,e,i,s,o,h,d,p)}function xh(r){return new Gs(r)}function np(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Lb(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function ip(r){return r.collectionGroup!==null}function rl(r){const e=vt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ce(Ue.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new sl(h,s))})),i.has(Ue.keyField().canonicalString())||e.Ie.push(new sl(Ue.keyField(),s))}return e.Ie}function ei(r){const e=vt(r);return e.Ee||(e.Ee=Ub(e,rl(r))),e.Ee}function Ub(r,e){if(r.limitType==="F")return ep(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new sl(o.field,h)}));const i=r.endAt?new Go(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Go(r.startAt.position,r.startAt.inclusive):null;return ep(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function wh(r,e){const i=r.filters.concat([e]);return new Gs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Bb(r,e){const i=r.explicitOrderBy.concat([e]);return new Gs(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Qo(r,e,i){return new Gs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Yo(r,e){return Sh(ei(r),ei(e))&&r.limitType===e.limitType}function ap(r){return`${bh(ei(r))}|lt:${r.limitType}`}function Qs(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Wg(o))).join(", ")}]`),zo(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Fs(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Fs(o))).join(",")),`Target(${s})`})(ei(r))}; limitType=${r.limitType})`}function Ko(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ut.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of rl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const _=Yg(d,p,v);return d.inclusive?_<=0:_<0})(s.startAt,rl(s),o)||s.endAt&&!(function(d,p,v){const _=Yg(d,p,v);return d.inclusive?_>=0:_>0})(s.endAt,rl(s),o))})(r,e)}function Pb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sp(r){return(e,i)=>{let s=!1;for(const o of rl(r)){const h=qb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function qb(r,e,i){const s=r.field.isKeyField()?ut.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Hs(v,_):dt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xa(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return Mg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=new oe(ut.comparator);function Di(){return Hb}const rp=new oe(ut.comparator);function ll(...r){let e=rp;for(const i of r)e=e.insert(i.key,i);return e}function lp(r){let e=rp;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Za(){return ol()}function op(){return ol()}function ol(){return new $a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Fb=new oe(ut.comparator),Gb=new Ce(ut.comparator);function Ct(...r){let e=Gb;for(const i of r)e=e.add(i);return e}const Qb=new Ce(Nt);function Yb(){return Qb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(e)?"-0":e}}function up(r){return{integerValue:""+r}}function Kb(r,e){return _b(e)?up(e):Rh(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this._=void 0}}function Xb(r,e,i){return r instanceof $o?(function(o,h){const d={fields:{[zg]:{stringValue:jg},[Lg]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&yh(h)&&(h=Uo(h)),h&&(d.fields[kg]=h),{mapValue:d}})(i,e):r instanceof ul?hp(r,e):r instanceof cl?fp(r,e):(function(o,h){const d=cp(o,h),p=dp(d)+dp(o.Ae);return vh(d)&&vh(o.Ae)?up(p):Rh(o.serializer,p)})(r,e)}function $b(r,e,i){return r instanceof ul?hp(r,e):r instanceof cl?fp(r,e):i}function cp(r,e){return r instanceof Zo?(function(s){return vh(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class $o extends Xo{}class ul extends Xo{constructor(e){super(),this.elements=e}}function hp(r,e){const i=mp(e);for(const s of r.elements)i.some((o=>ti(o,s)))||i.push(s);return{arrayValue:{values:i}}}class cl extends Xo{constructor(e){super(),this.elements=e}}function fp(r,e){let i=mp(e);for(const s of r.elements)i=i.filter((o=>!ti(o,s)));return{arrayValue:{values:i}}}class Zo extends Xo{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function dp(r){return fe(r.integerValue||r.doubleValue)}function mp(r){return Eh(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Zb(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ul&&o instanceof ul||s instanceof cl&&o instanceof cl?Bs(s.elements,o.elements,ti):s instanceof Zo&&o instanceof Zo?ti(s.Ae,o.Ae):s instanceof $o&&o instanceof $o})(r.transform,e.transform)}class Jb{constructor(e,i){this.version=e,this.transformResults=i}}class Ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wo{}function gp(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ep(r.key,Ii.none()):new fl(r.key,r.data,Ii.none());{const i=r.data,s=Tn.empty();let o=new Ce(Ue.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ja(r.key,s,new kn(o.toArray()),Ii.none())}}function Wb(r,e,i){r instanceof fl?(function(o,h,d){const p=o.value.clone(),v=_p(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ja?(function(o,h,d){if(!Jo(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=_p(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(yp(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function hl(r,e,i,s){return r instanceof fl?(function(h,d,p,v){if(!Jo(h.precondition,d))return p;const _=h.value.clone(),b=vp(h.fieldTransforms,v,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ja?(function(h,d,p,v){if(!Jo(h.precondition,d))return p;const _=vp(h.fieldTransforms,v,d),b=d.data;return b.setAll(yp(h)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(h,d,p){return Jo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function t2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=cp(s.transform,o||null);h!=null&&(i===null&&(i=Tn.empty()),i.set(s.field,h))}return i||null}function pp(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bs(s,o,((h,d)=>Zb(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fl extends Wo{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ja extends Wo{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function yp(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function _p(r,e,i){const s=new Map;Ht(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,$b(d,p,i[o]))}return s}function vp(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,Xb(h,d,e))}return s}class Ep extends Wo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e2 extends Wo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Wb(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=hl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=hl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=op();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=gp(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ct())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,((i,s)=>pp(i,s)))&&Bs(this.baseMutations,e.baseMutations,((i,s)=>pp(i,s)))}}class Nh{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return Fb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Nh(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Ot;function s2(r){switch(r){case K.OK:return dt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function Tp(r){if(r===void 0)return Ci("GRPC error has no .code"),K.UNKNOWN;switch(r){case ve.OK:return K.OK;case ve.CANCELLED:return K.CANCELLED;case ve.UNKNOWN:return K.UNKNOWN;case ve.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ve.INTERNAL:return K.INTERNAL;case ve.UNAVAILABLE:return K.UNAVAILABLE;case ve.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ve.NOT_FOUND:return K.NOT_FOUND;case ve.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ve.ABORTED:return K.ABORTED;case ve.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ve.DATA_LOSS:return K.DATA_LOSS;default:return dt(39323,{code:r})}}(Ot=ve||(ve={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new ea([4294967295,4294967295],0);function bp(r){const e=r2().encode(r),i=new dg;return i.update(e),new Uint8Array(i.digest())}function Sp(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ea([i,s],0),new ea([o,h],0)]}class Ch{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(s<0)throw new dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ea.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(ea.fromNumber(s)));return o.compare(l2)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=bp(e),[s,o]=Sp(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ch(h,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=bp(e),[s,o]=Sp(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,ml.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new tu(yt.min(),o,new oe(Nt),Di(),Ct())}}class ml{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new ml(s,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Ap{constructor(e,i){this.targetId=e,this.Ce=i}}class xp{constructor(e,i,s=Pe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class wp{constructor(){this.ve=0,this.Fe=Rp(),this.Me=Pe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ct(),i=Ct(),s=Ct();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:dt(38017,{changeType:h})}})),new ml(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=Rp()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class o2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Di(),this.He=nu(),this.Je=nu(),this.Ze=new oe(Nt)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Ah(h))if(s===0){const d=new ut(h.path);this.et(i,d,$e.newNoDocument(d,yt.min()))}else Ht(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=sa(s).toUint8Array()}catch(v){if(v instanceof Og)return Ya("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Ch(d,o,h)}catch(v){return Ya(v instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Ah(p.target)){const v=new ut(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.Ke())}}));let s=Ct();this.Je.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new tu(e,i,this.Ze,this.je,s);return this.je=Di(),this.He=nu(),this.Je=nu(),this.Ze=new oe(Nt),o}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new wp,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ce(Nt),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ce(Nt),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wp),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function nu(){return new oe(ut.comparator)}function Rp(){return new oe(ut.comparator)}const u2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h2={and:"AND",or:"OR"};class f2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Dh(r,e){return r.useProto3Json||zo(e)?e:{value:e}}function iu(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Np(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function d2(r,e){return iu(r,e.toTimestamp())}function ni(r){return Ht(!!r,49232),yt.fromTimestamp((function(i){const s=aa(i);return new ne(s.seconds,s.nanos)})(r))}function Ih(r,e){return Mh(r,e).canonicalString()}function Mh(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Cp(r){const e=ee.fromString(r);return Ht(jp(e),10190,{key:e.toString()}),e}function Vh(r,e){return Ih(r.databaseId,e.path)}function Oh(r,e){const i=Cp(e);if(i.get(1)!==r.databaseId.projectId)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new it(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(Ip(i))}function Dp(r,e){return Ih(r.databaseId,e)}function m2(r){const e=Cp(r);return e.length===4?ee.emptyPath():Ip(e)}function jh(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ip(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mp(r,e,i){return{name:Vh(r,e),fields:i.value.mapValue.fields}}function g2(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,b){return _.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Pe.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Pe.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?K.UNKNOWN:Tp(_.code);return new it(b,_.message||"")})(d);i=new xp(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Oh(r,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):yt.min(),p=new Tn({mapValue:{fields:s.document.fields}}),v=$e.newFoundDocument(o,h,d,p),_=s.targetIds||[],b=s.removedTargetIds||[];i=new eu(_,b,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Oh(r,s.document),h=s.readTime?ni(s.readTime):yt.min(),d=$e.newNoDocument(o,h),p=s.removedTargetIds||[];i=new eu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Oh(r,s.document),h=s.removedTargetIds||[];i=new eu([],h,o,null)}else{if(!("filter"in e))return dt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new a2(o,h),p=s.targetId;i=new Ap(p,d)}}return i}function p2(r,e){let i;if(e instanceof fl)i={update:Mp(r,e.key,e.value)};else if(e instanceof Ep)i={delete:Vh(r,e.key)};else if(e instanceof Ja)i={update:Mp(r,e.key,e.data),updateMask:x2(e.fieldMask)};else{if(!(e instanceof e2))return dt(16599,{dt:e.type});i={verify:Vh(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const p=d.transform;if(p instanceof $o)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ul)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof cl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zo)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:d2(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(r,e.precondition)),i}function y2(r,e){return r&&r.length>0?(Ht(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(yt.min())&&(d=ni(h)),new Jb(d,o.transformResults||[])})(i,e)))):[]}function _2(r,e){return{documents:[Dp(r,e.path)]}}function v2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Dp(r,o);const h=(function(_){if(_.length!==0)return Op(Ln.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((b=>(function(N){return{field:Ys(N.field),direction:b2(N.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Dh(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function E2(r){let e=m2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(A){const N=Vp(A);return N instanceof Ln&&Zg(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(Z){return new sl(Ks(Z.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let N;return N=typeof A=="object"?A.value:A,zo(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(A){const N=!!A.before,P=A.values||[];return new Go(P,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const N=!A.before,P=A.values||[];return new Go(P,N)})(i.endAt)),kb(e,o,d,h,p,"F",v,_)}function T2(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Vp(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ks(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(i.unaryFilter.field);return _e.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ks(i.unaryFilter.field);return _e.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ks(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return _e.create(Ks(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ln.create(i.compositeFilter.filters.map((s=>Vp(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function b2(r){return u2[r]}function S2(r){return c2[r]}function A2(r){return h2[r]}function Ys(r){return{fieldPath:r.canonicalString()}}function Ks(r){return Ue.fromServerFormat(r.fieldPath)}function Op(r){return r instanceof _e?(function(i){if(i.op==="=="){if(Gg(i.value))return{unaryFilter:{field:Ys(i.field),op:"IS_NAN"}};if(Fg(i.value))return{unaryFilter:{field:Ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Gg(i.value))return{unaryFilter:{field:Ys(i.field),op:"IS_NOT_NAN"}};if(Fg(i.value))return{unaryFilter:{field:Ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(i.field),op:S2(i.op),value:i.value}}})(r):r instanceof Ln?(function(i){const s=i.getFilters().map((o=>Op(o)));return s.length===1?s[0]:{compositeFilter:{op:A2(i.op),filters:s}}})(r):dt(54877,{filter:r})}function x2(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function jp(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function zp(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i,s,o,h=yt.min(),d=yt.min(),p=Pe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.yt=e}}function R2(r){const e=E2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qo(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.Sn=new C2}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(ia.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class C2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ce(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ce(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lp=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Lp,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Xs(0)}static ar(){return new Xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="LruGarbageCollector",D2=1048576;function Bp([r,e],[i,s]){const o=Nt(r,i);return o===0?Nt(e,s):o}class I2{constructor(e){this.Pr=e,this.buffer=new Ce(Bp),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Bp(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class M2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){at(Up,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){qs(i)?at(Up,"Ignoring IndexedDB error during garbage collection: ",i):await Ps(i)}await this.Ar(3e5)}))}}class V2{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(jo.ce);const s=new I2(i);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(kp)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kp):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,o,h,d,p,v,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,i)))).next((A=>(h=A,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),Us()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function O2(r,e){return new V2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.changes=new $a((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&hl(s.mutation,o,kn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ct()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ct()){const o=Za();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=ll();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Za();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ct())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let h=Di();const d=ol(),p=(function(){return ol()})();return i.forEach(((v,_)=>{const b=s.get(_.key);o.has(_.key)&&(b===void 0||b.mutation instanceof Ja)?h=h.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),hl(b.mutation,_,b.mutation.getFieldMask(),ne.now())):d.set(_.key,kn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new z2(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=ol();let o=new oe(((d,p)=>d-p)),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let b=s.get(v)||kn.empty();b=p.applyToLocalView(_,b),s.set(v,b);const A=(o.get(p.batchId)||Ct()).add(v);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,b=v.value,A=op();b.forEach((N=>{if(!h.has(N)){const P=gp(i.get(N),s.get(N));P!==null&&A.set(N,P),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return Lb(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):ip(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):$.resolve(Za());let p=tl,v=h;return d.next((_=>$.forEach(_,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),h.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((N=>{v=v.insert(b,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Ct()))).next((b=>({batchId:p,changes:lp(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next((s=>{let o=ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=ll();return this.indexManager.getCollectionParents(e,h).next((p=>$.forEach(p,(v=>{const _=(function(A,N){return new Gs(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((b=>{b.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let p=ll();return d.forEach(((v,_)=>{const b=h.get(v);b!==void 0&&hl(b.mutation,_,kn.empty(),ne.now()),Ko(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:R2(o.bundledQuery),readTime:ni(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.overlays=new oe(ut.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Za();return $.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.bt(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.Lr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=Za(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new oe(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let b=h.get(_.largestBatchId);b===null&&(b=Za(),h=h.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Za(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=o)););return $.resolve(p)}bt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new i2(i,s));let h=this.Lr.get(i);h===void 0&&(h=Ct(),this.Lr.set(i,h)),this.Lr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.kr=new Ce(je.Kr),this.qr=new Ce(je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new je(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new je(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new ut(new ee([])),s=new je(i,e),o=new je(i,e+1),h=[];return this.qr.forEachInRange([s,o],(d=>{this.Wr(d),h.push(d.key)})),h}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ut(new ee([])),s=new je(i,e),o=new je(i,e+1);let h=Ct();return this.qr.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new je(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class je{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ut.comparator(e.key,i.key)||Nt(e.Hr,i.Hr)}static Ur(e,i){return Nt(e.Hr,i.Hr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ce(je.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new n2(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Jr=this.Jr.add(new je(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?ph:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY),h=[];return this.Jr.forEachInRange([s,o],(d=>{const p=this.Zr(d.Hr);h.push(p)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ce(Nt);return i.forEach((o=>{const h=new je(o,0),d=new je(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([h,d],(p=>{s=s.add(p.Hr)}))})),$.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ut.isDocumentKey(h)||(h=h.child(""));const d=new je(new ut(h),0);let p=new Ce(Nt);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return $.forEach(i.mutations,(o=>{const h=new je(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new je(i,0),o=this.Jr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.ti=e,this.docs=(function(){return new oe(ut.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(e,i){let s=Di();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():$e.newInvalidDocument(o))})),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Di();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:b}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mb(db(b),s)<=0||(o.has(b.key)||Ko(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,o){dt(9500)}ni(e,i){return $.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new H2(this)}getSize(e){return $.resolve(this.size)}}class H2 extends j2{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.persistence=e,this.ri=new $a((i=>bh(i)),Sh),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.ii=0,this.si=new zh,this.targetCount=0,this.oi=Xs._r()}forEachTarget(e,i){return this.ri.forEach(((s,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new Xs(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.ri.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,i){this._i={},this.overlays={},this.ai=new jo(0),this.ui=!1,this.ui=!0,this.ci=new B2,this.referenceDelegate=e(this),this.li=new F2(this),this.indexManager=new N2,this.remoteDocumentCache=(function(o){return new q2(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new w2(i),this.Pi=new L2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new U2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new P2(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new G2(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((h=>this.referenceDelegate.Ii(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ei(e,i){return $.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class G2 extends pb{constructor(e){super(),this.currentSequenceNumber=e}}class kh{constructor(e){this.persistence=e,this.Ri=new zh,this.Ai=null}static Vi(e){return new kh(e)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.di.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(s=>{const o=ut.fromPath(s);return this.mi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class au{constructor(e,i){this.persistence=e,this.fi=new $a((s=>vb(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=O2(this,i)}static Vi(e,i){return new au(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((h=>h?$.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(s++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ho(e.data.value)),i}wr(e,i,s){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=o}static Es(e,i){let s=Ct(),o=Ct();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Lh(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return OE()?8:yb(ME())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.gs(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ps(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Q2;return this.ys(e,i,d).next((p=>{if(h.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>h.result))}ws(e,i,s,o){return s.documentReadCount<this.Vs?(Us()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Qs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Us()<=Vt.DEBUG&&at("QueryEngine","Query:",Qs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Us()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Qs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):$.resolve())}gs(e,i){if(np(i))return $.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Qo(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Ct(...h);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.bs(i,p);return this.Ss(i,_,d,v.readTime)?this.gs(e,Qo(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,s,o){return np(i)||o.isEqual(yt.min())?$.resolve(null):this.fs.getDocuments(e,s).next((h=>{const d=this.bs(i,h);return this.Ss(i,d,s,o)?$.resolve(null):(Us()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(i)),this.Ds(e,d,i,fb(o,tl)).next((p=>p)))}))}bs(e,i){let s=new Ce(sp(e));return i.forEach(((o,h)=>{Ko(e,h)&&(s=s.add(h))})),s}Ss(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}ys(e,i,s){return Us()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Qs(i)),this.fs.getDocumentsMatchingQuery(e,i,ia.min(),s)}Ds(e,i,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="LocalStore",K2=3e8;class X2{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new oe(Nt),this.Fs=new $a((h=>bh(h)),Sh),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function $2(r,e,i,s){return new X2(r,e,i,s)}async function qp(r,e){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],p=[];let v=Ct();for(const _ of o){d.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}for(const _ of h){p.push(_.batchId);for(const b of _.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Z2(r,e){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,b){const A=_.batch,N=A.keys();let P=$.resolve();return N.forEach((Z=>{P=P.next((()=>b.getEntry(v,Z))).next((J=>{const nt=_.docVersions.get(Z);Ht(nt!==null,48541),J.version.compareTo(nt)<0&&(A.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),b.addEntry(J)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Ct();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Hp(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function J2(r,e){const i=vt(r),s=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const p=[];e.targetChanges.forEach(((b,A)=>{const N=o.get(A);if(!N)return;p.push(i.li.removeMatchingKeys(h,b.removedDocuments,A).next((()=>i.li.addMatchingKeys(h,b.addedDocuments,A))));let P=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,s)),o=o.insert(A,P),(function(J,nt,mt){return J.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=K2?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(N,P,b)&&p.push(i.li.updateTargetData(h,P))}));let v=Di(),_=Ct();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),p.push(W2(h,d,e.documentUpdates).next((b=>{v=b.Bs,_=b.Ls}))),!s.isEqual(yt.min())){const b=i.li.getLastRemoteSnapshotVersion(h).next((A=>i.li.setTargetsMetadata(h,h.currentSequenceNumber,s)));p.push(b)}return $.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.vs=o,h)))}function W2(r,e,i){let s=Ct(),o=Ct();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Di();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):at(Uh,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:o}}))}function tS(r,e){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ph),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function eS(r,e){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.li.getTargetData(s,e).next((h=>h?(o=h,$.resolve(o)):i.li.allocateTargetId(s).next((d=>(o=new la(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function Bh(r,e,i){const s=vt(r),o=s.vs.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!qs(d))throw d;at(Uh,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Fp(r,e,i){const s=vt(r);let o=yt.min(),h=Ct();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,b){const A=vt(v),N=A.Fs.get(b);return N!==void 0?$.resolve(A.vs.get(N)):A.li.getTargetData(_,b)})(s,d,ei(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Ct()))).next((p=>(nS(s,Pb(e),p),{documents:p,ks:h})))))}function nS(r,e,i){let s=r.Ms.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Ms.set(e,s)}class Gp{constructor(){this.activeTargetIds=Yb()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iS{constructor(){this.vo=new Gp,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Gp,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="ConnectivityMonitor";class Yp{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Qp,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){at(Qp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su=null;function Ph(){return su===null?su=(function(){return 268435456+Math.round(2147483648*Math.random())})():su++,"0x"+su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="RestConnection",sS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Bo?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,h){const d=Ph(),p=this.Qo(e,i.toUriEncodedString());at(qh,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,o,h);const{host:_}=new URL(p),b=th(_);return this.zo(e,p,v,s,b).then((A=>(at(qh,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Ya(qh,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}jo(e,i,s,o,h,d){return this.Wo(e,i,s,o,h)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ls})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}Qo(e,i){const s=sS[e];let o=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection",gl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class $s extends rS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$s.c_){const e=yg();gl(e,pg.STAT_EVENT,(i=>{i.stat===hh.PROXY?at(Ze,"STAT_EVENT: detected buffering proxy"):i.stat===hh.NOPROXY&&at(Ze,"STAT_EVENT: detected no buffering proxy")})),$s.c_=!0}}zo(e,i,s,o,h){const d=Ph();return new Promise(((p,v)=>{const _=new mg;_.setWithCredentials(!0),_.listenOnce(gg.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const A=_.getResponseJson();at(Ze,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Vo.TIMEOUT:at(Ze,`RPC '${e}' ${d} timed out`),v(new it(K.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const N=_.getStatus();if(at(Ze,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const Z=P==null?void 0:P.error;if(Z&&Z.status&&Z.message){const J=(function(mt){const gt=mt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(gt)>=0?gt:K.UNKNOWN})(Z.status);v(new it(J,Z.message))}else v(new it(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new it(K.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Ze,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);at(Ze,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",b,s,15)}))}T_(e,i,s){const o=Ph(),h=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const _=h.join("");at(Ze,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=d.createWebChannel(_,p);this.I_(b);let A=!1,N=!1;const P=new lS({Ho:Z=>{N?at(Ze,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(A||(at(Ze,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),at(Ze,`RPC '${e}' stream ${o} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return gl(b,Jr.EventType.OPEN,(()=>{N||(at(Ze,`RPC '${e}' stream ${o} transport opened.`),P.i_())})),gl(b,Jr.EventType.CLOSE,(()=>{N||(N=!0,at(Ze,`RPC '${e}' stream ${o} transport closed`),P.o_(),this.E_(b))})),gl(b,Jr.EventType.ERROR,(Z=>{N||(N=!0,Ya(Ze,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),P.o_(new it(K.UNAVAILABLE,"The operation could not be completed")))})),gl(b,Jr.EventType.MESSAGE,(Z=>{var J;if(!N){const nt=Z.data[0];Ht(!!nt,16349);const mt=nt,gt=(mt==null?void 0:mt.error)||((J=mt[0])==null?void 0:J.error);if(gt){at(Ze,`RPC '${e}' stream ${o} received error:`,gt);const Et=gt.status;let Bt=(function(D){const x=ve[D];if(x!==void 0)return Tp(x)})(Et),Ft=gt.message;Et==="NOT_FOUND"&&Ft.includes("database")&&Ft.includes("does not exist")&&Ft.includes(this.databaseId.database)&&Ya(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Bt===void 0&&(Bt=K.INTERNAL,Ft="Unknown error status: "+Et+" with message "+gt.message),N=!0,P.o_(new it(Bt,Ft)),b.close()}else at(Ze,`RPC '${e}' stream ${o} received:`,nt),P.__(nt)}})),$s.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _g()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(r){return new $s(r)}function Hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){return new f2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s.c_=!1;class Kp{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=o,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="PersistentStream";class $p{constructor(e,i,s,o,h,d,p,v){this.Ci=e,this.b_=s,this.S_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Kp(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ci(i.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new it(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(Xp,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(at(Xp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uS extends $p{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=g2(this.serializer,e),s=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ni(d.readTime):yt.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=jh(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Ah(v)?{documents:_2(h,v)}:{query:v2(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=Np(h,d.resumeToken);const _=Dh(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=iu(h,d.snapshotVersion.toTimestamp());const _=Dh(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const s=T2(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=jh(this.serializer),i.removeTarget=e,this.K_(i)}}class cS extends $p{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=y2(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=jh(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>p2(this.serializer,s)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class fS extends hS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Wo(e,Mh(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new it(K.UNKNOWN,h.toString())}))}jo(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,Mh(i,s),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new it(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function dS(r,e,i,s){return new fS(r,e,i,s)}class mS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ci(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class gS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=h,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ts(this)&&(at(Wa,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await pl(_),_.Va.set("Unknown"),_.Ea.delete(4),await lu(_)})(this))}))})),this.Va=new mS(s,o)}}async function lu(r){if(ts(r))for(const e of r.Ra)await e(!0)}async function pl(r){for(const e of r.Ra)await e(!1)}function Zp(r,e){const i=vt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Yh(i)?Qh(i):Zs(i).O_()&&Gh(i,e))}function Fh(r,e){const i=vt(r),s=Zs(i);i.Ia.delete(e),s.O_()&&Jp(i,e),i.Ia.size===0&&(s.O_()?s.L_():ts(i)&&i.Va.set("Unknown"))}function Gh(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zs(r).Z_(e)}function Jp(r,e){r.da.$e(e),Zs(r).X_(e)}function Qh(r){r.da=new o2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Zs(r).start(),r.Va.ua()}function Yh(r){return ts(r)&&!Zs(r).x_()&&r.Ia.size>0}function ts(r){return vt(r).Ea.size===0}function Wp(r){r.da=void 0}async function pS(r){r.Va.set("Online")}async function yS(r){r.Ia.forEach(((e,i)=>{Gh(r,e)}))}async function _S(r,e){Wp(r),Yh(r)?(r.Va.ha(e),Qh(r)):r.Va.set("Unknown")}async function vS(r,e,i){if(r.Va.set("Online"),e instanceof xp&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(s){at(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ou(r,s)}else if(e instanceof eu?r.da.Xe(e):e instanceof Ap?r.da.st(e):r.da.tt(e),!i.isEqual(yt.min()))try{const s=await Hp(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const p=h.da.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const b=h.Ia.get(_);b&&h.Ia.set(_,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const b=h.Ia.get(v);if(!b)return;h.Ia.set(v,b.withResumeToken(Pe.EMPTY_BYTE_STRING,b.snapshotVersion)),Jp(h,v);const A=new la(b.target,v,_,b.sequenceNumber);Gh(h,A)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){at(Wa,"Failed to raise snapshot:",s),await ou(r,s)}}async function ou(r,e,i){if(!qs(e))throw e;r.Ea.add(1),await pl(r),r.Va.set("Offline"),i||(i=()=>Hp(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Wa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await lu(r)}))}function ty(r,e){return e().catch((i=>ou(r,i,e)))}async function uu(r){const e=vt(r),i=oa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ph;for(;ES(e);)try{const o=await tS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,TS(e,o)}catch(o){await ou(e,o)}ey(e)&&ny(e)}function ES(r){return ts(r)&&r.Ta.length<10}function TS(r,e){r.Ta.push(e);const i=oa(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function ey(r){return ts(r)&&!oa(r).x_()&&r.Ta.length>0}function ny(r){oa(r).start()}async function bS(r){oa(r).ra()}async function SS(r){const e=oa(r);for(const i of r.Ta)e.ea(i.mutations)}async function AS(r,e,i){const s=r.Ta.shift(),o=Nh.from(s,e,i);await ty(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await uu(r)}async function xS(r,e){e&&oa(r).Y_&&await(async function(s,o){if((function(d){return s2(d)&&d!==K.ABORTED})(o.code)){const h=s.Ta.shift();oa(s).B_(),await ty(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await uu(s)}})(r,e),ey(r)&&ny(r)}async function iy(r,e){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),at(Wa,"RemoteStore received new credentials");const s=ts(i);i.Ea.add(3),await pl(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await lu(i)}async function wS(r,e){const i=vt(r);e?(i.Ea.delete(2),await lu(i)):e||(i.Ea.add(2),await pl(i),i.Va.set("Unknown"))}function Zs(r){return r.ma||(r.ma=(function(i,s,o){const h=vt(i);return h.sa(),new uS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:pS.bind(null,r),Yo:yS.bind(null,r),t_:_S.bind(null,r),J_:vS.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Yh(r)?Qh(r):r.Va.set("Unknown")):(await r.ma.stop(),Wp(r))}))),r.ma}function oa(r){return r.fa||(r.fa=(function(i,s,o){const h=vt(i);return h.sa(),new cS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:bS.bind(null,r),t_:xS.bind(null,r),ta:SS.bind(null,r),na:AS.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await uu(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Wa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new Kh(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new it(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xh(r,e){if(Ci("AsyncQueue",`${e}: ${r}`),qs(r))return new it(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static emptySet(e){return new Js(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ut.comparator(i.key,s.key):(i,s)=>ut.comparator(i.key,s.key),this.keyedMap=ll(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.ga=new oe(ut.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ws{constructor(e,i,s,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ws(e,i,Js.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class NS{constructor(){this.queries=sy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=vt(i),h=o.queries;o.queries=sy(),h.forEach(((d,p)=>{for(const v of p.ba)v.onError(s)}))})(this,new it(K.ABORTED,"Firestore shutting down"))}}function sy(){return new $a((r=>ap(r)),Yo)}async function ry(r,e){const i=vt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Sa()&&e.Da()&&(s=2):(h=new RS,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Xh(d,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.ba.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&$h(i)}async function ly(r,e){const i=vt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.ba.indexOf(e);d>=0&&(h.ba.splice(d,1),h.ba.length===0?o=e.Da()?0:1:!h.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function CS(r,e){const i=vt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.ba)p.Fa(o)&&(s=!0);d.wa=o}}s&&$h(i)}function DS(r,e,i){const s=vt(r),o=s.queries.get(e);if(o)for(const h of o.ba)h.onError(i);s.queries.delete(e)}function $h(r){r.Ca.forEach((e=>{e.next()}))}var Zh,oy;(oy=Zh||(Zh={})).Ma="default",oy.Cache="cache";class uy{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.key=e}}class hy{constructor(e){this.key=e}}class IS{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ct(),this.mutatedKeys=Ct(),this.eu=sp(e),this.tu=new Js(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new ay,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const N=o.get(b),P=Ko(this.query,A)?A:null,Z=!!N&&this.mutatedKeys.has(N.key),J=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let nt=!1;N&&P?N.data.isEqual(P.data)?Z!==J&&(s.track({type:3,doc:P}),nt=!0):this.su(N,P)||(s.track({type:2,doc:P}),nt=!0,(v&&this.eu(P,v)>0||_&&this.eu(P,_)<0)&&(p=!0)):!N&&P?(s.track({type:0,doc:P}),nt=!0):N&&!P&&(s.track({type:1,doc:N}),nt=!0,(v||_)&&(p=!0)),nt&&(P?(d=d.add(P),h=J?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(P,Z){const J=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:nt})}};return J(P)-J(Z)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Ya.size===0&&this.current&&!o?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Ws(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ay,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ct(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new hy(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new cy(s))})),i}cu(e){this.Za=e.ks,this.Ya=Ct();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Jh="SyncEngine";class MS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class VS{constructor(e){this.key=e,this.hu=!1}}class OS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $a((p=>ap(p)),Yo),this.Iu=new Map,this.Eu=new Set,this.Ru=new oe(ut.comparator),this.Au=new Map,this.Vu=new zh,this.du={},this.mu=new Map,this.fu=Xs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jS(r,e,i=!0){const s=vy(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await fy(s,e,i,!0),o}async function zS(r,e){const i=vy(r);await fy(i,e,!0,!1)}async function fy(r,e,i,s){const o=await eS(r.localStore,ei(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await kS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Zp(r.remoteStore,o),p}async function kS(r,e,i,s,o){r.pu=(A,N,P)=>(async function(J,nt,mt,gt){let Et=nt.view.ru(mt);Et.Ss&&(Et=await Fp(J.localStore,nt.query,!1).then((({documents:D})=>nt.view.ru(D,Et))));const Bt=gt&&gt.targetChanges.get(nt.targetId),Ft=gt&&gt.targetMismatches.get(nt.targetId)!=null,zt=nt.view.applyChanges(Et,J.isPrimaryClient,Bt,Ft);return _y(J,nt.targetId,zt.au),zt.snapshot})(r,A,N,P);const h=await Fp(r.localStore,e,!0),d=new IS(e,h.ks),p=d.ru(h.documents),v=ml.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);_y(r,i,_.au);const b=new MS(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function LS(r,e,i){const s=vt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!Yo(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bh(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Fh(s.remoteStore,o.targetId),Wh(s,o.targetId)})).catch(Ps)):(Wh(s,o.targetId),await Bh(s.localStore,o.targetId,!0))}async function US(r,e){const i=vt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Fh(i.remoteStore,s.targetId))}async function BS(r,e,i){const s=YS(r);try{const o=await(function(d,p){const v=vt(d),_=ne.now(),b=p.reduce(((P,Z)=>P.add(Z.key)),Ct());let A,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let Z=Di(),J=Ct();return v.xs.getEntries(P,b).next((nt=>{Z=nt,Z.forEach(((mt,gt)=>{gt.isValidDocument()||(J=J.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(P,Z))).next((nt=>{A=nt;const mt=[];for(const gt of p){const Et=t2(gt,A.get(gt.key).overlayedDocument);Et!=null&&mt.push(new Ja(gt.key,Et,Qg(Et.value.mapValue),Ii.exists(!0)))}return v.mutationQueue.addMutationBatch(P,_,mt,p)})).next((nt=>{N=nt;const mt=nt.applyToLocalDocumentSet(A,J);return v.documentOverlayCache.saveOverlays(P,nt.batchId,mt)}))})).then((()=>({batchId:N.batchId,changes:lp(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.du[d.currentUser.toKey()];_||(_=new oe(Nt)),_=_.insert(p,v),d.du[d.currentUser.toKey()]=_})(s,o.batchId,i),await yl(s,o.changes),await uu(s.remoteStore)}catch(o){const h=Xh(o,"Failed to persist write");i.reject(h)}}async function dy(r,e){const i=vt(r);try{const s=await J2(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await yl(i,s,e)}catch(s){await Ps(s)}}function my(r,e,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=vt(d);v.onlineState=p;let _=!1;v.queries.forEach(((b,A)=>{for(const N of A.ba)N.va(p)&&(_=!0)})),_&&$h(v)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PS(r,e,i){const s=vt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new oe(ut.comparator);d=d.insert(h,$e.newNoDocument(h,yt.min()));const p=Ct().add(h),v=new tu(yt.min(),new Map,new oe(Nt),d,p);await dy(s,v),s.Ru=s.Ru.remove(h),s.Au.delete(e),tf(s)}else await Bh(s.localStore,e,!1).then((()=>Wh(s,e,i))).catch(Ps)}async function qS(r,e){const i=vt(r),s=e.batch.batchId;try{const o=await Z2(i.localStore,e);py(i,s,null),gy(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await yl(i,o)}catch(o){await Ps(o)}}async function HS(r,e,i){const s=vt(r);try{const o=await(function(d,p){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return v.mutationQueue.lookupMutationBatch(_,p).next((A=>(Ht(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>v.localDocuments.getDocuments(_,b)))}))})(s.localStore,e);py(s,e,i),gy(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await yl(s,o)}catch(o){await Ps(o)}}function gy(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function py(r,e,i){const s=vt(r);let o=s.du[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Wh(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||yy(r,s)}))}function yy(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Fh(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),tf(r))}function _y(r,e,i){for(const s of i)s instanceof cy?(r.Vu.addReference(s.key,e),FS(r,s)):s instanceof hy?(at(Jh,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||yy(r,s.key)):dt(19791,{wu:s})}function FS(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(at(Jh,"New document in limbo: "+i),r.Eu.add(s),tf(r))}function tf(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ut(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new VS(i)),r.Ru=r.Ru.insert(i,s),Zp(r.remoteStore,new la(ei(xh(i.path)),s,"TargetPurposeLimboResolution",jo.ce))}}async function yl(r,e,i){const s=vt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,e,i).then((_=>{var b;if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Lh.Es(v.targetId,_);h.push(A)}})))})),await Promise.all(d),s.Pu.J_(o),await(async function(v,_){const b=vt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(N=>$.forEach(N.Ts,(P=>b.persistence.referenceDelegate.addReference(A,N.targetId,P))).next((()=>$.forEach(N.Is,(P=>b.persistence.referenceDelegate.removeReference(A,N.targetId,P)))))))))}catch(A){if(!qs(A))throw A;at(Uh,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const P=b.vs.get(N),Z=P.snapshotVersion,J=P.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(N,J)}}})(s.localStore,h))}async function GS(r,e){const i=vt(r);if(!i.currentUser.isEqual(e)){at(Jh,"User change. New user:",e.toKey());const s=await qp(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new it(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yl(i,s.Ns)}}function QS(r,e){const i=vt(r),s=i.Au.get(e);if(s&&s.hu)return Ct().add(s.key);{let o=Ct();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function vy(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PS.bind(null,e),e.Pu.J_=CS.bind(null,e.eventManager),e.Pu.yu=DS.bind(null,e.eventManager),e}function YS(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HS.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ru(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $2(this.persistence,new Y2,e.initialUser,this.serializer)}Cu(e){return new Pp(kh.Vi,this.serializer)}Du(e){return new iS}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class KS extends cu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ht(this.persistence.referenceDelegate instanceof au,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new M2(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Pp((s=>au.Vi(s,i)),this.serializer)}}class ef{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>my(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GS.bind(null,this.syncEngine),await wS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NS})()}createDatastore(e){const i=ru(e.databaseInfo.databaseId),s=oS(e.databaseInfo);return dS(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,p){return new gS(s,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>my(this.syncEngine,i,0)),(function(){return Yp.v()?new Yp:new aS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,b){const A=new OS(o,h,d,p,v,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=vt(o);at(Wa,"RemoteStore shutting down."),h.Ea.add(5),await pl(h),h.Aa.shutdown(),h.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}ef.provider={build:()=>new ef};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="FirestoreClient";class XS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{at(ua,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(at(ua,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Xh(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function nf(r,e){r.asyncQueue.verifyOperationInProgress(),at(ua,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await qp(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ty(r,e){r.asyncQueue.verifyOperationInProgress();const i=await $S(r);at(ua,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>iy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>iy(e.remoteStore,o))),r._onlineComponents=e}async function $S(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ua,"Using user provided OfflineComponentProvider");try{await nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await nf(r,new cu)}}else at(ua,"Using default OfflineComponentProvider"),await nf(r,new KS(void 0));return r._offlineComponents}async function by(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ua,"Using user provided OnlineComponentProvider"),await Ty(r,r._uninitializedComponentsProvider._online)):(at(ua,"Using default OnlineComponentProvider"),await Ty(r,new ef))),r._onlineComponents}function ZS(r){return by(r).then((e=>e.syncEngine))}async function af(r){const e=await by(r),i=e.eventManager;return i.onListen=jS.bind(null,e.syncEngine),i.onUnlisten=LS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=zS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=US.bind(null,e.syncEngine),i}function JS(r,e,i,s){const o=new Ey(s),h=new uy(e,o,i);return r.asyncQueue.enqueueAndForget((async()=>ry(await af(r),h))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>ly(await af(r),h)))}}function WS(r,e,i={}){const s=new na;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const b=new Ey({next:N=>{b.Nu(),d.enqueueAndForget((()=>ly(h,A))),N.fromCache&&v.source==="server"?_.reject(new it(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),A=new uy(p,b,{includeMetadataChanges:!0,Ka:!0});return ry(h,A)})(await af(r),r.asyncQueue,e,i,s))),s.promise}function tA(r,e){const i=new na;return r.asyncQueue.enqueueAndForget((async()=>BS(await ZS(r),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="ComponentProvider",Ay=new Map;function nA(r,e,i,s,o){return new bb(r,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Sy(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="firestore.googleapis.com",wy=!0;class Ry{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new it(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xy,this.ssl=wy}else this.host=e.host,this.ssl=e.ssl??wy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lp;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D2)throw new it(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sy(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new it(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hu{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ry({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new it(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new it(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ry(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new eb;switch(s.type){case"firstParty":return new sb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new it(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Ay.get(i);s&&(at(eA,"Removing Datastore"),Ay.delete(i),s.terminate())})(this),Promise.resolve()}}function iA(r,e,i,s={}){var _;r=Ka(r,hu);const o=th(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(RE(`https://${p}`),IE("Firestore",!0)),h.host!==xy&&h.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:s};if(!Do(v,d)&&(r._setSettings(v),s.mockUserToken)){let b,A;if(typeof s.mockUserToken=="string")b=s.mockUserToken,A=Xe.MOCK_USER;else{b=NE(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new it(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(N)}r._authCredentials=new nb(new Eg(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class De{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Wr(i,De._jsonSchema))return new De(e,s||null,new ut(ee.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:ye("string",De._jsonSchemaVersion),referencePath:ye("string")};class ca extends Mi{constructor(e,i,s){super(e,i,xh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new ut(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function sf(r,e,...i){if(r=Fa(r),Sg("collection","path",e),r instanceof hu){const s=ee.fromString(e,...i);return xg(s),new ca(r,null,s)}{if(!(r instanceof De||r instanceof ca))throw new it(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return xg(s),new ca(r.firestore,null,s)}}function aA(r,e,...i){if(r=Fa(r),arguments.length===1&&(e=dh.newId()),Sg("doc","path",e),r instanceof hu){const s=ee.fromString(e,...i);return Ag(s),new De(r,null,new ut(s))}{if(!(r instanceof De||r instanceof ca))throw new it(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Ag(s),new De(r.firestore,r instanceof ca?r.converter:null,new ut(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="AsyncQueue";class Cy{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Kp(this,"async_queue_retry"),this._c=()=>{const s=Hh();s&&at(Ny,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Hh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Hh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!qs(e))throw e;at(Ny,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ci("INTERNAL UNHANDLED ERROR: ",Dy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Kh.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&dt(47125,{Pc:Dy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Dy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class _l extends hu{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Cy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cy(e),this._firestoreClient=void 0,await e}}}function sA(r,e){const i=typeof r=="object"?r:rg(),s=typeof r=="string"?r:Bo,o=zT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=xE("firestore");h&&iA(o,...h)}return o}function rf(r){if(r._terminated)throw new it(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||rA(r),r._firestoreClient}function rA(r){var s,o,h,d;const e=r._freezeSettings(),i=nA(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(o=r._app)==null?void 0:o.options.apiKey,e);r._componentsProvider||(h=e.localCache)!=null&&h._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new XS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(v){const _=v==null?void 0:v._online.build();return{_offline:v==null?void 0:v._offline.build(_),_online:_}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bn(Pe.fromBase64String(e))}catch(i){throw new it(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new bn(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wr(e,bn._jsonSchema))return bn.fromBase64String(e.bytes)}}bn._jsonSchemaVersion="firestore/bytes/1.0",bn._jsonSchema={type:ye("string",bn._jsonSchemaVersion),bytes:ye("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new it(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ue(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new it(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new it(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(Wr(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:ye("string",ii._jsonSchemaVersion),latitude:ye("number"),longitude:ye("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wr(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Un(e.vectorValues);throw new it(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:ye("string",Un._jsonSchemaVersion),vectorValues:ye("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=/^__.*__$/;class oA{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ja(e,this.data,this.fieldMask,i,this.fieldTransforms):new fl(e,this.data,i,this.fieldTransforms)}}function Vy(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:r})}}class lf{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.validatePath(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return du(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Vy(this.dataSource)&&lA.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uA{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||ru(e)}createContext(e,i,s,o=!1){return new lf({dataSource:e,methodName:i,targetDoc:s,path:Ue.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oy(r){const e=r._freezeSettings(),i=ru(r._databaseId);return new uA(r._databaseId,!!e.ignoreUndefinedProperties,i)}function cA(r,e,i,s,o,h={}){const d=r.createContext(h.merge||h.mergeFields?2:0,e,i,o);ky("Data must be an object, but it was:",d,s);const p=jy(s,d);let v,_;if(h.merge)v=new kn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const A of h.mergeFields){const N=fu(e,A,i);if(!d.contains(N))throw new it(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);mA(b,N)||b.push(N)}v=new kn(b),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new oA(new Tn(p),v,_)}function hA(r,e,i,s=!1){return of(i,r.createContext(s?4:3,e))}function of(r,e){if(zy(r=Fa(r)))return ky("Unsupported field value:",e,r),jy(r,e);if(r instanceof My)return(function(s,o){if(!Vy(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const p of s){let v=of(p,o.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Fa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Kb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ne.fromDate(s);return{timestampValue:iu(o.serializer,h)}}if(s instanceof ne){const h=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:iu(o.serializer,h)}}if(s instanceof ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bn)return{bytesValue:Np(o.serializer,s._byteString)};if(s instanceof De){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ih(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Un)return(function(d,p){const v=d instanceof Un?d.toArray():d;return{mapValue:{fields:{[Ug]:{stringValue:Bg},[qo]:{arrayValue:{values:v.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Rh(p.serializer,b)}))}}}}}})(s,o);if(zp(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Oo(s)}`)})(r,e)}function jy(r,e){const i={};return Mg(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xa(r,((s,o)=>{const h=of(o,e.childContextForField(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function zy(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof ii||r instanceof bn||r instanceof De||r instanceof My||r instanceof Un||zp(r))}function ky(r,e,i){if(!zy(i)||!wg(i)){const s=Oo(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function fu(r,e,i){if((e=Fa(e))instanceof Iy)return e._internalPath;if(typeof e=="string")return dA(r,e);throw du("Field path arguments must be of type string or ",r,!1,void 0,i)}const fA=new RegExp("[~\\*/\\[\\]]");function dA(r,e,i){if(e.search(fA)>=0)throw du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Iy(...e.split("."))._internalPath}catch{throw du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function du(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new it(K.INVALID_ARGUMENT,p+r+v)}function mA(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{convertValue(e,i="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Xa(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[qo].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>fe(d.doubleValue)));return new Un(i)}convertGeoPoint(e){return new ii(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Uo(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(el(e));default:return null}}convertTimestamp(e){const i=aa(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Ht(jp(s),9688,{name:e});const o=new nl(s.get(1),s.get(3)),h=new ut(s.popFirst(5));return o.isEqual(i)||Ci(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends gA{constructor(e){super(),this.firestore=e}convertBytes(e){return new bn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}const Ly="@firebase/firestore",Uy="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(fu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class pA extends Py{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new it(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cf{}class hf extends cf{}function yA(r,e,...i){let s=[];e instanceof cf&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((v=>v instanceof df)).length,p=h.filter((v=>v instanceof ff)).length;if(d>1||d>0&&p>0)throw new it(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ff extends hf{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new ff(e,i,s)}_apply(e){const i=this._parse(e);return Gy(e._query,i),new Mi(e.firestore,e.converter,wh(e._query,i))}_parse(e){const i=Oy(e.firestore);return(function(h,d,p,v,_,b,A){let N;if(_.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new it(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Fy(A,b);const Z=[];for(const J of A)Z.push(Hy(v,h,J));N={arrayValue:{values:Z}}}else N=Hy(v,h,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Fy(A,b),N=hA(p,d,A,b==="in"||b==="not-in");return _e.create(_,b,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class df extends cf{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new df(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const p=h.getFlattenedFilters();for(const v of p)Gy(d,v),d=wh(d,v)})(e._query,i),new Mi(e.firestore,e.converter,wh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mf extends hf{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new mf(e,i)}_apply(e){const i=(function(o,h,d){if(o.startAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new it(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sl(h,d)})(e._query,this._field,this._direction);return new Mi(e.firestore,e.converter,Bb(e._query,i))}}function _A(r,e="asc"){const i=e,s=fu("orderBy",r);return mf._create(s,i)}class gf extends hf{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new gf(e,i,s)}_apply(e){return new Mi(e.firestore,e.converter,Qo(e._query,this._limit,this._limitType))}}function vA(r){return gf._create("limit",r,"F")}function Hy(r,e,i){if(typeof(i=Fa(i))=="string"){if(i==="")throw new it(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ip(e)&&i.indexOf("/")!==-1)throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ee.fromString(i));if(!ut.isDocumentKey(s))throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hg(r,new ut(s))}if(i instanceof De)return Hg(r,i._key);throw new it(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oo(i)}.`)}function Fy(r,e){if(!Array.isArray(r)||r.length===0)throw new it(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gy(r,e){const i=(function(o,h){for(const d of o)for(const p of d.getFlattenedFilters())if(h.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new it(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function EA(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class es extends Py{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(fu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=es._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}es._jsonSchemaVersion="firestore/documentSnapshot/1.0",es._jsonSchema={type:ye("string",es._jsonSchemaVersion),bundleSource:ye("string","DocumentSnapshot"),bundleName:ye("string"),bundle:ye("string")};class mu extends es{data(e={}){return super.data(e)}}class ns{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new vl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new mu(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new it(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new mu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new mu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:TA(p.type),doc:v,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new it(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ns._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns._jsonSchemaVersion="firestore/querySnapshot/1.0",ns._jsonSchema={type:ye("string",ns._jsonSchemaVersion),bundleSource:ye("string","QuerySnapshot"),bundleName:ye("string"),bundle:ye("string")};function bA(r){r=Ka(r,Mi);const e=Ka(r.firestore,_l),i=rf(e),s=new uf(e);return qy(r._query),WS(i,r._query).then((o=>new ns(e,s,r,o)))}function SA(r,e){const i=Ka(r.firestore,_l),s=aA(r),o=EA(r.converter,e),h=Oy(r.firestore);return xA(i,[cA(h,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ii.exists(!1))]).then((()=>s))}function AA(r,...e){var _,b,A;r=Fa(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||By(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(By(e[s])){const N=e[s];e[s]=(_=N.next)==null?void 0:_.bind(N),e[s+1]=(b=N.error)==null?void 0:b.bind(N),e[s+2]=(A=N.complete)==null?void 0:A.bind(N)}let h,d,p;if(r instanceof De)d=Ka(r.firestore,_l),p=xh(r._key.path),h={next:N=>{e[s]&&e[s](wA(d,r,N))},error:e[s+1],complete:e[s+2]};else{const N=Ka(r,Mi);d=Ka(N.firestore,_l),p=N._query;const P=new uf(d);h={next:Z=>{e[s]&&e[s](new ns(d,P,N,Z))},error:e[s+1],complete:e[s+2]},qy(r._query)}const v=rf(d);return JS(v,p,o,h)}function xA(r,e){const i=rf(r);return tA(i,e)}function wA(r,e,i){const s=i.docs.get(e._key),o=new uf(r);return new es(r,o,e._key,s,new vl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){tb(BT),Io(new Xr("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new _l(new ib(s.getProvider("auth-internal")),new rb(d,s.getProvider("app-check-internal")),Sb(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),ks(Ly,Uy,e),ks(Ly,Uy,"esm2020")})();const pf={apiKey:"",authDomain:"gen-lang-client-0278144585.firebaseapp.com",projectId:"gen-lang-client-0278144585",storageBucket:"gen-lang-client-0278144585.appspot.com",messagingSenderId:"278144585",appId:"1:278144585:web:strat-protocol-prod"};let is=null,RA=!1;try{if(pf.apiKey&&pf.apiKey!=="demo-key"){const r=PT().length?rg():sg(pf);is=sA(r),RA=!0,console.log("TTS Cloud Infrastructure: Connected to gen-lang-client-0278144585")}else console.log("TTS Cloud: Firebase not configured (demo mode)")}catch(r){console.error("TTS Cloud Infrastructure: Connection Failed",r)}const Qy="protocol_signals",NA="user_watchlist";async function CA(r){if(is)try{await SA(sf(is,Qy),{...r,timestamp:new Date().getTime(),origin:"TTS_FRONTEND",cloudVerified:!0})}catch(e){console.warn("TTS Cloud: Broadcast failed",e)}}function DA(r){if(!is)return r([]),()=>{};try{const e=yA(sf(is,Qy),_A("timestamp","desc"),vA(20));return AA(e,s=>{const o=s.docs.map(h=>({...h.data(),id:h.id}));r(o)},s=>{console.warn("TTS Cloud: Signal stream interrupted",s),r([])})}catch{return r([]),()=>{}}}async function IA(){if(!is)return null;try{const e=(await bA(sf(is,NA))).docs.find(i=>i.id==="global_user");return e?e.data().symbols:null}catch{return null}}const MA=({stocks:r})=>{const[e,i]=lt.useState([]),[s,o]=lt.useState(!0),[h,d]=lt.useState(!1);return lt.useEffect(()=>{const p=DA(v=>{i(v),o(!1)});return()=>p()},[]),lt.useEffect(()=>{const p=async()=>{if(!h){d(!0);try{const _=await oE(r);for(const b of _)await CA(b)}catch(_){console.error("AI Intel Generation Failed:",_)}finally{d(!1)}}},v=setInterval(p,6e5);return p(),()=>clearInterval(v)},[r.length]),s&&e.length===0?T.jsxs("div",{className:"bg-slate-900/50 border border-indigo-500/20 rounded-2xl p-6 flex flex-col items-center gap-4 animate-pulse",children:[T.jsx(Yr,{className:"w-8 h-8 text-indigo-500 animate-spin"}),T.jsx("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest",children:"Aenigma Protocol Handshake..."})]}):T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between px-1",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(tE,{className:"w-5 h-5 text-indigo-400"}),T.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-white italic",children:"Confluence Signal Feed"})]}),T.jsx("div",{className:"flex items-center gap-4",children:T.jsxs("div",{className:"text-[10px] font-black text-indigo-500 bg-indigo-500/10 px-2 py-0.5 rounded border border-indigo-500/20 uppercase tracking-tighter flex items-center gap-1",children:[T.jsx(Rm,{className:"w-2.5 h-2.5"}),"Global Sync"]})})]}),T.jsx("div",{className:"flex gap-6 overflow-x-auto pb-6 no-scrollbar snap-x",children:e.map((p,v)=>{const _=p.protocol==="CONFLUENCE",b=p.protocol==="AENIGMA";return T.jsxs("div",{className:`min-w-[340px] bg-slate-900 border rounded-2xl p-5 hover:scale-[1.02] transition-all cursor-default group relative overflow-hidden shadow-xl snap-start ${_?"border-emerald-500/40":"border-slate-800"}`,children:[T.jsx("div",{className:`absolute bottom-0 left-0 h-1 transition-all duration-1000 ${_?"bg-emerald-500":"bg-indigo-500"}`,style:{width:`${p.probability}%`}}),T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg ${p.direction==="Long"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-rose-500/10 text-rose-400 border border-rose-500/20"}`,children:p.symbol}),T.jsxs("div",{children:[T.jsx("div",{className:"text-base font-black text-white uppercase tracking-tight flex items-center gap-2",children:p.pattern}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("div",{className:`text-[9px] font-black uppercase tracking-widest flex items-center gap-1 ${p.direction==="Long"?"text-emerald-500":"text-rose-500"}`,children:[p.direction," Setup"]}),T.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded font-black border uppercase ${_?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":b?"bg-amber-500/10 border-amber-500/30 text-amber-400":"bg-indigo-500/10 border-indigo-500/30 text-indigo-400"}`,children:p.protocol||"TTS"})]})]})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("div",{className:"text-2xl font-black text-slate-200 leading-none",children:[p.probability,"%"]}),T.jsx("div",{className:"text-[8px] font-bold text-slate-500 uppercase tracking-widest",children:"Conf Score"})]})]}),T.jsx("div",{className:"bg-slate-950/50 rounded-xl p-3 border border-slate-800 mb-4 min-h-[60px]",children:T.jsx("p",{className:"text-[11px] text-slate-300 font-medium leading-relaxed",children:p.reasoning})}),T.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-800/50",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(Mm,{className:"w-3.5 h-3.5 text-indigo-500"}),T.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Target:"}),T.jsx("span",{className:"text-[11px] font-mono font-black text-white",children:p.target})]}),T.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] font-black text-slate-600 uppercase",children:[T.jsx(Nm,{className:"w-3 h-3"}),"Protocol Verified"]})]})]},`${p.symbol}-${v}`)})})]})},VA=()=>{const[r,e]=lt.useState(!1),[i,s]=lt.useState(!1),[o,h]=lt.useState([{role:"model",text:"Welcome to TTS. I am your Strat Mentor. How can I help you find the objective truth in price action today?"}]),[d,p]=lt.useState(""),[v,_]=lt.useState(!1),b=lt.useRef(null),A=lt.useRef(null);lt.useEffect(()=>{r&&!b.current&&(b.current={sendMessage:cE,clear:qm})},[r]),lt.useEffect(()=>()=>{qm()},[]),lt.useEffect(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[o]);const N=async()=>{if(!d.trim()||v)return;const P=d.trim();p(""),h(Z=>[...Z,{role:"user",text:P}]),_(!0);try{const Z=await b.current.sendMessage(P);h(J=>[...J,{role:"model",text:Z}])}catch{h(J=>[...J,{role:"model",text:"Connectivity lost. Check your FTFC or API key."}])}finally{_(!1)}};return r?T.jsxs("div",{className:`fixed bottom-8 right-8 w-96 ${i?"h-14":"h-[550px]"} bg-slate-900 border border-slate-800 rounded-2xl shadow-2xl flex flex-col z-50 transition-all overflow-hidden`,children:[T.jsxs("div",{className:"p-4 bg-slate-800 border-b border-slate-700 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"bg-indigo-500/20 p-1.5 rounded-lg",children:T.jsx(V1,{className:"w-5 h-5 text-indigo-400"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-sm font-bold text-white",children:"TTS Strat Mentor"}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),T.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Online"})]})]})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("button",{onClick:()=>s(!i),className:"p-1.5 hover:bg-slate-700 rounded-lg text-slate-400",children:i?T.jsx(Q1,{className:"w-4 h-4"}):T.jsx(K1,{className:"w-4 h-4"})}),T.jsx("button",{onClick:()=>e(!1),className:"p-1.5 hover:bg-rose-500/20 hover:text-rose-400 rounded-lg text-slate-400",children:T.jsx(Om,{className:"w-4 h-4"})})]})]}),!i&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{ref:A,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-950/20",children:[o.map((P,Z)=>T.jsx("div",{className:`flex ${P.role==="user"?"justify-end":"justify-start"}`,children:T.jsx("div",{className:`max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed shadow-sm ${P.role==="user"?"bg-indigo-600 text-white rounded-tr-none":"bg-slate-800 text-slate-200 rounded-tl-none border border-slate-700"}`,children:P.text})},Z)),v&&T.jsx("div",{className:"flex justify-start",children:T.jsxs("div",{className:"bg-slate-800 p-3 rounded-2xl rounded-tl-none border border-slate-700 flex gap-2",children:[T.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce"}),T.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:0.2s]"}),T.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-bounce [animation-delay:0.4s]"})]})})]}),T.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800",children:[T.jsxs("form",{onSubmit:P=>{P.preventDefault(),N()},className:"relative",children:[T.jsx("input",{type:"text",value:d,onChange:P=>p(P.target.value),placeholder:"Ask your Mentor about a setup...",className:"w-full bg-slate-800 border border-slate-700 rounded-xl py-3 pl-4 pr-12 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all"}),T.jsx("button",{type:"submit",disabled:!d.trim()||v,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-indigo-600 text-white rounded-lg disabled:opacity-50 disabled:bg-slate-700",children:T.jsx(J1,{className:"w-4 h-4"})})]}),T.jsx("p",{className:"text-[10px] text-slate-600 text-center mt-3 font-medium",children:"Powered by Kimi AI Intelligence"})]})]})]}):T.jsxs("button",{onClick:()=>e(!0),className:"fixed bottom-8 right-8 w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-2xl shadow-indigo-600/40 hover:scale-110 active:scale-95 transition-all z-50 border-2 border-indigo-400/30",children:[T.jsx(Y1,{className:"w-6 h-6"}),T.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-slate-950 animate-pulse"})]})},El=()=>{const r=[Je.Type1,Je.Type2U,Je.Type2D,Je.Type3];return r[Math.floor(Math.random()*r.length)]},ue=()=>({monthly:El(),weekly:El(),daily:El(),h4:El(),h1:El()}),OA=r=>{const e=Object.values(r),i=e.filter(o=>o===Je.Type2U).length,s=e.filter(o=>o===Je.Type2D).length;return i>=3?"Bullish":s>=3?"Bearish":"Mixed"},Yy=[{symbol:"AAPL",price:180,openPrice:181,change:-1,changePercent:-.5,timeframes:ue(),ftfc:"Bearish",pattern:"Inside Bar (W)",volume:"55M",category:"Watchlist"},{symbol:"MSFT",price:410,openPrice:405,change:5,changePercent:1.2,timeframes:ue(),ftfc:"Bullish",pattern:"2-2 Reversal Up",volume:"22M",category:"Watchlist"},{symbol:"GOOGL",price:155,openPrice:153,change:2,changePercent:1.3,timeframes:ue(),ftfc:"Bullish",pattern:"2-1-2 Cont (D)",volume:"28M",category:"Watchlist"},{symbol:"AMZN",price:175,openPrice:174,change:1,changePercent:.6,timeframes:ue(),ftfc:"Bullish",pattern:"1-2 Cont Up",volume:"33M",category:"Watchlist"},{symbol:"META",price:490,openPrice:485,change:5,changePercent:1,timeframes:ue(),ftfc:"Bullish",pattern:"3-2 Reversal",volume:"18M",category:"Watchlist"},{symbol:"TSLA",price:170,openPrice:175,change:-5,changePercent:-2.8,timeframes:ue(),ftfc:"Bearish",pattern:"2-2 Rev Down",volume:"95M",category:"Watchlist"},{symbol:"NVDA",price:900,openPrice:880,change:20,changePercent:2.2,timeframes:ue(),ftfc:"Bullish",pattern:"Broadening 3",volume:"45M",category:"Watchlist"},{symbol:"AMD",price:185,openPrice:182,change:3,changePercent:1.6,timeframes:ue(),ftfc:"Bullish",pattern:"2-2 Reversal Up",volume:"40M",category:"Watchlist"},{symbol:"SMCI",price:1100,openPrice:1050,change:50,changePercent:4.7,timeframes:ue(),ftfc:"Bullish",pattern:"Gap and Go 2",volume:"12M",category:"Watchlist"},{symbol:"PLTR",price:25,openPrice:24,change:1,changePercent:4.1,timeframes:ue(),ftfc:"Bullish",pattern:"Strat Breakout",volume:"65M",category:"Watchlist"},{symbol:"SPY",price:515,openPrice:512,change:3,changePercent:.6,timeframes:ue(),ftfc:"Bullish",pattern:"Market Bias Up",volume:"70M",category:"Indices"},{symbol:"QQQ",price:440,openPrice:435,change:5,changePercent:1.1,timeframes:ue(),ftfc:"Bullish",pattern:"Tech Strength",volume:"50M",category:"Indices"},{symbol:"DIA",price:390,openPrice:389,change:1,changePercent:.3,timeframes:ue(),ftfc:"Bullish",pattern:"Value Hold",volume:"5M",category:"Indices"},{symbol:"IWM",price:205,openPrice:207,change:-2,changePercent:-.9,timeframes:ue(),ftfc:"Bearish",pattern:"Small Cap 2-2",volume:"25M",category:"Indices"},{symbol:"VIX",price:14.5,openPrice:15,change:-.5,changePercent:-3.3,timeframes:ue(),ftfc:"Mixed",pattern:"Volatility Crush",volume:"1M",category:"Indices"},{symbol:"GLD",price:200,openPrice:198,change:2,changePercent:1,timeframes:ue(),ftfc:"Bullish",pattern:"Safe Haven 2",volume:"8M",category:"Metals"},{symbol:"SLV",price:23.5,openPrice:23,change:.5,changePercent:2.1,timeframes:ue(),ftfc:"Bullish",pattern:"Metal 2-1-2",volume:"15M",category:"Metals"},{symbol:"GDX",price:30.2,openPrice:29.8,change:.4,changePercent:1.3,timeframes:ue(),ftfc:"Bullish",pattern:"Mining Rev",volume:"10M",category:"Metals"},{symbol:"MNQ",price:18200,openPrice:18150,change:50,changePercent:.28,timeframes:ue(),ftfc:"Bullish",pattern:"FVG Entry",volume:"2M",category:"Futures",midnightOpen:18180},{symbol:"MES",price:5120,openPrice:5100,change:20,changePercent:.39,timeframes:ue(),ftfc:"Bullish",pattern:"Judas Swing",volume:"1.5M",category:"Futures",midnightOpen:5110},{symbol:"MGC",price:2180,openPrice:2170,change:10,changePercent:.46,timeframes:ue(),ftfc:"Bullish",pattern:"Silver Bullet",volume:"800K",category:"Futures",midnightOpen:2175},{symbol:"SIL",price:24.5,openPrice:24.2,change:.3,changePercent:1.24,timeframes:ue(),ftfc:"Bullish",pattern:"London Killzone",volume:"400K",category:"Futures",midnightOpen:24.3},{symbol:"M2K",price:2050,openPrice:2060,change:-10,changePercent:-.48,timeframes:ue(),ftfc:"Bearish",pattern:"Turtle Soup",volume:"300K",category:"Futures",midnightOpen:2055}];Yy.forEach(r=>{r.ftfc=OA(r.timeframes)});const gu="d5q8pd9r01qq2b6b62vgd5q8pd9r01qq2b6b6300",ai="pjbKFGFqn9p_OD4CDL26slB4qm5KuRla",si=new Map;class jA{constructor(){hn(this,"handlers",new Set);hn(this,"statusHandlers",new Set);hn(this,"intervalId",null);hn(this,"socket",null);hn(this,"isLiveConnection",!1);hn(this,"lastMessageTime",0);hn(this,"reconnectAttempts",0);hn(this,"maxReconnectAttempts",10);hn(this,"currentProvider","simulation");hn(this,"isAuthenticated",!1);hn(this,"FINNHUB_WS_URL","wss://ws.finnhub.io");hn(this,"MASSIVE_WS_URL","wss://socket.massive.com/stocks");hn(this,"allSymbols",["AAPL","MSFT","GOOGL","AMZN","META","TSLA","NVDA","AMD","SMCI","PLTR","SPY","QQQ","DIA","IWM","VIX","GLD","SLV","GDX","MNQ","MES","MGC","SIL","M2K"]);this.startSilentMonitor()}onStatusChange(e){this.statusHandlers.add(e)}updateStatus(e){this.statusHandlers.forEach(i=>i(e))}getCachedPrice(e){return si.get(e)}getAllCachedPrices(){return Object.fromEntries(si)}startSilentMonitor(){window.setInterval(()=>{this.isLiveConnection&&this.lastMessageTime>0&&Date.now()-this.lastMessageTime>2e4&&(this.updateStatus("silent"),this.reconnect())},1e4)}connectToLiveProvider(e="rest"){if(this.reconnectAttempts=0,this.currentProvider=e,e==="rest"||e==="massive"){console.log("Using REST API fallback (Yahoo Finance)"),this.startRestApiFallback();return}e==="massive"&&ai?this.initiateMassiveConnection():this.initiateFinnhubConnection()}initiateMassiveConnection(){if(this.socket)try{this.socket.close()}catch{}console.log("Attempting MASSIVE connection...",{hasKey:!0,keyLength:ai==null?void 0:ai.length}),this.updateStatus("connecting"),this.currentProvider="massive",this.isAuthenticated=!1;try{const e=ai?`${this.MASSIVE_WS_URL}?apiKey=${ai}`:`${this.MASSIVE_WS_URL}`;console.log("Connecting to:",this.MASSIVE_WS_URL),this.socket=new WebSocket(e),this.socket.onopen=()=>{var o;console.log("MASSIVE WebSocket connected successfully");const i=JSON.stringify({type:"auth",apiKey:ai}),s=JSON.stringify({action:"login",apiKey:ai});console.log("Sending auth messages..."),ai&&((o=this.socket)==null||o.send(i),setTimeout(()=>{var h;return(h=this.socket)==null?void 0:h.send(s)},100)),setTimeout(()=>{var h;if(((h=this.socket)==null?void 0:h.readyState)===WebSocket.OPEN){console.log("Subscribing to symbols:",this.allSymbols.length);const d=JSON.stringify({ev:"T",symbols:this.allSymbols});console.log("Sending trade subscription:",d),this.socket.send(d),setTimeout(()=>{var p;if(((p=this.socket)==null?void 0:p.readyState)===WebSocket.OPEN){const v=JSON.stringify({ev:"Q",symbols:this.allSymbols});console.log("Sending quote subscription:",v),this.socket.send(v)}},500),setTimeout(()=>{var p;((p=this.socket)==null?void 0:p.readyState)===WebSocket.OPEN&&this.allSymbols.forEach((v,_)=>{setTimeout(()=>{var b;((b=this.socket)==null?void 0:b.readyState)===WebSocket.OPEN&&this.socket.send(JSON.stringify({ev:"T",symbol:v}))},_*50)})},1e3)}},500)},this.socket.onmessage=i=>{try{const s=JSON.parse(i.data),o=Array.isArray(s)?s:[s];for(const h of o){if(console.log("MASSIVE message:",JSON.stringify(h)),this.lastMessageTime=Date.now(),h.ev==="status"||h.type==="status"||h.event==="status"){console.log("MASSIVE status:",h.message||h.status),(h.status==="connected"||h.status==="success")&&(this.isLiveConnection=!0,this.updateStatus("connected"),this.stopSimulation());continue}if(h.type==="auth"||h.type==="login"||h.action==="login"){h.status==="success"||h.success===!0||h.authenticated===!0?(console.log("MASSIVE auth successful"),this.isAuthenticated=!0,this.isLiveConnection=!0,this.reconnectAttempts=0,this.updateStatus("connected"),this.stopSimulation()):console.error("MASSIVE auth failed:",h.message||h.error||"Unknown error");continue}if(h.type==="subscribe"||h.type==="subscribed"||h.ev==="subscribe"){console.log("Subscription confirmed:",h.symbol||h.s);continue}if(h.ev==="T"||h.event==="trade"||h.type==="trade"){const b=h.sym||h.symbol||h.s||h.ticker,A=h.p||h.price||h.lp||h.last,N=h.change||0,P=h.changePercent||0;b&&A&&(console.log(`MASSIVE trade: ${b} @ $${A}`),si.set(b,{price:Number(A),change:Number(N),changePercent:Number(P),timestamp:Date.now()}),this.handlers.forEach(Z=>Z(b,Number(A),0)));continue}if(h.ev==="Q"||h.event==="quote"||h.type==="quote"){const b=h.sym||h.symbol||h.s,A=h.p||h.price||h.ap||h.bp;b&&A&&(console.log(`MASSIVE quote: ${b} @ $${A}`),si.set(b,{price:Number(A),change:0,changePercent:0,timestamp:Date.now()}),this.handlers.forEach(N=>N(b,Number(A),0)));continue}const d=h.symbol||h.s||h.ticker||h.sym,p=h.price||h.p||h.last||h.c||h.lp||h.value,v=h.change||h.d||h.ch||0,_=h.changePercent||h.dp||h.chp||h.pChange||0;d&&p&&typeof p=="number"?(console.log(`MASSIVE trade: ${d} @ $${p}`),si.set(d,{price:p,change:v,changePercent:_,timestamp:Date.now()}),this.handlers.forEach(b=>b(d,p,0))):h.trades&&Array.isArray(h.trades)?h.trades.forEach(b=>{const A=b.symbol||b.s||b.ticker,N=b.price||b.p||b.last||b.c,P=b.change||b.d||0,Z=b.changePercent||b.dp||0;A&&N&&(si.set(A,{price:N,change:P,changePercent:Z,timestamp:Date.now()}),this.handlers.forEach(J=>J(A,N,0)))}):h.quotes&&Array.isArray(h.quotes)&&h.quotes.forEach(b=>{const A=b.symbol||b.s||b.ticker,N=b.price||b.p||b.c||b.last;A&&N&&(si.set(A,{price:N,change:b.change||0,changePercent:b.changePercent||0,timestamp:Date.now()}),this.handlers.forEach(P=>P(A,N,0)))})}}catch(s){console.error("Error parsing MASSIVE WebSocket message:",s)}},this.socket.onerror=i=>{console.error("MASSIVE WebSocket error:",i),this.isLiveConnection=!1,this.isAuthenticated=!1,this.updateStatus("error"),gu&&(console.log("MASSIVE error, falling back to Finnhub"),this.initiateFinnhubConnection())},this.socket.onclose=i=>{console.log("MASSIVE WebSocket closed:",{code:i.code,reason:i.reason,wasClean:i.wasClean}),this.isLiveConnection=!1,this.isAuthenticated=!1,this.reconnectAttempts<this.maxReconnectAttempts?this.reconnect():(this.updateStatus("disconnected"),this.startSimulation())}}catch(e){console.error("Error creating MASSIVE WebSocket:",e),this.initiateFinnhubConnection()}}initiateFinnhubConnection(){if(this.socket)try{this.socket.close()}catch{}this.updateStatus("connecting"),this.currentProvider="finnhub";try{const e=`${this.FINNHUB_WS_URL}?token=${gu}`;console.log("Connecting to Finnhub:",e),this.socket=new WebSocket(e),this.socket.onopen=()=>{console.log("Finnhub WebSocket connected"),this.isLiveConnection=!0,this.reconnectAttempts=0,this.lastMessageTime=Date.now(),this.updateStatus("connected"),this.stopSimulation(),this.allSymbols.forEach(i=>{var s;(s=this.socket)==null||s.send(JSON.stringify({type:"subscribe",symbol:i}))})},this.socket.onmessage=i=>{try{const s=JSON.parse(i.data);s.type==="trade"&&(this.lastMessageTime=Date.now(),s.data.forEach(o=>{const h=o.s,d=o.p,p=si.get(h),v=p?d-p.price:0,_=p&&p.price>0?v/p.price*100:0;si.set(h,{price:d,change:v,changePercent:_,timestamp:Date.now()}),this.handlers.forEach(b=>b(h,d,0))}))}catch(s){console.error("Error parsing Finnhub WebSocket message:",s)}},this.socket.onerror=i=>{console.error("Finnhub WebSocket error:",i),this.isLiveConnection=!1,this.updateStatus("error"),this.reconnect()},this.socket.onclose=i=>{console.log("Finnhub WebSocket closed:",{code:i.code,reason:i.reason}),this.isLiveConnection=!1,this.reconnectAttempts<this.maxReconnectAttempts?this.reconnect():(this.updateStatus("disconnected"),this.startSimulation())}}catch(e){console.error("Error creating Finnhub WebSocket:",e),this.reconnect()}}reconnect(){this.reconnectAttempts++,console.log(`Reconnecting... attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts}`),setTimeout(()=>{this.isLiveConnection||(this.currentProvider==="massive"&&gu?(console.log("Retrying with Finnhub..."),this.initiateFinnhubConnection()):this.currentProvider==="finnhub"&&ai?(console.log("Retrying with MASSIVE..."),this.initiateMassiveConnection()):this.currentProvider==="massive"?this.initiateMassiveConnection():this.initiateFinnhubConnection())},2e3)}subscribe(e){this.handlers.add(e),!this.intervalId&&!this.isLiveConnection&&this.startSimulation()}unsubscribe(e){this.handlers.delete(e)}stopSimulation(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null)}startSimulation(){this.isLiveConnection||this.intervalId||(this.currentProvider="simulation",this.updateStatus("disconnected"),this.intervalId=window.setInterval(()=>{this.handlers.forEach(e=>{const i=this.allSymbols[Math.floor(Math.random()*this.allSymbols.length)];e(i,0,Math.random()*.001-5e-4)})},1e3))}getCurrentProvider(){return this.currentProvider}async fetchFinnhubPrices(e){try{const i=[];for(const s of e)try{const o=await fetch(`https://finnhub.io/api/v1/quote?symbol=${s}&token=${gu}`);if(!o.ok){if(o.status===429){console.warn(`Rate limit hit for ${s}, waiting...`),await new Promise(d=>setTimeout(d,1e3));continue}continue}const h=await o.json();if(h&&h.c){const d=h.c,p=h.pc,v=d-p,_=p>0?v/p*100:0;si.set(s,{price:d,change:v,changePercent:_,timestamp:Date.now()}),this.handlers.forEach(b=>b(s,d,0)),i.push({symbol:s,price:d,change:v,changePercent:_})}await new Promise(d=>setTimeout(d,100))}catch(o){console.error(`Error fetching ${s} from Finnhub:`,o)}return i.length>0&&(this.updateStatus("connected"),console.log(`Fetched ${i.length} prices from Finnhub`)),i}catch(i){return console.error("Error fetching Finnhub prices:",i),[]}}startRestApiFallback(){this.intervalId||(console.log("Starting REST API fallback (Finnhub)"),this.currentProvider="finnhub_rest",this.updateStatus("connecting"),this.fetchFinnhubPrices(this.allSymbols),this.intervalId=window.setInterval(()=>{this.fetchFinnhubPrices(this.allSymbols)},6e4))}}const tr=new jA,zA=()=>{const[r,e]=lt.useState(Yy),[i,s]=lt.useState(void 0),[o,h]=lt.useState("scanner"),[d,p]=lt.useState(!0),[v,_]=lt.useState("disconnected"),[b,A]=lt.useState(null),[N,P]=lt.useState(!1),[Z,J]=lt.useState(!1),[nt,mt]=lt.useState(null);lt.useEffect(()=>{(async()=>{console.log("Initializing data with REST API fallback...");try{P(!0),mt(null),await IA(),tr.onStatusChange(w=>{console.log("Connection status:",w),_(w)}),tr.startRestApiFallback(),setTimeout(()=>{const w=tr.getAllCachedPrices();console.log("Cached prices:",w),Object.keys(w).length>0&&e(O=>O.map(I=>{const j=w[I.symbol];return j?{...I,price:j.price,change:j.change,changePercent:j.changePercent}:I})),P(!1),setTimeout(()=>J(!0),1e3)},2e3)}catch(w){mt(w instanceof Error?w.message:"Failed to initialize data"),P(!1)}})()},[]);const gt=lt.useCallback((x,w,O)=>{e(I=>I.map(j=>{if(j.symbol===x){const R=w>0?w:j.price*(1+O),Wt=R-(j.openPrice||R);return{...j,price:R,change:Wt,changePercent:j.openPrice?Wt/j.openPrice*100:0}}return j})),A(new Date().toLocaleTimeString())},[]);lt.useEffect(()=>(d?tr.subscribe(gt):tr.unsubscribe(gt),()=>tr.unsubscribe(gt)),[d,gt]);const Bt=(()=>{if(N)return{label:"SYNCING INFRA...",color:"text-indigo-400",icon:T.jsx(wo,{className:"w-3 h-3 animate-spin"})};switch(v){case"cloud_active":return{label:"CLOUD-NODE ACTIVE",color:"text-emerald-400",icon:T.jsx(U1,{className:"w-3 h-3"})};case"connected":return{label:"LIVE FEED (FINNHUB)",color:"text-sky-400",icon:T.jsx(Vm,{className:"w-3 h-3"})};case"reconnecting":return{label:"HANDSHAKING...",color:"text-amber-500",icon:T.jsx(wo,{className:"w-3 h-3 animate-spin"})};case"error":return{label:"PROTO ERROR",color:"text-rose-500",icon:T.jsx(Yr,{className:"w-3 h-3"})};default:return{label:"OFFLINE",color:"text-slate-500",icon:T.jsx(Vm,{className:"w-3 h-3 opacity-20"})}}})(),Ft=lt.useMemo(()=>r.filter(x=>x.category==="Watchlist"),[r]),zt=lt.useMemo(()=>r.filter(x=>x.category==="Indices"),[r]),D=lt.useMemo(()=>r.filter(x=>x.category==="Futures"),[r]);return T.jsxs("div",{className:"min-h-screen flex bg-slate-950 text-slate-200 selection:bg-indigo-500/30",children:[T.jsxs("aside",{className:"w-16 md:w-20 bg-slate-900 border-r border-slate-800 flex flex-col items-center py-6 gap-8 z-50",children:[T.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-600/20",children:T.jsx(Yr,{className:"w-6 h-6 text-white"})}),T.jsxs("nav",{className:"flex flex-col gap-6",children:[T.jsx("button",{onClick:()=>h("scanner"),className:`p-3 rounded-xl ${o==="scanner"?"bg-indigo-500/10 text-indigo-400":"text-slate-500"}`,children:T.jsx(G1,{className:"w-6 h-6"})}),T.jsx("button",{onClick:()=>h("rules"),className:`p-3 rounded-xl ${o==="rules"?"bg-indigo-500/10 text-indigo-400":"text-slate-500"}`,children:T.jsx(B1,{className:"w-6 h-6"})}),T.jsx("button",{onClick:()=>h("education"),className:`p-3 rounded-xl ${o==="education"?"bg-indigo-500/10 text-indigo-400":"text-slate-500"}`,children:T.jsx(Cm,{className:"w-6 h-6"})})]})]}),T.jsxs("main",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[T.jsxs("header",{className:"h-16 border-b border-slate-800 flex items-center justify-between px-8 bg-slate-950/80 backdrop-blur-xl",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("h1",{className:"text-xl font-black tracking-tighter text-white uppercase italic strat-glow leading-none",children:["TTS",T.jsx("span",{className:"text-indigo-500 ml-1",children:"Cloud"})]}),T.jsx("div",{className:"flex items-center gap-2 mt-1",children:T.jsxs("span",{className:`text-[9px] font-black ${Bt.color} uppercase tracking-[0.2em] flex items-center gap-1`,children:[Bt.icon," ",Bt.label," ",b?`| ${b}`:""]})})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[10px] font-black text-slate-500 uppercase",children:[T.jsx(Rm,{className:"w-3 h-3"}),"ID: gen-lang-client-0278144585"]}),T.jsx("button",{onClick:()=>p(!d),className:`px-5 py-1.5 rounded-full text-[10px] font-black transition-all uppercase tracking-widest border ${d?"bg-rose-500/10 border-rose-500/30 text-rose-400":"bg-emerald-500/10 border-emerald-500/30 text-emerald-400"}`,children:d?"Disconnect":"Connect"})]})]}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:[nt&&T.jsx("div",{className:"max-w-[1600px] mx-auto mb-4 p-4 bg-rose-500/10 border border-rose-500/30 rounded-lg",children:T.jsx("p",{className:"text-rose-400 text-sm font-medium",children:nt})}),T.jsx("div",{className:"max-w-[1600px] mx-auto space-y-8 pb-20",children:o==="scanner"&&T.jsxs(T.Fragment,{children:[T.jsx(fE,{stocks:r}),T.jsx(MA,{stocks:r}),Z&&T.jsx(dE,{stocks:r}),T.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"xl:col-span-3 space-y-12",children:[T.jsx(jm,{stocks:Ft,onSelect:s,selectedSymbol:i==null?void 0:i.symbol,title:"Cloud Watchlist",subtitle:"Aggregated Real-Time Intelligence",icon:T.jsx(Ro,{className:"w-5 h-5 text-indigo-400"})}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[T.jsx(jm,{stocks:zt,onSelect:s,title:"Global Indices",subtitle:"Broad Market Context",icon:T.jsx(z1,{className:"w-5 h-5 text-emerald-400"})}),T.jsx(mE,{futures:D})]})]}),T.jsx("div",{className:"xl:col-span-1",children:T.jsx("div",{className:"sticky top-4",children:T.jsx(hE,{stock:i})})})]})]})})]}),T.jsx(VA,{})]})]})},kA=({error:r})=>T.jsxs("div",{style:{padding:"20px",color:"#f8fafc",background:"#020617",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"Inter, sans-serif"},children:[T.jsx("h1",{style:{color:"#ef4444",marginBottom:"16px"},children:" Application Error"}),T.jsx("pre",{style:{background:"#1e293b",padding:"16px",borderRadius:"8px",maxWidth:"800px",overflow:"auto"},children:r.message}),T.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"12px 24px",background:"#6366f1",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Reload Page"})]}),LA=()=>T.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#020617",color:"#f8fafc",fontFamily:"Inter, sans-serif"},children:[T.jsx("div",{style:{width:"48px",height:"48px",border:"3px solid #1e293b",borderTop:"3px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite"}}),T.jsx("style",{children:`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `}),T.jsx("p",{style:{marginTop:"16px",fontSize:"14px",color:"#64748b"},children:"Loading TTS Cloud..."})]}),UA=()=>{const[r,e]=lt.useState(null),[i,s]=lt.useState(!0);return lt.useEffect(()=>{const o=setTimeout(()=>{s(!1)},500);return()=>clearTimeout(o)},[]),r?T.jsx(kA,{error:r}):i?T.jsx(LA,{}):T.jsx(y1.StrictMode,{children:T.jsx(zA,{})})};document.addEventListener("DOMContentLoaded",()=>{console.log("DOM ready, initializing TTS Cloud..."),window.onerror=(e,i,s,o,h)=>{console.error("Global error:",{message:e,source:i,lineno:s,colno:o,error:h});const d=document.getElementById("root");d&&(d.innerHTML=`<div style="padding:20px;color:red;background:#000;min-height:100vh;">
        <h1>JavaScript Error</h1>
        <pre>${e}</pre>
        <pre>Source: ${i}</pre>
        <pre>Line: ${s}</pre>
      </div>`)},window.onunhandledrejection=e=>{console.error("Unhandled promise rejection:",e.reason);const i=document.getElementById("root");i&&(i.innerHTML=`<div style="padding:20px;color:red;background:#000;min-height:100vh;">
        <h1>Promise Error</h1>
        <pre>${e.reason}</pre>
      </div>`)};const r=document.getElementById("root");if(!r)throw document.body.innerHTML='<div style="padding:20px;color:red;">Error: Could not find root element</div>',new Error("Could not find root element to mount to");r.innerHTML='<div style="padding:20px;color:white;background:#020617;min-height:100vh;display:flex;align-items:center;justify-content:center;">Initializing TTS Cloud...</div>',console.log("Starting React app...");try{x1.createRoot(r).render(T.jsx(UA,{})),console.log("React app mounted successfully")}catch(e){console.error("Failed to mount React app:",e),r.innerHTML=`<div style="padding:20px;color:red;background:#000;min-height:100vh;">
      <h1>Mount Error</h1>
      <pre>${e instanceof Error?e.message:String(e)}</pre>
    </div>`}})})();
